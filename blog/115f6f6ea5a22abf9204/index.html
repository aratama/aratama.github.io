<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@cubbit2"><meta name="twitter:creator" content="@cubbit2"><meta name="twitter:title" content="Redux先輩ミーリマシン説 - ちょっと小さいのはたしかですが。"><meta name="twitter:description"><meta name="twitter:image"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="icon.png"><link rel="stylesheet" href="/res/reset.css"><link rel="stylesheet" href="/res/style.css"><title>Redux先輩ミーリマシン説 - ちょっと小さいのはたしかですが。</title><script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-61162129-3', 'auto');
                ga('send', 'pageview');
            </script></head><body><header><div class="sns"><a target="_blank" href="https://twitter.com/intent/tweet?text=undefined%20https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204"><img src="/res/twitter.png"></a><a target="_brank" href="http://www.facebook.com/sharer.php?u=https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204&amp;t=undefined"><img src="/res/facebook.png"></a><a target="_brank" href="https://plus.google.com/share?url=https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204"><img src="/res/google.png"></a><a target="_brank" href="http://b.hatena.ne.jp/entry/https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204"><img src="/res/hatena.png"></a><a target="_brank" href="http://getpocket.com/edit?url=https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204&amp;title=undefined&quot;"><img src="/res/pocket.png"></a></div><div class="block-centered"><div class="site-title"><a href="/">Admittedly <wbr>something <wbr>small.</a></div><div class="sub-title">ちょっと<wbr>小さいのは<wbr>たしかですが。</div></div></header><div class="content"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/res/article.css"><article id="rendered"><div class="date">2017年1月18日</div><h1 class="article-title"><a href=".">Redux先輩ミーリマシン説</a></h1><p class="tags"><a href="/blog/tag/JavaScript"><span class="tag"><i class="fa fa-tag"></i>JavaScript</span></a><a href="/blog/tag/flux"><span class="tag"><i class="fa fa-tag"></i>flux</span></a><a href="/blog/tag/Elm"><span class="tag"><i class="fa fa-tag"></i>Elm</span></a><a href="/blog/tag/redux"><span class="tag"><i class="fa fa-tag"></i>redux</span></a><a href="/blog/tag/redux-saga"><span class="tag"><i class="fa fa-tag"></i>redux-saga</span></a></p><hr><div><p><blockquote class="twitter-tweet" data-conversation="none" data-lang="ja"><p lang="en" dir="ltr"><a href="https://twitter.com/YassineElouafi2">@YassineElouafi2</a> Redux seen as a mealy machine: reducers compute next state, while Sagas compute next Effect</p>&mdash; Yassine Elouafi (@YassineElouafi2) <a href="https://twitter.com/YassineElouafi2/status/702078607812861952">2016年2月23日</a></blockquote></p><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>ここ数日、Reduxとはなんぞやということについてさんっざん検索して調べまわっていました。ふと<a href="https://ja.wikipedia.org/wiki/%E3%83%9F%E3%83%BC%E3%83%AA%E3%83%BB%E3%83%9E%E3%82%B7%E3%83%B3">ミーリ・マシン</a>っぽいなと思って&quot;Redux Mealy Machine&quot;でググり、Redux-sagaの中の人のこのツイートにたどり着いて、ようやくストンと腑に落ちました。<a href="http://qiita.com/inamiy/items/293869e223d44848f9c9">参考1</a>。<a href="http://qiita.com/shinout/items/4a7f67275c3ad887d98d">参考２</a></p><p>ReduxでReducerの中で作用を使うなとかActionCreatorを純粋にしろとか言われてどうすりゃいいんだよウッセーなお前はおれのかーちゃんかよって思った人は多いでしょう。Reduxが何なのか理解できていないと、Reduxが要求する制限や規則は単に窮屈で複雑、難解なだけです。でもReduxが何を表現しているのかがわかったら、あのような厄介な規則もとたんに前向きに受け入れられるようになりました。</p><p>Reduxとは何か。<strong>Reduxはミーリ・マシンだ</strong>。アプリケーションから状態遷移の部分のみを切り離して抽象化した、有限状態機械だ。Actionとは入力記号$\rm Σ$であり、Reducerとは状態遷移関数$\rm S × Σ → S$だ。Reduxは状態遷移のみを取り扱う純粋な機械であり、現実世界との相互作用とは独立してその状態遷移をテストできる。</p><p>Reduxだけでは計算は進んでいかない。Redux-Sagaは<code>select</code>と<code>take</code>で$\rm S$と$\rm Σ$を取り出し、$\rm S × Σ$から現実世界との相互作用$\rm Λ$を計算する出力関数$\rm S × Σ → Λ$として振る舞う。それからSagaは作用$\rm Λ$を現実世界に作用させ、その結果に応じて$\rm Σ$を<code>put</code>で再びReduxの中に投げ入れることで、ミーリ・マシンたるReduxを駆動する役目を持つ。</p><h1><a name="-" class="anchor" href="#-"><span class="header-link"></span></a>まとめ</h1><p><a href="http://elm-lang.org/">Elm</a>いいよ！</p></div></article></div><footer><div class="sns"><a target="_blank" href="https://twitter.com/intent/tweet?text=undefined%20https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204"><img src="/res/twitter.png"></a><a target="_brank" href="http://www.facebook.com/sharer.php?u=https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204&amp;t=undefined"><img src="/res/facebook.png"></a><a target="_brank" href="https://plus.google.com/share?url=https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204"><img src="/res/google.png"></a><a target="_brank" href="http://b.hatena.ne.jp/entry/https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204"><img src="/res/hatena.png"></a><a target="_brank" href="http://getpocket.com/edit?url=https%3A%2F%2Faratama.github.io%2Fblog%2F115f6f6ea5a22abf9204&amp;title=undefined&quot;"><img src="/res/pocket.png"></a></div><div class="block-centered footer-inner"><p class="copy">&amp;nbsp;</p><p class="author">このブログを書いてる人: 竹内稲穂</p></div><script>
                    const poem = [
                        "なんにもない毎日が、なによりの宝物。",
                        "今日という日を、何度でも繰り返したい。",
                        "世界を追いかけなくても、世界は私のまわりにある。", 
                        "速すぎる雑踏。鼻先をくすぐる春風。", 
                        "明日撮る写真を飾る場所を、アルバムに空けておこう。", 
                        "落ち葉が地面に、触れる音がした。", 
                        "明日は、明日の楽しさが待っている。", 
                        "風が泣いている。この想いを紡ぐ言葉を持たないから。", 
                        "もうここには何もない。だから、次の場所に旅立とう。", 
                        "もう此処にはこないだろう。そう言って私は過去に背を向けた。", 
                        "散りゆくからこそ、美しい。私は桜の花びらをかかとで踏みしめた。", 
                        "思い出はいつだって輝いてる。",
                        "正直ばかりじゃつまらない。たまには楽しい嘘をつこう。", 
                        "ゆっくり歩けば歩くほど、時間がゆっくり過ぎてゆく。",
                        "夜明けを、探しにいこう。", 
                        "空はこんなに青かったんだ。", 
                        "地球は青かった。それはこの空を見上げたことのある全員が知っている。", 
                        "休み時間は、長すぎるということはない。", 
                        "缶コーヒーを飲むときだけは、それ以外のすべてを忘れることにしてる。", 
                        "ちょっと小さいのは確かですが、それは確かにここにあります。", 
                        "ちょっと小さいのは確かですが、広すぎる家というのも寂しいでしょう？", 
                        "ひつじが一匹、ひつじが二匹。五十匹までは、数えたことがある。"
                    ];
                    document.querySelector(".copy").textContent = poem[Math.floor(poem.length * Math.random())];
                </script></footer></body></html>