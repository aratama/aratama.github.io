(function(I,P){if("object"===typeof exports&&"object"===typeof module)module.exports=P();else if("function"===typeof define&&define.amd)define([],P);else{var x=P(),H;for(H in x)("object"===typeof exports?exports:I)[H]=x[H]}})(this,function(){return function(I){function P(H){if(x[H])return x[H].exports;var d=x[H]={exports:{},id:H,loaded:!1};I[H].call(d.exports,d,d.exports,P);d.loaded=!0;return d.exports}var x={};P.m=I;P.c=x;P.p="";return P(0)}([function(I,P,x){(function(H){var d={};(function(a){a.localStorage=
window.localStorage;a.unsafeLength=function(a){return function(){return a.length}};a.unsafeKey=function(a,b,c){return function(){return a(b.key(c))}};a.unsafeGetItem=function(a,b,c){return function(){return a(b.getItem(c))}};a.unsafeSetItem=function(a,b,c){return function(){a.setItem(b,c);return{}}};a.unsafeRemoveItem=function(a,b){return function(){a.removeItem(b);return{}}};a.unsafeClear=function(a){return function(){a.clear();return{}}};a.null2MaybeImpl=function(a,b,c){return null==c?b:a(c)}})(d["Browser.WebStorage"]=
d["Browser.WebStorage"]||{});(function(a){a.arrayMap=function(a){return function(b){for(var c=b.length,d=Array(c),f=0;f<c;f++)d[f]=a(b[f]);return d}};a.arrayBind=function(a){return function(b){for(var c=[],d=0,f=a.length;d<f;d++)Array.prototype.push.apply(c,b(a[d]));return c}};a.concatString=function(a){return function(b){return a+b}};a.concatArray=function(a){return function(b){return a.concat(b)}};a.numAdd=function(a){return function(b){return a+b}};a.numMul=function(a){return function(b){return a*
b}};a.refEq=function(a){return function(b){return a===b}};a.eqArrayImpl=function(a){return function(b){return function(c){if(b.length!==c.length)return!1;for(var d=0;d<b.length;d++)if(!a(b[d])(c[d]))return!1;return!0}}};a.unsafeCompareImpl=function(a){return function(b){return function(c){return function(d){return function(f){return d<f?a:d>f?c:b}}}}};a.topInt=2147483647;a.bottomInt=-2147483648;a.boolOr=function(a){return function(b){return a||b}};a.boolAnd=function(a){return function(b){return a&&
b}};a.boolNot=function(a){return!a};a.showIntImpl=function(a){return a.toString()};a.showNumberImpl=function(a){return a===(a|0)?a+".0":a.toString()};a.showStringImpl=function(a){return JSON.stringify(a)}})(d.Prelude=d.Prelude||{});(function(a){var e=d.Prelude,b=function(){function a(){}a.value=new a;return a}(),c=function(){function a(){}a.value=new a;return a}(),g=function(){function a(){}a.value=new a;return a}(),f=function(a){this.compose=a},h=function(a,b){this["__superclass_Prelude.Semigroupoid_0"]=
a;this.id=b},m=function(a){this.map=a},k=function(a,b){this["__superclass_Prelude.Functor_0"]=a;this.apply=b},n=function(a,b){this["__superclass_Prelude.Apply_0"]=a;this.pure=b},q=function(a,b){this["__superclass_Prelude.Apply_0"]=a;this.bind=b},r=function(a,b){this["__superclass_Prelude.Applicative_0"]=a;this["__superclass_Prelude.Bind_1"]=b},p=function(a){this.append=a},v=function(a,b,c,e){this.add=a;this.mul=b;this.one=c;this.zero=e},w=function(a){this.eq=a},l=function(a,b){this["__superclass_Prelude.Eq_0"]=
a;this.compare=b},E=function(a,b){this.bottom=a;this.top=b},z=function(a,b,c,e){this["__superclass_Prelude.Bounded_0"]=a;this.conj=b;this.disj=c;this.not=e},y=function(a){this.show=a},A=e.unsafeCompareImpl(b.value)(g.value)(c.value),t={},S=new y(e.showStringImpl),u=new y(e.showNumberImpl),K=new y(e.showIntImpl),C=new v(e.numAdd,e.numMul,1,0),G=new f(function(a){return function(b){return function(c){return a(b(c))}}}),N=new p(e.concatString),D=new p(e.concatArray),J=function(a){return a.pure},M=new m(e.arrayMap),
F=function(a){return function(b){return function(c){return a(c)(b)}}},O=new w(e.refEq),T=new l(function(){return O},A),ia=new w(e.refEq),Q=new l(function(){return ia},A),aa=new w(e.refEq),ha=new l(function(){return aa},A),x=new w(e.refEq),B=new l(function(){return x},A),H=new w(e.refEq),W=new l(function(){return H},A),I=function(a){return function(b){return a}},X=new m(G.compose),R=new h(function(){return G},function(a){return a}),L=new E(e.bottomInt,e.topInt),V=new E(!1,!0),U=new z(function(){return V},
e.boolAnd,e.boolOr,e.boolNot),da=function(a){return a.bind},ba=function(a){return a.apply},ea=function(a){return function(b){return function(c){return da(a["__superclass_Prelude.Bind_1"]())(b)(function(b){return da(a["__superclass_Prelude.Bind_1"]())(c)(function(c){return J(a["__superclass_Prelude.Applicative_0"]())(b(c))})})}}},fa=new r(function(){return ka},function(){return P}),P=new q(function(){return ga},e.arrayBind),ga=new k(function(){return M},ea(fa)),ka=new n(function(){return ga},function(a){return[a]});
a.LT=b;a.GT=c;a.EQ=g;a.Show=y;a.BooleanAlgebra=z;a.Bounded=E;a.Ord=l;a.Eq=w;a.Semiring=v;a.Semigroup=p;a.Monad=r;a.Bind=q;a.Applicative=n;a.Apply=k;a.Functor=m;a.Category=h;a.Semigroupoid=f;a.show=function(a){return a.show};a.not=function(a){return a.not};a.disj=function(a){return a.disj};a.conj=function(a){return a.conj};a.bottom=function(a){return a.bottom};a.top=function(a){return a.top};a.unsafeCompare=A;a["<"]=function(a){return function(c){return function(e){return(0,a.compare)(c)(e)instanceof
b?!0:!1}}};a.compare=function(a){return a.compare};a["/="]=function(a){return function(b){return function(c){return(0,U.not)((0,a.eq)(b)(c))}}};a["=="]=function(a){return a.eq};a.eq=function(a){return a.eq};a["+"]=function(a){return a.add};a.one=function(a){return a.one};a.mul=function(a){return a.mul};a.zero=function(a){return a.zero};a.add=function(a){return a.add};a["++"]=function(a){return a.append};a["<>"]=function(a){return a.append};a.append=function(a){return a.append};a.ap=ea;a.liftM1=function(a){return function(b){return function(c){return da(a["__superclass_Prelude.Bind_1"]())(c)(function(c){return J(a["__superclass_Prelude.Applicative_0"]())(b(c))})}}};
a["return"]=J;a[">>="]=function(a){return a.bind};a.bind=da;a.liftA1=function(a){return function(b){return function(c){return ba(a["__superclass_Prelude.Apply_0"]())((0,a.pure)(b))(c)}}};a.pure=function(a){return a.pure};a["<*>"]=ba;a.apply=function(a){return a.apply};a["void"]=function(a){return function(b){return(0,a.map)(I(t))(b)}};a["<#>"]=function(a){return function(b){return function(c){return(0,a.map)(c)(b)}}};a["<$>"]=function(a){return a.map};a.map=function(a){return a.map};a.id=function(a){return a.id};
a[">>>"]=function(a){return F(a.compose)};a.compose=function(a){return a.compose};a.otherwise=!0;a["const"]=I;a.flip=F;a.$=function(a){return function(b){return a(b)}};a.unit=t;a.semigroupoidFn=G;a.categoryFn=R;a.functorFn=X;a.functorArray=M;a.applyArray=ga;a.applicativeArray=ka;a.bindArray=P;a.monadArray=fa;a.semigroupString=N;a.semigroupArray=D;a.semiringNumber=C;a.eqBoolean=H;a.eqInt=aa;a.eqNumber=ia;a.eqChar=x;a.eqString=O;a.eqArray=function(a){return new w(e.eqArrayImpl(a.eq))};a.ordBoolean=
W;a.ordInt=ha;a.ordNumber=Q;a.ordString=T;a.ordChar=B;a.boundedBoolean=V;a.boundedInt=L;a.booleanAlgebraBoolean=U;a.showInt=K;a.showNumber=u;a.showString=S})(d.Prelude=d.Prelude||{});(function(a){a.returnE=function(a){return function(){return a}};a.bindE=function(a){return function(b){return function(){return b(a())()}}};a.runPure=function(a){return a()}})(d["Control.Monad.Eff"]=d["Control.Monad.Eff"]||{});(function(a){var e=d["Control.Monad.Eff"],b=d.Prelude,c=new b.Monad(function(){return h},function(){return g}),
g=new b.Bind(function(){return f},e.bindE),f=new b.Apply(function(){return m},b.ap(c)),h=new b.Applicative(function(){return f},e.returnE),m=new b.Functor(b.liftA1(h));a.functorEff=m;a.applyEff=f;a.applicativeEff=h;a.bindEff=g;a.monadEff=c;a.runPure=e.runPure})(d["Control.Monad.Eff"]=d["Control.Monad.Eff"]||{});(function(a){var e=d.Prelude,b=function(a,b){this["__superclass_Prelude.Functor_0"]=a;this.alt=b},c=new b(function(){return e.functorArray},e.append(e.semigroupArray));a.Alt=b;a["<|>"]=function(a){return a.alt};
a.alt=function(a){return a.alt};a.altArray=c})(d["Control.Alt"]=d["Control.Alt"]||{});(function(a){var e=d["Control.Alt"],b=function(a,b){this["__superclass_Control.Alt.Alt_0"]=a;this.empty=b},c=new b(function(){return e.altArray},[]);a.Plus=b;a.empty=function(a){return a.empty};a.plusArray=c})(d["Control.Plus"]=d["Control.Plus"]||{});(function(a){var e=d.Prelude,b=d["Control.Plus"],c=function(a,b){this["__superclass_Control.Plus.Plus_1"]=a;this["__superclass_Prelude.Applicative_0"]=b},g=new c(function(){return b.plusArray},
function(){return e.applicativeArray});a.Alternative=c;a.alternativeArray=g})(d["Control.Alternative"]=d["Control.Alternative"]||{});(function(a){var e=d.Prelude,b=function(a,b){this["__superclass_Prelude.Semigroup_0"]=a;this.mempty=b},c=new b(function(){return e.semigroupString},""),g=new b(function(){return e.semigroupArray},[]);a.Monoid=b;a.mempty=function(a){return a.mempty};a.monoidString=c;a.monoidArray=g})(d["Data.Monoid"]=d["Data.Monoid"]||{});(function(a){var e=d.Prelude,b=d["Data.Monoid"],
c=function(){function a(){}a.value=new a;return a}(),g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(a){return new e.Semigroup(function(b){return function(d){if(b instanceof c)return d;if(d instanceof c)return b;if(b instanceof g&&d instanceof g)return new g(e["<>"](a)(b.value0)(d.value0));throw Error("Failed pattern match at Data.Maybe line 231, column 1 - line 236, column 1: "+[b.constructor.name,d.constructor.name]);}})},h=function(a){return function(b){return function(e){if(e instanceof
c)return a;if(e instanceof g)return b(e.value0);throw Error("Failed pattern match at Data.Maybe line 26, column 1 - line 27, column 1: "+[a.constructor.name,b.constructor.name,e.constructor.name]);}}},m=h(!1)(e["const"](!0)),k=new e.Functor(function(a){return function(b){return b instanceof g?new g(a(b.value0)):c.value}}),n=new e.Apply(function(){return k},function(a){return function(b){if(a instanceof g)return e["<$>"](k)(a.value0)(b);if(a instanceof c)return c.value;throw Error("Failed pattern match at Data.Maybe line 121, column 1 - line 145, column 1: "+
[a.constructor.name,b.constructor.name]);}}),q=new e.Bind(function(){return n},function(a){return function(b){if(a instanceof g)return b(a.value0);if(a instanceof c)return c.value;throw Error("Failed pattern match at Data.Maybe line 180, column 1 - line 199, column 1: "+[a.constructor.name,b.constructor.name]);}}),r=new e.Applicative(function(){return n},g.create);a.Nothing=c;a.Just=g;a.isJust=m;a.fromMaybe=function(a){return h(a)(e.id(e.categoryFn))};a.maybe=h;a.functorMaybe=k;a.applyMaybe=n;a.applicativeMaybe=
r;a.bindMaybe=q;a.semigroupMaybe=f;a.monoidMaybe=function(a){return new b.Monoid(function(){return f(a)},c.value)};a.eqMaybe=function(a){return new e.Eq(function(b){return function(d){return b instanceof c&&d instanceof c?!0:b instanceof g&&d instanceof g?e["=="](a)(b.value0)(d.value0):!1}})}})(d["Data.Maybe"]=d["Data.Maybe"]||{});(function(a){a.runFn2=function(a){return function(b){return function(c){return a(b,c)}}};a.runFn4=function(a){return function(b){return function(c){return function(d){return function(f){return a(b,
c,d,f)}}}}}})(d["Data.Function"]=d["Data.Function"]||{});(function(a){var e=d["Data.Function"];a.on=function(a){return function(c){return function(e){return function(d){return a(c(e))(c(d))}}}};a.runFn4=e.runFn4;a.runFn2=e.runFn2})(d["Data.Function"]=d["Data.Function"]||{});(function(a){var e=d["Browser.WebStorage"],b=d["Data.Maybe"],c=function(a,b,c,e,d,g){this.clear=a;this.getItem=b;this.key=c;this.length=e;this.removeItem=d;this.setItem=g},g=function(a){return e.null2MaybeImpl(b.Just.create,b.Nothing.value,
a)},f=new c(function(a){return e.unsafeClear(e.localStorage)},function(a){return function(a){return e.unsafeGetItem(g,e.localStorage,a)}},function(a){return function(a){return e.unsafeKey(g,e.localStorage,a)}},function(a){return e.unsafeLength(e.localStorage)},function(a){return function(a){return e.unsafeRemoveItem(e.localStorage,a)}},function(a){return function(a){return function(b){return e.unsafeSetItem(e.localStorage,a,b)}}});a.Storage=c;a.setItem=function(a){return a.setItem};a.removeItem=function(a){return a.removeItem};
a.length=function(a){return a.length};a.key=function(a){return a.key};a.getItem=function(a){return a.getItem};a.clear=function(a){return a.clear};a.storageLocalStorage=f;a.localStorage=e.localStorage})(d["Browser.WebStorage"]=d["Browser.WebStorage"]||{});(function(a){a.foldrArray=function(a){return function(b){return function(c){for(var d=b,f=c.length-1;0<=f;f--)d=a(c[f])(d);return d}}};a.foldlArray=function(a){return function(b){return function(c){for(var d=b,f=c.length,h=0;h<f;h++)d=a(d)(c[h]);
return d}}}})(d["Data.Foldable"]=d["Data.Foldable"]||{});(function(a){var e=d.Prelude;a["*>"]=function(a){return function(c){return function(d){return e["<*>"](a)(e["<$>"](a["__superclass_Prelude.Functor_0"]())(e["const"](e.id(e.categoryFn)))(c))(d)}}}})(d["Control.Apply"]=d["Control.Apply"]||{});(function(a){var e=d["Data.Maybe"],b=d["Data.Monoid"],c=new d.Prelude.Semigroup(function(a){return function(b){return a instanceof e.Just?a:b}}),b=new b.Monoid(function(){return c},e.Nothing.value);a.runFirst=
function(a){return a};a.semigroupFirst=c;a.monoidFirst=b})(d["Data.Maybe.First"]=d["Data.Maybe.First"]||{});(function(a){var e=d.Prelude,b=d["Data.Monoid"],c=function(a){return new e.Semigroup(function(b){return function(c){return e.disj(a)(b)(c)}})};a.Disj=function(a){return a};a.runDisj=function(a){return a};a.semigroupDisj=c;a.monoidDisj=function(a){return new b.Monoid(function(){return c(a)},e.bottom(a["__superclass_Prelude.Bounded_0"]()))}})(d["Data.Monoid.Disj"]=d["Data.Monoid.Disj"]||{});(function(a){var e=
d["Data.Foldable"],b=d.Prelude,c=d["Control.Apply"],g=d["Data.Monoid"],f=d["Data.Monoid.Disj"],h=function(a,b,c){this.foldMap=a;this.foldl=b;this.foldr=c},m=function(a){return function(e){return function(d){return(0,e.foldr)(function(b){return c["*>"](a["__superclass_Prelude.Apply_0"]())(d(b))})(b.pure(a)(b.unit))}}},k=function(a){return function(c){return function(e){return function(d){return(0,a.foldr)(function(a){return function(d){return b["<>"](c["__superclass_Prelude.Semigroup_0"]())(e(a))(d)}})(g.mempty(c))(d)}}}},
n=new h(function(a){return k(n)(a)},e.foldlArray,e.foldrArray),q=function(a){return function(b){return function(c){return function(e){return f.runDisj((0,a.foldMap)(f.monoidDisj(b))(function(a){return f.Disj(c(a))})(e))}}}};a.Foldable=h;a.elem=function(a){return function(c){return function(e){return q(a)(b.booleanAlgebraBoolean)(b["=="](c)(e))}}};a.any=q;a.intercalate=function(a){return function(c){return function(e){return function(d){return(0,a.foldl)(function(a){return function(d){return a.init?
{init:!1,acc:d}:{init:!1,acc:b["<>"](c["__superclass_Prelude.Semigroup_0"]())(a.acc)(b["<>"](c["__superclass_Prelude.Semigroup_0"]())(e)(d))}}})({init:!0,acc:g.mempty(c)})(d).acc}}}};a.mconcat=function(a){return function(c){return(0,a.foldl)(b["<>"](c["__superclass_Prelude.Semigroup_0"]()))(g.mempty(c))}};a.for_=function(a){return function(c){return b.flip(m(a)(c))}};a.traverse_=m;a.foldMapDefaultR=k;a.foldMap=function(a){return a.foldMap};a.foldl=function(a){return a.foldl};a.foldr=function(a){return a.foldr};
a.foldableArray=n})(d["Data.Foldable"]=d["Data.Foldable"]||{});(function(a){a.traverseArrayImpl=function(){function a(b){this.fn=b}function b(a){return function(b){return new f(a,b)}}function c(a){for(var b=[];a!==d;)b.push(a.head),a=a.tail;return b}var d={},f=function(a,b){this.head=a;this.tail=b};return function(f){return function(m){return function(k){return function(n){var q=function(c,d,g){if(0===d)return c;var k=g[d-1];return new a(function(){var a=q,e;e=f(m(b)(n(k)))(c);return a(e,d-1,g)})};
return function(b){for(b=q(k(d),b.length,b);b instanceof a;)b=b.fn();return m(c)(b)}}}}}}()})(d["Data.Traversable"]=d["Data.Traversable"]||{});(function(a){var e=d["Data.Traversable"],b=d.Prelude,c=d["Data.Foldable"],g=function(a,b,c,e){this["__superclass_Data.Foldable.Foldable_1"]=a;this["__superclass_Prelude.Functor_0"]=b;this.sequence=c;this.traverse=e},f=function(a){return function(c){return function(e){return(0,a.traverse)(c)(b.id(b.categoryFn))(e)}}},h=new g(function(){return c.foldableArray},
function(){return b.functorArray},function(a){return f(h)(a)},function(a){return e.traverseArrayImpl(b.apply(a["__superclass_Prelude.Apply_0"]()))(b.map(a["__superclass_Prelude.Apply_0"]()["__superclass_Prelude.Functor_0"]()))(b.pure(a))});a.Traversable=g;a["for"]=function(a){return function(b){return function(c){return function(e){return(0,b.traverse)(a)(e)(c)}}}};a.sequenceDefault=f;a.sequence=function(a){return a.sequence};a.traverse=function(a){return a.traverse};a.traversableArray=h})(d["Data.Traversable"]=
d["Data.Traversable"]||{});(function(a){var e=d.Prelude,b=d["Control.Alt"],c=d["Data.Foldable"],g=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),f=g.create;a.NonEmpty=g;a.oneOf=function(a){return function(c){return b["<|>"](a["__superclass_Control.Plus.Plus_1"]()["__superclass_Control.Alt.Alt_0"]())(e.pure(a["__superclass_Prelude.Applicative_0"]())(c.value0))(c.value1)}};a.foldl1=function(a){return function(b){return function(e){return c.foldl(a)(b)(e.value0)(e.value1)}}};
a[":|"]=f;a.functorNonEmpty=function(a){return new e.Functor(function(b){return function(c){return new g(b(c.value0),e.map(a)(b)(c.value1))}})};a.foldableNonEmpty=function(a){return new c.Foldable(function(b){return function(d){return function(g){return e["<>"](b["__superclass_Prelude.Semigroup_0"]())(d(g.value0))(c.foldMap(a)(b)(d)(g.value1))}}},function(b){return function(e){return function(d){return c.foldl(a)(b)(b(e)(d.value0))(d.value1)}}},function(b){return function(e){return function(d){return b(d.value0)(c.foldr(a)(b)(e)(d.value1))}}})}})(d["Data.NonEmpty"]=
d["Data.NonEmpty"]||{});(function(a){var e=d.Prelude,b=function(a){this.dimap=a},c=new b(function(a){return function(b){return function(c){return e[">>>"](e.semigroupoidFn)(a)(e[">>>"](e.semigroupoidFn)(c)(b))}}});a.Profunctor=b;a.dimap=function(a){return a.dimap};a.profunctorFn=c})(d["Data.Profunctor"]=d["Data.Profunctor"]||{});(function(a){var e=d.Prelude,b=d["Data.Foldable"],c=d["Data.Maybe"],g=d["Data.Maybe.First"],f=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,
c)}};return a}(),h=new e.Functor(function(a){return function(b){return new f(b.value0,a(b.value1))}});a.Tuple=f;a.lookup=function(a){return function(d){return function(f){return function(h){return g.runFirst(b.foldMap(a)(g.monoidFirst)(function(a){var b=e["=="](d)(f)(a.value0);if(b)return new c.Just(a.value1);if(!b)return c.Nothing.value;throw Error("Failed pattern match at Data.Tuple line 173, column 1 - line 174, column 1: "+[b.constructor.name]);})(h))}}}};a.uncurry=function(a){return function(b){return a(b.value0)(b.value1)}};
a.snd=function(a){return a.value1};a.fst=function(a){return a.value0};a.functorTuple=h})(d["Data.Tuple"]=d["Data.Tuple"]||{});(function(a){var e=d["Data.Profunctor"],b=d["Data.Tuple"],c=function(a,b,c){this["__superclass_Data.Profunctor.Profunctor_0"]=a;this.first=b;this.second=c},g=new c(function(){return e.profunctorFn},function(a){return function(c){return new b.Tuple(a(c.value0),c.value1)}},d.Prelude["<$>"](b.functorTuple));a.Strong=c;a.second=function(a){return a.second};a.first=function(a){return a.first};
a.strongFn=g})(d["Data.Profunctor.Strong"]=d["Data.Profunctor.Strong"]||{});(function(a){var e=d.Prelude,b=function(a){this.fromString=a},e=new b(e.id(e.categoryFn));a.IsString=b;a.fromString=function(a){return a.fromString};a.isStringString=e})(d["CSS.String"]=d["CSS.String"]||{});(function(a){var e=d.Prelude,b=d["Data.Foldable"],c=d["Data.Maybe"],g=d["Data.Profunctor.Strong"],f=d["Data.Tuple"],h=d["CSS.String"],m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),
k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=function(a){return a},q=function(a){return a},r=function(a){this.value=a},p=new e.Semigroup(function(a){return function(b){if(a instanceof k&&b instanceof k)return k.create(a.value0+b.value0);if(a instanceof k&&b instanceof m)return m.create(e["<$>"](e.functorArray)(g.second(g.strongFn)(e["<>"](e.semigroupString)(a.value0)))(b.value0));if(a instanceof m&&b instanceof k)return m.create(e["<$>"](e.functorArray)(g.second(g.strongFn)(e["<>"](e.semigroupString)(b.value0)))(a.value0));
if(a instanceof m&&b instanceof m)return m.create(e["<>"](e.semigroupArray)(a.value0)(b.value0));throw Error("Failed pattern match at CSS.Property line 20, column 1 - line 26, column 1: "+[a.constructor.name,b.constructor.name]);}}),v=new e.Semigroup(function(a){return function(b){return n(e["<>"](p)(a)(b))}}),w=new h.IsString(k.create),l=new h.IsString(function(a){return n(h.fromString(w)(a))}),E=new r(function(a){return h.fromString(l)(e.show(e.showNumber)(a))}),z=new r(h.fromString(l)),y=new h.IsString(function(a){return q(h.fromString(w)(a))});
a.Value=n;a.Key=q;a.Prefixed=m;a.Plain=k;a.Val=r;a.value=function(a){return a.value};a.cast=function(a){return a};a.plain=function(a){if(a instanceof m)return c.fromMaybe("")(f.lookup(b.foldableArray)(e.eqString)("")(a.value0));if(a instanceof k)return a.value0;throw Error("Failed pattern match at CSS.Property line 29, column 1 - line 30, column 1: "+[a.constructor.name]);};a.isStringPrefixed=w;a.semigroupPrefixed=p;a.isStringKey=y;a.isStringValue=l;a.semigroupValue=v;a.valString=z;a.valTuple=function(a){return function(b){return new r(function(c){return e["<>"](v)((0,a.value)(c.value0))(e["<>"](v)(h.fromString(l)(" "))((0,b.value)(c.value1)))})}};
a.valNumber=E})(d["CSS.Property"]=d["CSS.Property"]||{});(function(a){var e=d.Prelude,b=d["Data.Foldable"],c=d["CSS.Property"],g=d["CSS.String"],f=d["Data.Monoid"],h=function(){function a(b,c,e,d){this.value0=b;this.value1=c;this.value2=e;this.value3=d}a.create=function(b){return function(c){return function(e){return function(d){return new a(b,c,e,d)}}}};return a}(),m=function(){function a(b,c,e,d){this.value0=b;this.value1=c;this.value2=e;this.value3=d}a.create=function(b){return function(c){return function(e){return function(d){return new a(b,
c,e,d)}}}};return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=new c.Val(function(a){if(a instanceof h&&255===a.value3)return c.Value(g.fromString(c.isStringPrefixed)("rgb("+(b.intercalate(b.foldableArray)(f.monoidString)(", ")([e.show(e.showInt)(a.value0),e.show(e.showInt)(a.value1),e.show(e.showInt)(a.value2)])+")")));if(a instanceof h)return c.Value(g.fromString(c.isStringPrefixed)("rgba("+(b.intercalate(b.foldableArray)(f.monoidString)(", ")([e.show(e.showInt)(a.value0),
e.show(e.showInt)(a.value1),e.show(e.showInt)(a.value2),e.show(e.showInt)(a.value3)])+")")));if(a instanceof m&&1===a.value3)return c.Value(g.fromString(c.isStringPrefixed)("hsl("+(b.intercalate(b.foldableArray)(f.monoidString)(", ")([e.show(e.showNumber)(a.value0),e.show(e.showNumber)(a.value1),e.show(e.showNumber)(a.value2)])+")")));if(a instanceof m)return c.Value(g.fromString(c.isStringPrefixed)("hsla("+(b.intercalate(b.foldableArray)(f.monoidString)(", ")([e.show(e.showNumber)(a.value0),e.show(e.showNumber)(a.value1),
e.show(e.showNumber)(a.value2),e.show(e.showNumber)(a.value3)])+")")));if(a instanceof k)return a.value0;throw Error("Failed pattern match at CSS.Color line 17, column 1 - line 24, column 1: "+[a.constructor.name]);}),q=h.create,r=function(a){return function(b){return function(c){return new h(a,b,c,255)}}},p=r(255)(255)(255),v=new g.IsString(function(a){return k.create(g.fromString(c.isStringValue)(a))}),w=r(128)(128)(128),l=r(0)(0)(0);a.Rgba=h;a.Hsla=m;a.Other=k;a.white=p;a.grey=w;a.black=l;a.rgb=
r;a.rgba=q;a.isStringColor=v;a.valColor=n})(d["CSS.Color"]=d["CSS.Color"]||{});(function(a){var e=d.Prelude,b=d["Data.Tuple"];a.MonadWriter=function(a,b,e,d){this["__superclass_Prelude.Monad_0"]=a;this.listen=b;this.pass=e;this.writer=d};a.tell=function(a){return function(a){return function(a){return function(c){return(0,a.writer)(new b.Tuple(e.unit,c))}}}};a.pass=function(a){return a.pass};a.listen=function(a){return a.listen};a.writer=function(a){return a.writer}})(d["Control.Monad.Writer.Class"]=
d["Control.Monad.Writer.Class"]||{});(function(a){var e=d.Prelude,b=d["Control.Alt"],c=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=new e.Functor(function(a){return function(b){if(b instanceof c)return new c(b.value0);if(b instanceof g)return new g(a(b.value0));throw Error("Failed pattern match at Data.Either line 52, column 1 - line 56, column 1: "+[a.constructor.name,
b.constructor.name]);}}),h=function(a){return function(b){return function(e){if(e instanceof c)return a(e.value0);if(e instanceof g)return b(e.value0);throw Error("Failed pattern match at Data.Either line 28, column 1 - line 29, column 1: "+[a.constructor.name,b.constructor.name,e.constructor.name]);}}},m=new e.Apply(function(){return f},function(a){return function(b){if(a instanceof c)return new c(a.value0);if(a instanceof g)return e["<$>"](f)(a.value0)(b);throw Error("Failed pattern match at Data.Either line 92, column 1 - line 116, column 1: "+
[a.constructor.name,b.constructor.name]);}}),k=new e.Bind(function(){return m},h(function(a){return function(b){return new c(a)}})(function(a){return function(b){return b(a)}})),n=new e.Applicative(function(){return m},g.create),b=new b.Alt(function(){return f},function(a){return function(b){return a instanceof c?b:a}});a.Left=c;a.Right=g;a.either=h;a.functorEither=f;a.applyEither=m;a.applicativeEither=n;a.altEither=b;a.bindEither=k})(d["Data.Either"]=d["Data.Either"]||{});(function(a){a.MonadEff=
function(a,b){this["__superclass_Prelude.Monad_0"]=a;this.liftEff=b};a.liftEff=function(a){return a.liftEff}})(d["Control.Monad.Eff.Class"]=d["Control.Monad.Eff.Class"]||{});(function(a){a.MonadError=function(a,b,c){this["__superclass_Prelude.Monad_0"]=a;this.catchError=b;this.throwError=c};a.catchError=function(a){return a.catchError};a.throwError=function(a){return a.throwError}})(d["Control.Monad.Error.Class"]=d["Control.Monad.Error.Class"]||{});(function(a){var e=d.Prelude,b=function(a){return a},
c=new e.Functor(function(a){return function(b){return a(b)}}),g=new e.Apply(function(){return c},function(a){return function(b){return a(b)}}),f=new e.Bind(function(){return g},function(a){return function(b){return b(a)}}),h=new e.Applicative(function(){return g},b),e=new e.Monad(function(){return h},function(){return f});a.Identity=b;a.runIdentity=function(a){return a};a.functorIdentity=c;a.applyIdentity=g;a.applicativeIdentity=h;a.bindIdentity=f;a.monadIdentity=e})(d["Data.Identity"]=d["Data.Identity"]||
{});(function(a){var e=d["Data.Either"];a.tailRec=function(a){return function(c){a:b:for(c=a(c);;){if(c instanceof e.Left){c=a(c.value0);continue b}if(c instanceof e.Right){c=c.value0;break a}throw Error("Failed pattern match at Control.Monad.Rec.Class line 63, column 1 - line 64, column 1: "+[c.constructor.name]);}return c}}})(d["Control.Monad.Rec.Class"]=d["Control.Monad.Rec.Class"]||{});(function(a){var e=d.Prelude,b=d["Data.Tuple"];a.MonadState=function(a,b){this["__superclass_Prelude.Monad_0"]=
a;this.state=b};a.modify=function(a){return function(d){return(0,a.state)(function(a){return new b.Tuple(e.unit,d(a))})}};a.gets=function(a){return function(e){return(0,a.state)(function(a){return new b.Tuple(e(a),a)})}};a.state=function(a){return a.state}})(d["Control.Monad.State.Class"]=d["Control.Monad.State.Class"]||{});(function(a){var e=d.Prelude,b=d["Data.Monoid"],c=d["Data.Tuple"],g=d["Control.Monad.Writer.Class"],f=function(a){return a},h=function(a){return a},m=function(a){return function(b){return f(a(b))}},
k=function(a){return new e.Functor(function(b){return m(e["<$>"](a)(function(a){return new c.Tuple(b(a.value0),a.value1)}))})},n=function(a){return function(b){return new e.Apply(function(){return k(b["__superclass_Prelude.Functor_0"]())},function(d){return function(g){return f(function(){return e["<*>"](b)(e["<$>"](b["__superclass_Prelude.Functor_0"]())(function(b){return function(d){return new c.Tuple(b.value0(d.value0),e["<>"](a)(b.value1)(d.value1))}})(d))(g)}())}})}},q=function(a){return function(b){return new e.Bind(function(){return n(a)(b["__superclass_Prelude.Bind_1"]()["__superclass_Prelude.Apply_0"]())},
function(d){return function(g){return f(e.bind(b["__superclass_Prelude.Bind_1"]())(d)(function(d){return e.bind(b["__superclass_Prelude.Bind_1"]())(h(g(d.value0)))(function(g){return e["return"](b["__superclass_Prelude.Applicative_0"]())(new c.Tuple(g.value0,e["<>"](a)(d.value1)(g.value1)))})}))}})}},r=function(a){return function(d){return new e.Applicative(function(){return n(a["__superclass_Prelude.Semigroup_0"]())(d["__superclass_Prelude.Apply_0"]())},function(g){return f(e.pure(d)(new c.Tuple(g,
b.mempty(a))))})}},p=function(a){return function(b){return new e.Monad(function(){return r(a)(b["__superclass_Prelude.Applicative_0"]())},function(){return q(a["__superclass_Prelude.Semigroup_0"]())(b)})}};a.WriterT=f;a.mapWriterT=m;a.runWriterT=h;a.functorWriterT=k;a.applyWriterT=n;a.applicativeWriterT=r;a.bindWriterT=q;a.monadWriterT=p;a.monadWriterWriterT=function(a){return function(b){return new g.MonadWriter(function(){return p(a)(b)},function(a){return f(e.bind(b["__superclass_Prelude.Bind_1"]())(a)(function(a){return e["return"](b["__superclass_Prelude.Applicative_0"]())(new c.Tuple(new c.Tuple(a.value0,
a.value1),a.value1))}))},function(a){return f(e.bind(b["__superclass_Prelude.Bind_1"]())(a)(function(a){return e["return"](b["__superclass_Prelude.Applicative_0"]())(new c.Tuple(a.value0.value0,a.value0.value1(a.value1)))}))},function(a){return f(e["return"](b["__superclass_Prelude.Applicative_0"]())(a))})}}})(d["Control.Monad.Writer.Trans"]=d["Control.Monad.Writer.Trans"]||{});(function(a){var e=d["Control.Monad.Writer.Trans"],b=d["Data.Identity"],c=d["Data.Tuple"],g=function(a){return b.runIdentity(e.runWriterT(a))};
a.execWriter=function(a){return c.snd(g(a))};a.runWriter=g})(d["Control.Monad.Writer"]=d["Control.Monad.Writer"]||{});(function(a){a.range=function(a){return function(b){for(var c=a>b?-1:1,d=[],f=a,h=0;f!==b;f+=c)d[h++]=f;d[h]=f;return d}};a.length=function(a){return a.length};a.cons=function(a){return function(b){return[a].concat(b)}};a.snoc=function(a){return function(b){var c=a.slice();c.push(b);return c}};a["uncons'"]=function(a){return function(b){return function(c){return 0===c.length?a({}):
b(c[0])(c.slice(1))}}};a.indexImpl=function(a){return function(b){return function(c){return function(d){return 0>d||d>=c.length?b:a(c[d])}}}};a.findIndexImpl=function(a){return function(b){return function(c){return function(d){for(var f=0,h=d.length;f<h;f++)if(c(d[f]))return a(f);return b}}}};a._deleteAt=function(a){return function(b){return function(c){return function(d){if(0>c||c>=d.length)return b;d=d.slice();d.splice(c,1);return a(d)}}}};a._updateAt=function(a){return function(b){return function(c){return function(d){return function(f){if(0>
c||c>=f.length)return b;f=f.slice();f[c]=d;return a(f)}}}}};a.concat=function(a){for(var b=[],c=0,d=a.length;c<d;c++)for(var f=a[c],h=0,m=f.length;h<m;h++)b.push(f[h]);return b};a.filter=function(a){return function(b){return b.filter(a)}};a.sortImpl=function(a){return function(b){return b.slice().sort(function(b,d){return a(b)(d)})}};a.slice=function(a){return function(b){return function(c){return c.slice(a,b)}}};a.drop=function(a){return function(b){return 1>a?b:b.slice(a)}};a.zipWith=function(a){return function(b){return function(c){for(var d=
b.length<c.length?b.length:c.length,f=Array(d),h=0;h<d;h++)f[h]=a(b[h])(c[h]);return f}}}})(d["Data.Array"]=d["Data.Array"]||{});(function(a){a.unsafeThrow=function(a){throw Error(a);}})(d["Data.Maybe.Unsafe"]=d["Data.Maybe.Unsafe"]||{});(function(a){var e=d["Data.Maybe.Unsafe"],b=d["Data.Maybe"];a.fromJust=function(a){if(a instanceof b.Just)return a.value0;if(a instanceof b.Nothing)return e.unsafeThrow("Data.Maybe.Unsafe.fromJust called on Nothing");throw Error("Failed pattern match at Data.Maybe.Unsafe line 10, column 1 - line 11, column 1: "+
[a.constructor.name]);}})(d["Data.Maybe.Unsafe"]=d["Data.Maybe.Unsafe"]||{});(function(a){var e=d["Data.Array"],b=d.Prelude,c=d["Data.Maybe"],g=d["Data.Maybe.Unsafe"],f=e.cons,h=e.range,m=e._updateAt(c.Just.create)(c.Nothing.value),k=e["uncons'"](b["const"](c.Nothing.value))(function(a){return function(b){return new c.Just({head:a,tail:b})}}),n=e["uncons'"](b["const"](c.Nothing.value))(function(a){return function(a){return new c.Just(a)}}),q=function(a){return function(c){return e.sortImpl(function(c){return function(d){d=
a(c)(d);if(d instanceof b.GT)return 1;if(d instanceof b.EQ)return 0;if(d instanceof b.LT)return-1;throw Error("Failed pattern match at Data.Array line 409, column 3 - line 414, column 1: "+[d.constructor.name]);}})(c)}},r=function(a){return[a]},p=function(a){return 0===e.length(a)},v=function(a){return function(b){var d=k(b);if(d instanceof c.Just)return f(d.value0.head)(v(a)(e.filter(function(b){return!a(d.value0.head)(b)})(d.value0.tail)));if(d instanceof c.Nothing)return[];throw Error("Failed pattern match: "+
[d.constructor.name]);}},w=e.indexImpl(c.Just.create)(c.Nothing.value),l=e["uncons'"](b["const"](c.Nothing.value))(function(a){return function(b){return new c.Just(a)}}),E=function(a){return function(c){return function(d){return e["uncons'"](function(c){return b["return"](a["__superclass_Prelude.Applicative_0"]())(d)})(function(e){return function(g){return b[">>="](a["__superclass_Prelude.Bind_1"]())(c(d)(e))(function(b){return E(a)(c)(b)(g)})}})}}},z=e.findIndexImpl(c.Just.create)(c.Nothing.value),
y=function(a){return function(b){return function(d){return e.filter(function(b){return c.isJust(z(a(b))(d))})(b)}}},A=e._deleteAt(c.Just.create)(c.Nothing.value),t=function(a){return function(b){return function(d){return 0===d.length?[]:c.maybe(d)(function(a){return g.fromJust(A(a)(d))})(z(a(b))(d))}}},S=function(a){return function(c){return function(d){if(p(c))return[];if(b.otherwise)return e["uncons'"](b["const"](c))(function(d){return function(e){return S(a)(t(b.eq(a))(d)(c))(e)}})(d);throw Error("Failed pattern match: "+
[c.constructor.name,d.constructor.name]);}}},u=b.flip(b.bind(b.bindArray)),K=function(a){return u(function(b){return c.maybe([])(r)(a(b))})},C=K(b.id(b.categoryFn));a.foldM=E;a.intersectBy=y;a.intersect=function(a){return y(b.eq(a))};a["\\\\"]=S;a.deleteBy=t;a.nubBy=v;a.nub=function(a){return v(b.eq(a))};a.sortBy=q;a.sort=function(a){return function(c){return q(b.compare(a))(c)}};a.catMaybes=C;a.mapMaybe=K;a.concatMap=u;a.modifyAt=function(a){return function(b){return function(d){return c.maybe(c.Nothing.value)(function(c){return m(a)(b(c))(d)})(w(d)(a))}}};
a.updateAt=m;a.deleteAt=A;a.findIndex=z;a.elemIndex=function(a){return function(c){return z(function(d){return b["=="](a)(d)(c)})}};a.index=w;a["!!"]=w;a.uncons=k;a.tail=n;a.head=l;a[":"]=f;a["null"]=p;a[".."]=h;a.singleton=r;a.zipWith=e.zipWith;a.drop=e.drop;a.filter=e.filter;a.concat=e.concat;a.snoc=e.snoc;a.length=e.length})(d["Data.Array"]=d["Data.Array"]||{});(function(a){a.zipAll=function(a){return function(b){return function(c){for(var d=b.length<c.length?b.length:c.length,f=0;f<d;f++)if(!a(b[f])(c[f]))return!1;
return!0}}};a.zipCompare=function(a){return function(b){return function(c){for(var d=0,f=b.length,h=c.length;d<f&&d<h;){var m=a(b[d])(c[d]);if(0!==m)return m;d++}return f===h?0:f>h?-1:1}}}})(d["Data.Generic"]=d["Data.Generic"]||{});(function(a){a.replace=function(a){return function(b){return function(c){return c.replace(a,b)}}};a.take=function(a){return function(b){return b.substr(0,a)}};a.drop=function(a){return function(b){return b.substr(a)}};a.split=function(a){return function(b){return b.split(a)}};
a.joinWith=function(a){return function(b){return b.join(a)}}})(d["Data.String"]=d["Data.String"]||{});(function(a){var e=d["Data.String"];a.joinWith=e.joinWith;a.split=e.split;a.drop=e.drop;a.take=e.take;a.replace=e.replace})(d["Data.String"]=d["Data.String"]||{});(function(a){var d=function(){function a(){}a.value=new a;return a}();a.Proxy=d})(d["Type.Proxy"]=d["Type.Proxy"]||{});(function(a){var e=d["Data.Generic"],b=d.Prelude,c=d["Data.Maybe"],g=d["Data.Traversable"],f=d["Data.Array"],h=d["Type.Proxy"],
m=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),w=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),l=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),E=function(){function a(){}a.value=new a;return a}(),z=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),
y=function(a,b,c){this.fromSpine=a;this.toSignature=b;this.toSpine=c},A=new y(function(a){return a instanceof p?new c.Just(a.value0):c.Nothing.value},function(a){return E.value},function(a){return new p(a)}),t=new b.Eq(function(a){return function(c){if(a instanceof m&&c instanceof m)return b["=="](b.eqString)(a.value0)(c.value0)&&f.length(a.value1)===f.length(c.value1)&&e.zipAll(function(a){return function(c){return b["=="](t)(a(b.unit))(c(b.unit))}})(a.value1)(c.value1);if(a instanceof k&&c instanceof
k){var d=function(a){return function(c){return b["=="](b.eqString)(a.recLabel)(c.recLabel)&&b["=="](t)(a.recValue(b.unit))(c.recValue(b.unit))}};return f.length(a.value0)===f.length(c.value0)&&e.zipAll(d)(a.value0)(c.value0)}return a instanceof r&&c instanceof r||a instanceof n&&c instanceof n?a.value0===c.value0:a instanceof q&&c instanceof q?b["=="](b.eqBoolean)(a.value0)(c.value0):a instanceof v&&c instanceof v?b["=="](b.eqChar)(a.value0)(c.value0):a instanceof p&&c instanceof p?b["=="](b.eqString)(a.value0)(c.value0):
a instanceof w&&c instanceof w?f.length(a.value0)===f.length(c.value0)&&e.zipAll(function(a){return function(c){return b["=="](t)(a(b.unit))(c(b.unit))}})(a.value0)(c.value0):!1}}),S=new b.Ord(function(){return t},function(a){return function(c){if(a instanceof m&&c instanceof m){var d=b.compare(b.ordString)(a.value0)(c.value0);return d instanceof b.EQ?b.compare(b.ordInt)(0)(e.zipCompare(function(a){return function(c){c=b.compare(S)(a(b.unit))(c(b.unit));if(c instanceof b.EQ)return 0;if(c instanceof
b.LT)return 1;if(c instanceof b.GT)return-1;throw Error("Failed pattern match: "+[c.constructor.name]);}})(a.value1)(c.value1)):d}if(a instanceof m)return b.LT.value;if(c instanceof m)return b.GT.value;if(a instanceof k&&c instanceof k)return b.compare(b.ordInt)(0)(e.zipCompare(function(a){return function(c){var d=b.compare(b.ordString)(a.recLabel)(c.recLabel);if(d instanceof b.EQ){c=b.compare(S)(a.recValue(b.unit))(c.recValue(b.unit));if(c instanceof b.EQ)return 0;if(c instanceof b.LT)return 1;if(c instanceof
b.GT)return-1;throw Error("Failed pattern match at Data.Generic line 227, column 15 - line 234, column 5: "+[c.constructor.name]);}if(d instanceof b.LT)return 1;if(d instanceof b.GT)return-1;throw Error("Failed pattern match at Data.Generic line 227, column 15 - line 234, column 5: "+[d.constructor.name]);}})(a.value0)(c.value0));if(a instanceof k)return b.LT.value;if(c instanceof k)return b.GT.value;if(a instanceof r&&c instanceof r)return b.compare(b.ordInt)(a.value0)(c.value0);if(a instanceof r)return b.LT.value;
if(c instanceof r)return b.GT.value;if(a instanceof q&&c instanceof q)return b.compare(b.ordBoolean)(a.value0)(c.value0);if(a instanceof q)return b.LT.value;if(c instanceof q)return b.GT.value;if(a instanceof n&&c instanceof n)return b.compare(b.ordNumber)(a.value0)(c.value0);if(a instanceof n)return b.LT.value;if(c instanceof n)return b.GT.value;if(a instanceof p&&c instanceof p)return b.compare(b.ordString)(a.value0)(c.value0);if(a instanceof p)return b.LT.value;if(c instanceof p)return b.GT.value;
if(a instanceof v&&c instanceof v)return b.compare(b.ordChar)(a.value0)(c.value0);if(a instanceof v)return b.LT.value;if(c instanceof v)return b.GT.value;if(a instanceof w&&c instanceof w)return b.compare(b.ordInt)(0)(e.zipCompare(function(a){return function(c){c=b.compare(S)(a(b.unit))(c(b.unit));if(c instanceof b.EQ)return 0;if(c instanceof b.LT)return 1;if(c instanceof b.GT)return-1;throw Error("Failed pattern match: "+[c.constructor.name]);}})(a.value0)(c.value0));throw Error("Failed pattern match: "+
[a.constructor.name,c.constructor.name]);}}),u=h.Proxy.value;a.SigProd=l;a.SigString=E;a.SigArray=z;a.SProd=m;a.SRecord=k;a.SNumber=n;a.SBoolean=q;a.SInt=r;a.SString=p;a.SChar=v;a.SArray=w;a.Generic=y;a.gCompare=function(a){return function(c){return function(d){return b.compare(S)((0,a.toSpine)(c))((0,a.toSpine)(d))}}};a.gEq=function(a){return function(c){return function(d){return b["=="](t)((0,a.toSpine)(c))((0,a.toSpine)(d))}}};a.fromSpine=function(a){return a.fromSpine};a.toSignature=function(a){return a.toSignature};
a.toSpine=function(a){return a.toSpine};a.genericString=A;a.genericArray=function(a){return new y(function(d){return d instanceof w?g.traverse(g.traversableArray)(c.applicativeMaybe)(function(c){return(0,a.fromSpine)(c(b.unit))})(d.value0):c.Nothing.value},function(b){return new z(function(b){return(0,a.toSignature)(u)})},function(c){return new w(b["<$>"](b.functorArray)(function(b){return function(c){return(0,a.toSpine)(b)}})(c))})};a.eqGeneric=t;a.ordGeneric=S})(d["Data.Generic"]=d["Data.Generic"]||
{});(function(a){var e=d.Prelude,b=d["Data.Generic"],c=d["Data.String"],g=d["CSS.String"],f=d["Data.Maybe"],h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),
q=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),r=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),p=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),v=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};
return a}(),w=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),l=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),E=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),z=function(){function a(){}a.value=new a;return a}(),y=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),
A=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),t=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),S=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),u=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};
return a}(),K=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),C=function(a){return function(b){return new K(e["++"](e.semigroupArray)(a.value0)(b),a.value1)}},G=new K([],z.value),g=new g.IsString(function(a){var b=c.take(1)(a);return"#"===b?new K([h.create(c.drop(1)(a))],z.value):"."===b?new K([m.create(c.drop(1)(a))],z.value):new K([],new y(a))}),N=new b.Generic(function(a){return a instanceof b.SProd&&"CSS.Selector.Id"===
a.value0&&1===a.value1.length?e.apply(f.applyMaybe)(new f.Just(h.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))):a instanceof b.SProd&&"CSS.Selector.Class"===a.value0&&1===a.value1.length?e.apply(f.applyMaybe)(new f.Just(m.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))):a instanceof b.SProd&&"CSS.Selector.Attr"===a.value0&&1===a.value1.length?e.apply(f.applyMaybe)(new f.Just(k.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))):a instanceof b.SProd&&"CSS.Selector.AttrVal"===
a.value0&&2===a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(n.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericString)(a.value1[1](e.unit))):a instanceof b.SProd&&"CSS.Selector.AttrBegins"===a.value0&&2===a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(q.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericString)(a.value1[1](e.unit))):a instanceof b.SProd&&"CSS.Selector.AttrEnds"===a.value0&&
2===a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(r.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericString)(a.value1[1](e.unit))):a instanceof b.SProd&&"CSS.Selector.AttrContains"===a.value0&&2===a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(p.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericString)(a.value1[1](e.unit))):a instanceof b.SProd&&"CSS.Selector.AttrSpace"===a.value0&&2===
a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(v.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericString)(a.value1[1](e.unit))):a instanceof b.SProd&&"CSS.Selector.AttrHyph"===a.value0&&2===a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(w.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericString)(a.value1[1](e.unit))):a instanceof b.SProd&&"CSS.Selector.Pseudo"===a.value0&&1===a.value1.length?
e.apply(f.applyMaybe)(new f.Just(l.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))):a instanceof b.SProd&&"CSS.Selector.PseudoFunc"===a.value0&&2===a.value1.length?e.apply(f.applyMaybe)(e.apply(f.applyMaybe)(new f.Just(E.create))(b.fromSpine(b.genericString)(a.value1[0](e.unit))))(b.fromSpine(b.genericArray(b.genericString))(a.value1[1](e.unit))):f.Nothing.value},function(a){return new b.SigProd("CSS.Selector.Predicate",[{sigConstructor:"CSS.Selector.Id",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},
{sigConstructor:"CSS.Selector.Class",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.Attr",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrVal",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrBegins",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},
function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrEnds",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrContains",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrSpace",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},
function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrHyph",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.Pseudo",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.PseudoFunc",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericArray(b.genericString))(b.anyProxy)}]}])},
function(a){if(a instanceof h)return new b.SProd("CSS.Selector.Id",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof m)return new b.SProd("CSS.Selector.Class",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof k)return new b.SProd("CSS.Selector.Attr",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof n)return new b.SProd("CSS.Selector.AttrVal",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);
if(a instanceof q)return new b.SProd("CSS.Selector.AttrBegins",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof r)return new b.SProd("CSS.Selector.AttrEnds",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof p)return new b.SProd("CSS.Selector.AttrContains",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);
if(a instanceof v)return new b.SProd("CSS.Selector.AttrSpace",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof w)return new b.SProd("CSS.Selector.AttrHyph",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof l)return new b.SProd("CSS.Selector.Pseudo",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof E)return new b.SProd("CSS.Selector.PseudoFunc",
[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericArray(b.genericString))(a.value1)}]);throw Error("Failed pattern match at CSS.Selector line 22, column 1 - line 24, column 1: "+[a.constructor.name]);}),D=new e.Eq(b.gEq(N)),J=new e.Ord(function(){return D},b.gCompare(N)),M=function(a){return function(b){return new K([],new t(a,b))}},F=function(a){return function(b){return new K([],new A(a,b))}};a.Selector=K;a.Star=z;a.Elem=y;a.PathChild=A;a.Deep=t;a.Adjacent=
S;a.Combined=u;a.Id=h;a.Class=m;a.Attr=k;a.AttrVal=n;a.AttrBegins=q;a.AttrEnds=r;a.AttrContains=p;a.AttrSpace=v;a.AttrHyph=w;a.Pseudo=l;a.PseudoFunc=E;a["##"]=C;a["with"]=C;a["|>"]=F;a.child=F;a["**"]=M;a.deep=M;a.element=function(a){return new K([],new y(a))};a.star=G;a.genericPredicate=N;a.eqPredicate=D;a.ordPredicate=J;a.isStringSelector=g})(d["CSS.Selector"]=d["CSS.Selector"]||{});(function(a){var e=d.Prelude,b=d["Control.Monad.Writer"],c=d["Control.Monad.Writer.Class"],g=d["Data.Array"],f=d["CSS.Property"],
h=d["Data.Monoid"],m=d["Control.Monad.Writer.Trans"],k=d["Data.Identity"],n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),w=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),l=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),E=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),z=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),y=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),A=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),t=function(a){return a},S=function(a){return b.execWriter(a)},u=function(a){return t(c.tell(h.monoidArray)(m.monadWriterT(h.monoidArray)(k.monadIdentity))(m.monadWriterWriterT(h.monoidArray)(k.monadIdentity))(g.singleton(a)))},K=new e.Functor(function(a){return function(b){return t(e["<$>"](m.functorWriterT(k.functorIdentity))(a)(b))}}),C=new e.Apply(function(){return K},
function(a){return function(b){return t(e["<*>"](m.applyWriterT(e.semigroupArray)(k.applyIdentity))(a)(b))}}),G=new e.Bind(function(){return C},function(a){return function(b){return t(e[">>="](m.bindWriterT(e.semigroupArray)(k.monadIdentity))(a)(function(a){return b(a)}))}}),N=new e.Applicative(function(){return C},function(a){return t(e.pure(m.applicativeWriterT(h.monoidArray)(k.applicativeIdentity))(a))}),D=new e.Monad(function(){return N},function(){return G});a.S=t;a.Property=w;a.Nested=l;a.Query=
E;a.Face=z;a.Keyframe=y;a.Import=A;a.Self=n;a.Root=q;a.Pop=r;a.Child=p;a.Sub=v;a["?"]=function(a){return function(b){return u(new l(new v(a),S(b)))}};a.key=function(a){return function(b){return function(c){return u(new w(f.cast(b),f.value(a)(c)))}}};a.rule=u;a.runS=S;a.functorStyleM=K;a.applyStyleM=C;a.bindStyleM=G;a.applicativeStyleM=N;a.monadStyleM=D})(d["CSS.Stylesheet"]=d["CSS.Stylesheet"]||{});(function(a){var e=d["CSS.Property"],b=d["CSS.String"],e=d["CSS.Stylesheet"].key(d["CSS.Color"].valColor)(b.fromString(e.isStringKey)("background-color"));
a.backgroundColor=e})(d["CSS.Background"]=d["CSS.Background"]||{});(function(a){var e=d["Data.Tuple"];a.tuple4=function(a){return function(c){return function(d){return function(f){return new e.Tuple(new e.Tuple(new e.Tuple(a,c),d),f)}}}};a.tuple3=function(a){return function(c){return function(d){return new e.Tuple(new e.Tuple(a,c),d)}}}})(d["Data.Tuple.Nested"]=d["Data.Tuple.Nested"]||{});(function(a){var e=d.Prelude,b=d["CSS.Property"],c=d["CSS.String"],g=new b.Val(function(a){return a});a.pct=function(a){return e["<>"](b.semigroupValue)(b.value(b.valNumber)(a))(c.fromString(b.isStringValue)("%"))};
a.em=function(a){return e["<>"](b.semigroupValue)(b.value(b.valNumber)(a))(c.fromString(b.isStringValue)("em"))};a.px=function(a){return e["<>"](b.semigroupValue)(b.value(b.valNumber)(a))(c.fromString(b.isStringValue)("px"))};a.valSize=g})(d["CSS.Size"]=d["CSS.Size"]||{});(function(a){var e=d["Data.Tuple.Nested"],b=d["CSS.Color"],c=d["CSS.Property"],g=d["CSS.Size"],f=d["CSS.String"],h=d["CSS.Stylesheet"],m=function(a){return a},k=new c.Val(function(a){return a}),n=m(f.fromString(c.isStringValue)("solid"));
a.Stroke=m;a.borderRadius=function(a){return function(b){return function(d){return function(k){return h.key(c.valTuple(c.valTuple(c.valTuple(g.valSize)(g.valSize))(g.valSize))(g.valSize))(f.fromString(c.isStringKey)("border-radius"))(e.tuple4(a)(b)(d)(k))}}}};a.border=function(a){return function(d){return function(m){return h.key(c.valTuple(c.valTuple(k)(g.valSize))(b.valColor))(f.fromString(c.isStringKey)("border"))(e.tuple3(a)(d)(m))}}};a.solid=n;a.valStroke=k})(d["CSS.Border"]=d["CSS.Border"]||
{});(function(a){var e=d["CSS.Property"],b=d["CSS.String"],c=d["CSS.Stylesheet"],g=function(a){return a},f=function(a){return a},h=new e.Val(function(a){return a}),m=new e.Val(function(a){return a}),k=g(b.fromString(e.isStringValue)("relative")),n=c.key(h)(b.fromString(e.isStringKey)("position")),q=f(b.fromString(e.isStringValue)("flex")),c=c.key(m)(b.fromString(e.isStringKey)("display")),e=g(b.fromString(e.isStringValue)("absolute"));a.Display=f;a.Position=g;a.display=c;a.flex=q;a.relative=k;a.absolute=
e;a.position=n;a.valPosition=h;a.valDisplay=m})(d["CSS.Display"]=d["CSS.Display"]||{});(function(a){var e=d["CSS.Property"],b=d["CSS.String"],e=d["CSS.Stylesheet"].key(d["CSS.Color"].valColor)(b.fromString(e.isStringKey)("color"));a.color=e})(d["CSS.Font"]=d["CSS.Font"]||{});(function(a){var e=d["Data.Tuple.Nested"],b=d["CSS.Size"],c=d["CSS.String"],g=d["CSS.Stylesheet"],f=d["CSS.Property"],h=g.key(b.valSize)(c.fromString(f.isStringKey)("width")),m=g.key(b.valSize)(c.fromString(f.isStringKey)("top")),
k=g.key(b.valSize)(c.fromString(f.isStringKey)("right")),n=g.key(b.valSize)(c.fromString(f.isStringKey)("left")),q=g.key(b.valSize)(c.fromString(f.isStringKey)("height")),r=g.key(b.valSize)(c.fromString(f.isStringKey)("bottom"));a.margin=function(a){return function(d){return function(k){return function(h){return g.key(f.valTuple(f.valTuple(f.valTuple(b.valSize)(b.valSize))(b.valSize))(b.valSize))(c.fromString(f.isStringKey)("margin"))(e.tuple4(a)(d)(k)(h))}}}};a.padding=function(a){return function(d){return function(k){return function(h){return g.key(f.valTuple(f.valTuple(f.valTuple(b.valSize)(b.valSize))(b.valSize))(b.valSize))(c.fromString(f.isStringKey)("padding"))(e.tuple4(a)(d)(k)(h))}}}};
a.right=k;a.left=n;a.bottom=r;a.top=m;a.height=q;a.width=h})(d["CSS.Geometry"]=d["CSS.Geometry"]||{});(function(a){var e=d["Data.Maybe"],b=d.Prelude,c=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}();a.This=c;a.That=g;a.Both=f;a.theseRight=function(a){return a instanceof
f?new e.Just(a.value1):a instanceof g?new e.Just(a.value0):e.Nothing.value};a.theseLeft=function(a){return a instanceof f||a instanceof c?new e.Just(a.value0):e.Nothing.value};a.semigroupThese=function(a){return function(d){return new b.Semigroup(function(e){return function(n){if(e instanceof c&&n instanceof c)return new c(b["<>"](a)(e.value0)(n.value0));if(e instanceof c&&n instanceof g)return new f(e.value0,n.value0);if(e instanceof c&&n instanceof f)return new f(b["<>"](a)(e.value0)(n.value0),
n.value1);if(e instanceof g&&n instanceof c)return new f(n.value0,e.value0);if(e instanceof g&&n instanceof g)return new g(b["<>"](d)(e.value0)(n.value0));if(e instanceof g&&n instanceof f)return new f(n.value0,b["<>"](d)(e.value0)(n.value1));if(e instanceof f&&n instanceof c)return new f(b["<>"](a)(e.value0)(n.value0),e.value1);if(e instanceof f&&n instanceof g)return new f(e.value0,b["<>"](d)(e.value1)(n.value0));if(e instanceof f&&n instanceof f)return new f(b["<>"](a)(e.value0)(n.value0),b["<>"](d)(e.value1)(n.value1));
throw Error("Failed pattern match at Data.These line 30, column 1 - line 41, column 1: "+[e.constructor.name,n.constructor.name]);}})}}})(d["Data.These"]=d["Data.These"]||{});(function(a){var e=d.Prelude,b=d["Data.Array"],c=d["Data.Either"],g=d["Data.Foldable"],f=d["Data.Maybe"],h=d["Data.Monoid"],m=d["Data.NonEmpty"],k=d["Data.These"],n=d["Data.Tuple"],q=d["CSS.Property"],r=d["CSS.Selector"],p=d["CSS.String"],v=d["CSS.Stylesheet"],w=d["Control.Alternative"],l=function(a){return a},E=function(a){return a},
z=function(a){return function(b){return function(c){return b+(a+c)}}},y=new e.Semigroup(function(a){return function(b){return a+b}}),A=new e.Semigroup(function(a){return function(b){return a+b}}),t=function(a){var b=c.either(function(a){return h.mempty(h.monoidString)})(function(a){return g.mconcat(g.foldableArray)(h.monoidString)([a.value0,": ",a.value1])});return g.intercalate(g.foldableArray)(h.monoidString)("; ")(e["<$>"](e.functorArray)(b)(a))},S=function(a){if(a instanceof r.Id)return"#"+a.value0;
if(a instanceof r.Class)return"."+a.value0;if(a instanceof r.Attr)return"["+(a.value0+"]");if(a instanceof r.AttrVal)return"["+(a.value0+("='"+(a.value1+"']")));if(a instanceof r.AttrBegins)return"["+(a.value0+("^='"+(a.value1+"']")));if(a instanceof r.AttrEnds)return"["+(a.value0+("$='"+(a.value1+"']")));if(a instanceof r.AttrContains)return"["+(a.value0+("*='"+(a.value1+"']")));if(a instanceof r.AttrSpace)return"["+(a.value0+("~='"+(a.value1+"']")));if(a instanceof r.AttrHyph)return"["+(a.value0+
("|='"+(a.value1+"']")));if(a instanceof r.Pseudo)return":"+a.value0;if(a instanceof r.PseudoFunc)return":"+(a.value0+("("+(g.intercalate(g.foldableArray)(h.monoidString)(",")(a.value1)+")")));throw Error("Failed pattern match at CSS.Render line 145, column 1 - line 146, column 1: "+[a.constructor.name]);},u=function(a){return function(b){if(0===a.length&&b instanceof r.Star)return["*"];if(b instanceof r.Star)return[""];if(b instanceof r.Elem)return[b.value0];if(b instanceof r.PathChild)return e["<*>"](e.applyArray)(e["<$>"](e.functorArray)(z(" > "))(K(b.value0)))(K(b.value1));
if(b instanceof r.Deep)return e["<*>"](e.applyArray)(e["<$>"](e.functorArray)(z(" "))(K(b.value0)))(K(b.value1));if(b instanceof r.Adjacent)return e["<*>"](e.applyArray)(e["<$>"](e.functorArray)(z(" + "))(K(b.value0)))(K(b.value1));if(b instanceof r.Combined)return e["<>"](e.semigroupArray)(K(b.value0))(K(b.value1));throw Error("Failed pattern match: "+[a.constructor.name,b.constructor.name]);}},K=function(a){return e["<$>"](e.functorArray)(function(c){return c+g.foldMap(g.foldableArray)(h.monoidString)(S)(b.sort(r.ordPredicate)(a.value0))})(u(a.value0)(a.value1))},
C=function(a){return g.intercalate(g.foldableArray)(h.monoidString)(", ")(K(a))},G=function(a){return 0===a.length?f.Nothing.value:e["<$>"](f.functorMaybe)(function(a){return m[":|"](a.head)(a.tail)})(b.uncons(a))},N=function(a){if(a.value0 instanceof v.Child)return f.maybe(a.value0.value0)(function(b){return r["|>"](N(b))(a.value0.value0)})(G(a.value1));if(a.value0 instanceof v.Sub)return f.maybe(a.value0.value0)(function(b){return r["**"](N(b))(a.value0.value0)})(G(a.value1));if(a.value0 instanceof
v.Root)return f.maybe(a.value0.value0)(function(b){return r["**"](a.value0.value0)(N(b))})(G(a.value1));if(a.value0 instanceof v.Pop)return f.maybe(r.element("TODO"))(N)(G(b.drop(a.value0.value0)(b[":"](a.value0)(a.value1))));if(a.value0 instanceof v.Self)return f.maybe(r["with"](r.star)(a.value0.value0))(function(b){return r["with"](N(b))(a.value0.value0)})(G(a.value1));throw Error("Failed pattern match: "+[a.value0.constructor.name]);},D=function(a){return q.plain(a)},J=function(a){return f.Just.create(k.That.create(l(p.fromString(p.isStringString)("@import url("+
(a+");\n")))))},M=function(a){return a},F=function(a){return e[">>="](f.bindMaybe)(a)(function(a){return e.map(f.functorMaybe)(M)(k.theseRight(a))})},O=function(a){return a},T=function(a){return e[">>="](f.bindMaybe)(a)(function(a){return e.map(f.functorMaybe)(O)(k.theseLeft(a))})},x=function(a){return f.maybe(a.value0)(function(b){return"("+(a.value0+(": "+(q.plain(b)+")")))})(a.value1)},Q=function(a){return"@media "+(D(a.value1)+m.foldl1(g.foldableArray)(e["<>"](e.semigroupString))(e["<$>"](m.functorNonEmpty(e.functorArray))(function(a){return" and "+
x(a)})(a.value2)))},aa=function(a){return function(b){if(a instanceof q.Plain&&b instanceof q.Plain)return[new c.Right(new n.Tuple(a.value0,b.value0))];if(a instanceof q.Prefixed&&b instanceof q.Plain)return e["<$>"](e.functorArray)(function(a){return c.Right.create(new n.Tuple(a.value0+a.value1,b.value0))})(a.value0);if(a instanceof q.Plain&&b instanceof q.Prefixed)return e["<$>"](e.functorArray)(function(b){return c.Right.create(new n.Tuple(a.value0,b.value0+b.value1))})(b.value0);if(a instanceof
q.Prefixed&&b instanceof q.Prefixed)return e["<$>"](e.functorArray)(function(a){return f.maybe(new c.Left(a.value0+a.value1))(function(b){return c.Right.create(n.Tuple.create(a.value0+a.value1)(a.value0+b))})(n.lookup(g.foldableArray)(e.eqString)(a.value0)(b.value0))})(a.value0);throw Error("Failed pattern match at CSS.Render line 126, column 1 - line 127, column 1: "+[a.constructor.name,b.constructor.name]);}},ha=function(a){return aa(a.value0)(a.value1)},H=function(a){return function(b){var c=e[">>="](e.bindArray)(b)(ha);
b=e["<$>"](f.functorMaybe)(function(a){return k.This.create(E(t(m.oneOf(w.alternativeArray)(a))))})(G(c));return f.maybe(b)(function(a){return f.Just.create(k.That.create(l(g.intercalate(g.foldableArray)(h.monoidString)(" ")([C(N(a)),"{",t(c),"}"]))))})(G(a))}},B=function(a){return function(c){var d=g.foldMap(g.foldableArray)(f.monoidMaybe(k.semigroupThese(y)(A)))(n.uncurry(e.flip(Z)(a)))(b.mapMaybe(function(a){return a instanceof v.Query?new f.Just(new n.Tuple(a.value0,a.value1)):f.Nothing.value})(c)),
h=H(a)(b.mapMaybe(function(a){return a instanceof v.Property?new f.Just(new n.Tuple(a.value0,a.value1)):f.Nothing.value})(c)),l=g.foldMap(g.foldableArray)(f.monoidMaybe(k.semigroupThese(y)(A)))(function(a){return e["<>"](f.semigroupMaybe(k.semigroupThese(y)(A)))(a)(f.Just.create(k.That.create("\n")))})(e["<$>"](e.functorArray)(n.uncurry(function(c){return B(b[":"](c)(a))}))(b.mapMaybe(function(a){return a instanceof v.Nested?new f.Just(new n.Tuple(a.value0,a.value1)):f.Nothing.value})(c))),m=g.foldMap(g.foldableArray)(f.monoidMaybe(k.semigroupThese(y)(A)))(W)(b.mapMaybe(function(a){return a instanceof
v.Keyframe?new f.Just(a.value0):f.Nothing.value})(c)),p=g.foldMap(g.foldableArray)(f.monoidMaybe(k.semigroupThese(y)(A)))(J)(b.mapMaybe(function(a){return a instanceof v.Import?new f.Just(a.value0):f.Nothing.value})(c));c=g.foldMap(g.foldableArray)(f.monoidMaybe(k.semigroupThese(y)(A)))(X)(b.mapMaybe(function(a){return a instanceof v.Face?new f.Just(a.value0):f.Nothing.value})(c));return e["<>"](f.semigroupMaybe(k.semigroupThese(y)(A)))(h)(e["<>"](f.semigroupMaybe(k.semigroupThese(y)(A)))(p)(e["<>"](f.semigroupMaybe(k.semigroupThese(y)(A)))(m)(e["<>"](f.semigroupMaybe(k.semigroupThese(y)(A)))(c)(e["<>"](f.semigroupMaybe(k.semigroupThese(y)(A)))(l)(d)))))}},
Z=function(a){return function(b){return function(c){return f.Just.create(k.That.create(l(Q(a)+(" { "+(f.fromMaybe("")(F(B(b)(c)))+" }\n")))))}}},W=function(a){return f.Just.create(k.That.create(l("@-webkit-keyframes "+(a.value0+(" { "+(g.intercalate(m.foldableNonEmpty(g.foldableArray))(h.monoidString)(" ")(e["<$>"](m.functorNonEmpty(e.functorArray))(n.uncurry(I))(a.value1))+" }\n"))))))},I=function(a){return function(b){b=f.fromMaybe("")(T(B([])(b)));return e.show(e.showNumber)(a)+("% { "+(b+" }"))}},
X=function(a){return f.Just.create(k.That.create(l("@font-face { "+(f.fromMaybe("")(T(B([])(a)))+" }\n"))))};a.Sheet=l;a.Inline=E;a.nel=G;a.predicate=S;a.merger=N;a.properties=t;a.collect=ha;a.sepWith=z;a.selector=C;a.imp=J;a.rules=B;a.face=X;a.feature=x;a.mediaType=D;a.mediaQuery=Q;a.frame=I;a.kframe=W;a.render=function(a){return B([])(v.runS(a))};a.renderedSheet=F;a.renderedInline=T;a.getSheet=M;a.getInline=O;a.semigroupInline=y;a.semigroupFile=A})(d["CSS.Render"]=d["CSS.Render"]||{});(function(a){var e=
d["CSS.Property"],b=d["CSS.String"],c=d["CSS.Stylesheet"],g=new e.Val(function(a){return a}),e=c.key(g)(b.fromString(e.isStringKey)("transform"));a.Transformation=function(a){return a};a.transform=e;a.valTransformation=g})(d["CSS.Transform"]=d["CSS.Transform"]||{});(function(a){var e=d.Prelude,b=function(a){return function(b){return function(d){return e[">>="](a)(d)(b)}}};a["<=<"]=function(a){return function(d){return function(e){return function(h){return b(a)(d)(e(h))}}}};a[">=>"]=function(a){return function(b){return function(d){return function(h){return e[">>="](a)(b(h))(d)}}}}})(d["Control.Bind"]=
d["Control.Bind"]||{});(function(a){var e=d.Prelude;a.when=function(a){return function(c){return function(d){if(c)return d;if(!c)return e["return"](a["__superclass_Prelude.Applicative_0"]())(e.unit);throw Error("Failed pattern match at Control.Monad line 8, column 1 - line 9, column 1: "+[c.constructor.name,d.constructor.name]);}}}})(d["Control.Monad"]=d["Control.Monad"]||{});(function(a){a._makeAff=function(a){return function(b,c){return a(function(a){return function(){c(a)}})(function(a){return function(){try{b(a)}catch(d){c(d)}}})()}};
a._pure=function(a,b){return function(c,d){try{c(b)}catch(f){d(f)}return a}};a._throwError=function(a,b){return function(c,d){d(b);return a}};a._fmap=function(a,b){return function(c,d){return b(function(b){try{c(a(b))}catch(h){d(h)}},d)}};a._bind=function(a,b,c){return function(d,f){var h,m,k=!1,n=!1,q=function(){};h=b(function(b){if(n)return k=!0,a;m=c(b)(d,f);q(m);return m},f);return function(a){return function(b,c){n=!0;return void 0!==m?m(a)(b,c):h(a)(function(d){if(d||k)try{b(!0)}catch(e){c(e)}else q=
function(d){d(a)(b,c)}},c)}}}};a._attempt=function(a,b,c){return function(d,f){return c(function(a){try{d(b(a))}catch(c){f(c)}},function(b){try{d(a(b))}catch(c){f(c)}})}};a._runAff=function(a,b,c){return function(){return c(function(c){try{b(c)()}catch(d){a(d)()}},function(b){a(b)()})}};a._liftEff=function(a,b){return function(c,d){try{c(b())}catch(f){d(f)}return a}}})(d["Control.Monad.Aff"]=d["Control.Monad.Aff"]||{});(function(a){a.showErrorImpl=function(a){return a.stack||a.toString()};a.error=
function(a){return Error(a)};a.throwException=function(a){return function(){throw a;}};a.catchException=function(a){return function(b){return function(){try{return b()}catch(c){return c instanceof Error||"[object Error]"===Object.prototype.toString.call(c)?a(c)():a(Error(c.toString()))()}}}}})(d["Control.Monad.Eff.Exception"]=d["Control.Monad.Eff.Exception"]||{});(function(a){var e=d["Control.Monad.Eff.Exception"],b=new d.Prelude.Show(e.showErrorImpl);a.showError=b;a.catchException=e.catchException;
a.throwException=e.throwException;a.error=e.error})(d["Control.Monad.Eff.Exception"]=d["Control.Monad.Eff.Exception"]||{});(function(a){var e=d["Control.Monad.Aff"],b=d.Prelude,c=d["Control.Monad.Eff"],g=d["Control.Monad.Eff.Class"],f=d["Control.Monad.Error.Class"],h=d["Data.Either"],m=function(a){return e._makeAff(a)},k=new b.Functor(function(a){return function(b){return e._fmap(a,b)}}),n=function(a){return e._attempt(h.Left.create,h.Right.create,a)},q=new b.Apply(function(){return k},function(a){return function(c){return e._bind(v,
a,function(a){return b["<$>"](k)(a)(c)})}}),r=new b.Applicative(function(){return q},function(a){return e._pure(p,a)}),p=b["const"](b.pure(r)(!1)),v=b["const"](b.pure(r)(!0)),w=new b.Bind(function(){return q},function(a){return function(b){return e._bind(v,a,b)}}),l=new b.Monad(function(){return r},function(){return w}),g=new g.MonadEff(function(){return l},function(a){return e._liftEff(p,a)}),f=new f.MonadError(function(){return l},function(a){return function(c){return b[">>="](w)(n(a))(h.either(c)(b.pure(r)))}},
function(a){return e._throwError(p,a)});a.runAff=function(a){return function(b){return function(c){return e._runAff(a,b,c)}}};a.nonCanceler=p;a["makeAff'"]=m;a.makeAff=function(a){return m(function(d){return function(e){return b["<$>"](c.functorEff)(b["const"](p))(a(d)(e))}})};a.attempt=n;a.functorAff=k;a.applyAff=q;a.applicativeAff=r;a.bindAff=w;a.monadAff=l;a.monadEffAff=g;a.monadErrorAff=f})(d["Control.Monad.Aff"]=d["Control.Monad.Aff"]||{});(function(a){a.log=function(a){return function(){console.log(a);
return{}}}})(d["Control.Monad.Eff.Console"]=d["Control.Monad.Eff.Console"]||{});(function(a){var e=d["Control.Monad.Eff.Console"],b=d.Prelude;a.print=function(a){return function(d){return e.log(b.show(a)(d))}};a.log=e.log})(d["Control.Monad.Eff.Console"]=d["Control.Monad.Eff.Console"]||{});(function(a){a.newRef=function(a){return function(){return{value:a}}};a.readRef=function(a){return function(){return a.value}};a.writeRef=function(a){return function(b){return function(){a.value=b;return{}}}}})(d["Control.Monad.Eff.Ref"]=
d["Control.Monad.Eff.Ref"]||{});(function(a){var e=d["Control.Monad.Eff.Ref"];a.writeRef=e.writeRef;a.readRef=e.readRef;a.newRef=e.newRef})(d["Control.Monad.Eff.Ref"]=d["Control.Monad.Eff.Ref"]||{});(function(a){var e=d.Prelude,b=d["Data.Tuple"],c=d["Control.Monad.State.Class"],g=function(a){return a},f=function(a){return a},h=function(a){return new e.Monad(function(){return q(a)},function(){return k(a)})},m=function(a){return new e.Functor(e.liftM1(h(a)))},k=function(a){return new e.Bind(function(){return n(a)},
function(b){return function(c){return function(d){return e.bind(a["__superclass_Prelude.Bind_1"]())(b(d))(function(a){return f(c(a.value0))(a.value1)})}}})},n=function(a){return new e.Apply(function(){return m(a)},e.ap(h(a)))},q=function(a){return new e.Applicative(function(){return n(a)},function(c){return g(function(d){return e["return"](a["__superclass_Prelude.Applicative_0"]())(new b.Tuple(c,d))})})};a.StateT=g;a.runStateT=f;a.functorStateT=m;a.applyStateT=n;a.applicativeStateT=q;a.bindStateT=
k;a.monadStateT=h;a.monadStateStateT=function(a){return new c.MonadState(function(){return h(a)},function(b){return g(function(c){return e["return"](a["__superclass_Prelude.Applicative_0"]())(b(c))})})}})(d["Control.Monad.State.Trans"]=d["Control.Monad.State.Trans"]||{});(function(a){var e=d["Control.Monad.State.Trans"],b=d["Data.Identity"],c=d["Data.Tuple"],g=function(a){return function(c){return b.runIdentity(e.runStateT(a)(c))}};a.evalState=function(a){return function(b){return c.fst(g(a)(b))}};
a.runState=g})(d["Control.Monad.State"]=d["Control.Monad.State"]||{});(function(a){a.preventDefault=function(a){return function(){return a.preventDefault()}};a.stopPropagation=function(a){return function(){return a.stopPropagation()}}})(d["DOM.Event.Event"]=d["DOM.Event.Event"]||{});(function(a){var e=d["DOM.Event.Event"];a.stopPropagation=e.stopPropagation;a.preventDefault=e.preventDefault})(d["DOM.Event.Event"]=d["DOM.Event.Event"]||{});(function(a){a.eventListener=function(a){return function(b){return a(b)()}};
a.addEventListener=function(a){return function(b){return function(c){return function(d){return function(){d.addEventListener(a,b,c);return{}}}}}}})(d["DOM.Event.EventTarget"]=d["DOM.Event.EventTarget"]||{});(function(a){var e=d["DOM.Event.EventTarget"];a.addEventListener=e.addEventListener;a.eventListener=e.eventListener})(d["DOM.Event.EventTarget"]=d["DOM.Event.EventTarget"]||{});(function(a){a.load="load"})(d["DOM.Event.EventTypes"]=d["DOM.Event.EventTypes"]||{});(function(a){a.window=function(){return window}})(d["DOM.HTML"]=
d["DOM.HTML"]||{});(function(a){a.parseJSONImpl=function(a,b,c){try{return b(JSON.parse(c))}catch(d){return a(d.toString())}};a.toForeign=function(a){return a};a.unsafeFromForeign=function(a){return a};a.typeOf=function(a){return typeof a};a.tagOf=function(a){return Object.prototype.toString.call(a).slice(8,-1)};a.isNull=function(a){return null===a};a.isUndefined=function(a){return void 0===a};a.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}})(d["Data.Foreign"]=
d["Data.Foreign"]||{});(function(a){a.fromNumberImpl=function(a){return function(b){return function(c){return(c|0)===c?a(c):b}}};a.toNumber=function(a){return a}})(d["Data.Int"]=d["Data.Int"]||{});(function(a){a.ceil=Math.ceil;a.floor=Math.floor;a.max=function(a){return function(b){return Math.max(a,b)}};a.min=function(a){return function(b){return Math.min(a,b)}};a.pow=function(a){return function(b){return Math.pow(a,b)}}})(d.Math=d.Math||{});(function(a){var e=d.Math;a.pow=e.pow;a.min=e.min;a.max=
e.max;a.floor=e.floor;a.ceil=e.ceil})(d.Math=d.Math||{});(function(a){var e=d["Data.Int"],b=d.Prelude,c=d["Data.Maybe"],g=d["Data.Maybe.Unsafe"],f=d.Math,h=e.fromNumberImpl(c.Just.create)(c.Nothing.value),m=function(a){if(a>=e.toNumber(b.top(b.boundedInt)))return b.top(b.boundedInt);if(a<=e.toNumber(b.bottom(b.boundedInt)))return b.bottom(b.boundedInt);if(b.otherwise)return g.fromJust(h(a));throw Error("Failed pattern match at Data.Int line 48, column 1 - line 49, column 1: "+[a.constructor.name]);
};a.floor=function(a){return m(f.floor(a))};a.ceil=function(a){return m(f.ceil(a))};a.fromNumber=h;a.toNumber=e.toNumber})(d["Data.Int"]=d["Data.Int"]||{});(function(a){var e=d["Data.Foreign"],b=d.Prelude,c=d["Data.Either"],g=d["Data.Maybe"],f=d["Data.Int"],h=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),m=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};
return a}(),k=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(a){return function(d){return b["=="](b.eqString)(e.tagOf(d))(a)?b.pure(c.applicativeEither)(e.unsafeFromForeign(d)):new c.Left(new h(a,e.tagOf(d)))}},r=new b.Show(function(a){if(a instanceof h)return"Type mismatch: expected "+(a.value0+(", found "+a.value1));
if(a instanceof m)return"Error at array index "+(b.show(b.showInt)(a.value0)+(": "+b.show(r)(a.value1)));if(a instanceof k)return"Error at property "+(b.show(b.showString)(a.value0)+(": "+b.show(r)(a.value1)));if(a instanceof n)return"JSON error: "+a.value0;throw Error("Failed pattern match: "+[a.constructor.name]);}),p=q("String"),v=q("Number");a.TypeMismatch=h;a.ErrorAtIndex=m;a.ErrorAtProperty=k;a.JSONError=n;a.readArray=function(a){return e.isArray(a)?b.pure(c.applicativeEither)(e.unsafeFromForeign(a)):
new c.Left(new h("array",e.tagOf(a)))};a.readInt=function(a){var d=c.Left.create(new h("Int",e.tagOf(a)));return c.either(b["const"](d))(function(a){return g.maybe(d)(b.pure(c.applicativeEither))(f.fromNumber(a))})(v(a))};a.readNumber=v;a.readString=p;a.unsafeReadTagged=q;a.parseJSON=function(a){return e.parseJSONImpl(function(a){return c.Left.create(n.create(a))},c.Right.create,a)};a.showForeignError=r;a.isUndefined=e.isUndefined;a.isNull=e.isNull;a.typeOf=e.typeOf;a.toForeign=e.toForeign})(d["Data.Foreign"]=
d["Data.Foreign"]||{});(function(a){a.unsafeReadPropImpl=function(a,b,c,d){return null==d?a:b(d[c])};a.unsafeHasOwnProperty=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)};a.unsafeHasProperty=function(a,b){return a in b}})(d["Data.Foreign.Index"]=d["Data.Foreign.Index"]||{});(function(a){var e=d["Data.Foreign.Index"],b=d.Prelude,c=d["Data.Either"],g=d["Data.Foreign"],f=function(a,b,c,d){this.errorAt=a;this.hasOwnProperty=b;this.hasProperty=c;this.ix=d},h=function(a){return function(d){return e.unsafeReadPropImpl(new c.Left(new g.TypeMismatch("object",
g.typeOf(d))),b.pure(c.applicativeEither),a,d)}},m=new f(g.ErrorAtProperty.create,function(a){return function(c){return g.isNull(c)||g.isUndefined(c)?!1:b["=="](b.eqString)(g.typeOf(c))("object")||b["=="](b.eqString)(g.typeOf(c))("function")?e.unsafeHasOwnProperty(a,c):!1}},function(a){return function(c){return g.isNull(c)||g.isUndefined(c)?!1:b["=="](b.eqString)(g.typeOf(c))("object")||b["=="](b.eqString)(g.typeOf(c))("function")?e.unsafeHasProperty(a,c):!1}},b.flip(h));a.Index=f;a.errorAt=function(a){return a.errorAt};
a.hasOwnProperty=function(a){return a.hasOwnProperty};a.hasProperty=function(a){return a.hasProperty};a["!"]=function(a){return a.ix};a.ix=function(a){return a.ix};a.prop=h;a.indexString=m})(d["Data.Foreign.Index"]=d["Data.Foreign.Index"]||{});(function(a){var e=d.Prelude,b=d["Data.Maybe"],c=d["Data.Foreign"],g=d["Data.Either"],f=function(a){return a};a.Null=f;a.readNull=function(a){return function(d){return c.isNull(d)?e.pure(g.applicativeEither)(b.Nothing.value):e["<$>"](g.functorEither)(function(a){return f(b.Just.create(a))})(a(d))}};
a.runNull=function(a){return a}})(d["Data.Foreign.Null"]=d["Data.Foreign.Null"]||{});(function(a){var e=d.Prelude,b=d["Data.Either"],c=d["Data.Foreign"],g=d["Data.Foreign.Index"],f=function(a){this.read=a},h=new f(c.readString),m=function(a){return function(c){return function(d){return b.either(function(a){return b.Left.create(c(a))})(b.Right.create)((0,a.read)(d))}}},k=new f(c.readNumber),c=new f(c.readInt),n=new f(function(a){return e["return"](b.applicativeEither)(a)});a.IsForeign=f;a.readProp=
function(a){return function(c){return function(d){return function(f){return e[">>="](b.bindEither)(g["!"](c)(f)(d))(m(a)(g.errorAt(c)(d)))}}}};a.readWith=m;a.read=function(a){return a.read};a.foreignIsForeign=n;a.stringIsForeign=h;a.numberIsForeign=k;a.intIsForeign=c})(d["Data.Foreign.Class"]=d["Data.Foreign.Class"]||{});(function(a){a.unsafeCoerce=function(a){return a}})(d["Unsafe.Coerce"]=d["Unsafe.Coerce"]||{});(function(a){a.unsafeCoerce=d["Unsafe.Coerce"].unsafeCoerce})(d["Unsafe.Coerce"]=d["Unsafe.Coerce"]||
{});(function(a){var e=d["Unsafe.Coerce"],b=e.unsafeCoerce,c=e.unsafeCoerce;a.htmlElementToNode=e.unsafeCoerce;a.htmlDocumentToNonElementParentNode=c;a.windowToEventTarget=b})(d["DOM.HTML.Types"]=d["DOM.HTML.Types"]||{});(function(a){a.window=d["DOM.HTML"].window})(d["DOM.HTML"]=d["DOM.HTML"]||{});(function(a){a.body=function(a){return function(){return a.body}}})(d["DOM.HTML.Document"]=d["DOM.HTML.Document"]||{});(function(a){a["null"]=null;a.nullable=function(a,b,c){return null==a?b:c(a)};a.notNull=
function(a){return a}})(d["Data.Nullable"]=d["Data.Nullable"]||{});(function(a){var e=d["Data.Nullable"],b=d["Data.Maybe"],c=b.maybe(e["null"])(e.notNull);a.toNullable=c;a.toMaybe=function(a){return e.nullable(a,b.Nothing.value,b.Just.create)}})(d["Data.Nullable"]=d["Data.Nullable"]||{});(function(a){a.body=d["DOM.HTML.Document"].body})(d["DOM.HTML.Document"]=d["DOM.HTML.Document"]||{});(function(a){a.document=function(a){return function(){return a.document}}})(d["DOM.HTML.Window"]=d["DOM.HTML.Window"]||
{});(function(a){a.document=d["DOM.HTML.Window"].document})(d["DOM.HTML.Window"]=d["DOM.HTML.Window"]||{});(function(a){a.appendChild=function(a){return function(b){return function(){return b.appendChild(a)}}}})(d["DOM.Node.Node"]=d["DOM.Node.Node"]||{});(function(a){a.appendChild=d["DOM.Node.Node"].appendChild})(d["DOM.Node.Node"]=d["DOM.Node.Node"]||{});(function(a){a.getElementById=function(a){return function(b){return function(){return b.getElementById(a)}}}})(d["DOM.Node.NonElementParentNode"]=
d["DOM.Node.NonElementParentNode"]||{});(function(a){a.getElementById=d["DOM.Node.NonElementParentNode"].getElementById})(d["DOM.Node.NonElementParentNode"]=d["DOM.Node.NonElementParentNode"]||{});(function(a){a.Contravariant=function(a){this.cmap=a};a.cmap=function(a){return a.cmap}})(d["Data.Functor.Contravariant"]=d["Data.Functor.Contravariant"]||{});(function(a){var e=new d.Prelude.Functor(function(a){return function(a){return a}});a.Const=function(a){return a};a.getConst=function(a){return a};
a.functorConst=e})(d["Data.Const"]=d["Data.Const"]||{});(function(a){a.mkExists=function(a){return a};a.runExists=function(a){return function(b){return a(b)}}})(d["Data.Exists"]=d["Data.Exists"]||{});(function(a){var e=d["Data.Exists"];a.runExists=e.runExists;a.mkExists=e.mkExists})(d["Data.Exists"]=d["Data.Exists"]||{});(function(a){a.unsafeForeignProcedure=function(a){return function(b){function c(){return a.length?"return function ("+a.shift()+") { "+c()+" };":b}return Function(c(a.slice()))()}}})(d["Data.Foreign.EasyFFI"]=
d["Data.Foreign.EasyFFI"]||{});(function(a){a.unsafeForeignProcedure=d["Data.Foreign.EasyFFI"].unsafeForeignProcedure})(d["Data.Foreign.EasyFFI"]=d["Data.Foreign.EasyFFI"]||{});(function(a){var e=d.Prelude,b=d["Data.Tuple"],c=d["Data.Profunctor"],g=d["Data.Profunctor.Strong"],f=function(a){return new c.Profunctor(function(b){return function(c){return function(d){return e[">>>"](e.semigroupoidFn)(b)(e[">>>"](e.semigroupoidFn)(d)(e.map(a)(c)))}}})};a.runStar=function(a){return a};a.profunctorStar=f;
a.strongStar=function(a){return new g.Strong(function(){return f(a)},function(c){return function(d){return e.map(a)(function(a){return new b.Tuple(a,d.value1)})(c(d.value0))}},function(c){return function(d){return e.map(a)(b.Tuple.create(d.value0))(c(d.value1))}})}})(d["Data.Profunctor.Star"]=d["Data.Profunctor.Star"]||{});(function(a){var e=d["Data.Const"],b=d["Data.Profunctor.Star"];a.view=function(a){return function(d){return e.getConst(b.runStar(a(e.Const))(d))}}})(d["Data.Lens.Getter"]=d["Data.Lens.Getter"]||
{});(function(a){var e=d["Data.Profunctor"],b=d["Data.Profunctor.Strong"],c=d["Data.Tuple"],g=function(a){return function(c){return function(d){return e.dimap(c["__superclass_Data.Profunctor.Profunctor_0"]())(a)(function(a){return a.value1(a.value0)})(b.first(c)(d))}}};a.lens=function(a){return function(b){return function(d){return g(function(d){return new c.Tuple(a(d),function(a){return b(d)(a)})})(d)}}}})(d["Data.Lens.Lens"]=d["Data.Lens.Lens"]||{});(function(a){var e=d.Prelude;a.set=function(a){return function(c){return a(e["const"](c))}};
a.over=function(a){return a}})(d["Data.Lens.Setter"]=d["Data.Lens.Setter"]||{});(function(a){var e=d.Prelude,b=d["Data.Foldable"],c=d["Data.Monoid"],g=function(){function a(){}a.value=new a;return a}(),f=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),h=f.create,m=new e.Semigroup(function(a){return function(b){if(a instanceof g)return b;if(a instanceof f)return new f(a.value0,e["<>"](m)(a.value1)(b));throw Error("Failed pattern match: "+
[a.constructor.name,b.constructor.name]);}}),k=function(){return function(a){return function(b){var c=a;a:for(;;){var d=c;if(b instanceof g)return d;if(b instanceof f){c=new f(b.value0,c);b=b.value1;continue a}throw Error("Failed pattern match at Data.List line 365, column 1 - line 366, column 1: "+[c.constructor.name,b.constructor.name]);}}}(g.value)}(),n=function(){return function(a){return function(b){return function(c){var d=a,e=b;a:for(;;){var h=d;if(0===e)return k(h);h=d;if(c instanceof g)return k(h);
if(c instanceof f){d=new f(c.value0,d);--e;c=c.value1;continue a}throw Error("Failed pattern match at Data.List line 487, column 1 - line 488, column 1: "+[d.constructor.name,e.constructor.name,c.constructor.name]);}}}}(g.value)}(),q=new b.Foldable(function(a){return function(d){return b.foldl(q)(function(b){return function(c){return e.append(a["__superclass_Prelude.Semigroup_0"]())(b)(d(c))}})(c.mempty(a))}},function(){return function(a){return function(b){return function(c){var d=a,e=b;a:for(;;){var k=
e;if(c instanceof g)return k;if(c instanceof f){k=d;e=d(e)(c.value0);c=c.value1;d=k;continue a}throw Error("Failed pattern match: "+[d.constructor.name,e.constructor.name,c.constructor.name]);}}}}}(),function(a){return function(c){return function(d){if(d instanceof g)return c;if(d instanceof f)return a(d.value0)(b.foldr(q)(a)(c)(d.value1));throw Error("Failed pattern match: "+[a.constructor.name,c.constructor.name,d.constructor.name]);}}});a.Nil=g;a.Cons=f;a.take=n;a.reverse=k;a[":"]=h;a["null"]=
function(a){return a instanceof g?!0:!1};a.semigroupList=m;a.foldableList=q})(d["Data.List"]=d["Data.List"]||{});(function(a){var e=d.Prelude;a.max=function(a){return function(c){return function(d){var f=e.compare(a)(c)(d);if(f instanceof e.LT)return d;if(f instanceof e.EQ||f instanceof e.GT)return c;throw Error("Failed pattern match at Data.Ord line 67, column 1 - line 68, column 1: "+[f.constructor.name]);}}};a.min=function(a){return function(c){return function(d){var f=e.compare(a)(c)(d);if(f instanceof
e.LT||f instanceof e.EQ)return c;if(f instanceof e.GT)return d;throw Error("Failed pattern match at Data.Ord line 58, column 1 - line 59, column 1: "+[f.constructor.name]);}}}})(d["Data.Ord"]=d["Data.Ord"]||{});(function(a){function d(a){return function(c){var d=[],e;for(e in c)c.hasOwnProperty(e)&&d.push(a(e)(c[e]));return d}}a._copyEff=function(a){return function(){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c}};a.empty={};a.runST=function(a){return a};a._lookup=function(a,c,d,
e){return d in e?c(e[d]):a};a._collect=d;a.keys=Object.keys||d(function(a){return function(){return a}})})(d["Data.StrMap"]=d["Data.StrMap"]||{});(function(a){a.poke=function(a){return function(b){return function(c){return function(){a[b]=c;return a}}}}})(d["Data.StrMap.ST"]=d["Data.StrMap.ST"]||{});(function(a){a.poke=d["Data.StrMap.ST"].poke})(d["Data.StrMap.ST"]=d["Data.StrMap.ST"]||{});(function(a){var e=d["Data.StrMap"],b=d.Prelude,c=d["Control.Monad.Eff"],g=d["Data.Function"],f=d["Data.Maybe"],
h=d["Data.StrMap.ST"],m=e._copyEff,k=function(a){return c.runPure(e.runST(a))},n=function(a){return function(d){return k(function(){var e=m(d)();a(e)();return b["return"](c.applicativeEff)(e)()})}},q=g.runFn4(e._lookup)(!1)(b["const"](!0)),g=g.runFn4(e._lookup)(f.Nothing.value)(f.Just.create);a.thawST=m;a.member=q;a.lookup=g;a.insert=function(a){return function(b){return n(function(c){return h.poke(c)(a)(b)})}};a.keys=e.keys;a.empty=e.empty})(d["Data.StrMap"]=d["Data.StrMap"]||{});(function(a){a.readFloat=
parseFloat})(d.Global=d.Global||{});(function(a){a.readFloat=d.Global.readFloat})(d.Global=d.Global||{});(function(a){var d=new AudioContext,b=null;a._readFromAudioGraph=function(){b||(b={rnodes:[],graph:[]});return b};a._writeToAudioGraph=function(a){return function(){b=a}};a.getAudioGraphContext=function(){return d}})(d["Sound.AudioGraph.Core"]=d["Sound.AudioGraph.Core"]||{});(function(a){a.getAudioContextSampleRate=function(a){return function(){return a.sampleRate}};a.decodeAudioData=function(a){return function(b){return function(c){return function(d){return function(){console.log("[webaudio] decodedAudioData decoding ");
return b.decodeAudioData(a,function(a){console.log("[webaudio] decodedAudioData successed ");d(a)()},function(a){console.log("[webaudio] decodedAudioData failed ");c(a)()})}}}}};a.getDestinationNode=function(a){return function(){console.log("[webaudio] getDestinationNode ");return a.destination}};a.connect=function(a){return function(b){return function(c){return function(d){return function(){a.connect(b,c,d);console.log("[webaudio] connect "+a+"["+c+"] - "+b+"["+d+"]")}}}}};a.disconnect=function(a){return function(b){return function(c){return function(d){return function(){a.disconnect(b,
c,d);console.log("[webaudio] disconnect "+a+"["+c+"] - "+b+"["+d+"]")}}}}};a.currentTime=function(a){return function(){return a.currentTime}};a.getChannelData=function(a){return function(b){return b.getChannelData(a)}};a.audioBufferLength=function(a){return a.length};a.sampleRate=function(a){return a.sampleRate};a.createOfflineAudioContext=function(a){return function(b){return function(c){return function(){return new OfflineAudioContext(a,b,c)}}}};a._startRendering=function(a){return function(b){return function(c){return function(){a.oncomplete=
function(a){a.renderedBuffer.getChannelData(0);c(a.renderedBuffer)()};a.onerror=function(a){b(a)()};a.startRendering()}}}}})(d["WebAudio.Core"]=d["WebAudio.Core"]||{});(function(a){var e=d["WebAudio.Core"],b=d.Prelude,c=d["Unsafe.Coerce"],g=d["Data.Traversable"],f=d["Data.Either"],h=d["Data.Foreign"],m=d["Data.Foreign.Class"],k=d["Control.Monad.Aff"],n=d["Data.Foreign.Index"],q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),r=function(){function a(b,c){this.value0=
b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),p=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),v=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),w=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),l=function(){function a(b,
c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),c=c.unsafeCoerce,E=new m.IsForeign(function(a){return b.bind(f.bindEither)(h.readNumber(a))(function(a){return b.pure(f.applicativeEither)(a)})}),z=new m.IsForeign(function(a){return b.bind(f.bindEither)(m.readProp(m.stringIsForeign)(n.indexString)("type")(a))(function(c){return"ConstantValue"===c?b.bind(f.bindEither)(m.readProp(m.numberIsForeign)(n.indexString)("value")(a))(function(a){return b.pure(f.applicativeEither)(new q(a))}):
"SetValueAtTime"===c?b.bind(f.bindEither)(m.readProp(m.numberIsForeign)(n.indexString)("value")(a))(function(c){return b.bind(f.bindEither)(m.readProp(E)(n.indexString)("time")(a))(function(a){return b.pure(f.applicativeEither)(new r(c,a))})}):"LinearRampToValueAtTime"===c?b.bind(f.bindEither)(m.readProp(m.numberIsForeign)(n.indexString)("value")(a))(function(c){return b.bind(f.bindEither)(m.readProp(E)(n.indexString)("time")(a))(function(a){return b.pure(f.applicativeEither)(new p(c,a))})}):"ExponentialRampToValueAtTime"===
c?b.bind(f.bindEither)(m.readProp(m.numberIsForeign)(n.indexString)("value")(a))(function(c){return b.bind(f.bindEither)(m.readProp(E)(n.indexString)("time")(a))(function(a){return b.pure(f.applicativeEither)(new v(c,a))})}):"SetTargetAtTime"===c?b.bind(f.bindEither)(m.readProp(m.numberIsForeign)(n.indexString)("value")(a))(function(c){return b.bind(f.bindEither)(m.readProp(E)(n.indexString)("time")(a))(function(a){return b.pure(f.applicativeEither)(new w(c,a))})}):"SetValueCurveAtTime"===c?b.bind(f.bindEither)(m.readProp(m.numberIsForeign)(n.indexString)("value")(a))(function(c){return b.bind(f.bindEither)(m.readProp(E)(n.indexString)("time")(a))(function(a){return b.pure(f.applicativeEither)(new l(c,
a))})}):new f.Left(new h.JSONError("Unknown AudioParam type: "+c))})}),y=function(a){if(a instanceof q)return h.toForeign({type:"ConstantValue",value:a.value0});if(a instanceof r)return h.toForeign({type:"SetValueAtTime",value:a.value0,time:a.value1});if(a instanceof p)return h.toForeign({type:"LinearRampToValueAtTime",value:a.value0,time:a.value1});if(a instanceof v)return h.toForeign({type:"ExponentialRampToValueAtTime",value:a.value0,time:a.value1});if(a instanceof w)return h.toForeign({type:"SetTargetAtTime",
value:a.value0,time:a.value1});if(a instanceof l)return h.toForeign({type:"SetValueCurveAtTime",value:a.value0,time:a.value1});throw Error("Failed pattern match at WebAudio.Core line 103, column 1 - line 104, column 1: "+[a.constructor.name]);};a.ConstantValue=q;a.SetValueAtTime=r;a.LinearRampToValueAtTime=p;a.ExponentialRampToValueAtTime=v;a.SetTargetAtTime=w;a.SetValueCurveAtTime=l;a.startRendering=function(a){return k.makeAff(e._startRendering(a))};a.offlineAudioContextToAudioContext=c;a.audioParamToForeign=
y;a.audioParamsToForeign=function(a){return h.toForeign(b.map(b.functorArray)(y)(a))};a.readAudioParams=function(a){return b[">>="](f.bindEither)(h.readArray(a))(g.traverse(g.traversableArray)(f.applicativeEither)(m.read(z)))};a.decodeAudioFile=function(a){return function(b){return k.makeAff(e.decodeAudioData(a)(b))}};a.isForeign_AudioTime=E;a.isForeign_AudioParam=z;a.createOfflineAudioContext=e.createOfflineAudioContext;a.audioBufferLength=e.audioBufferLength;a.currentTime=e.currentTime;a.getDestinationNode=
e.getDestinationNode;a.getAudioContextSampleRate=e.getAudioContextSampleRate;a.disconnect=e.disconnect;a.connect=e.connect})(d["WebAudio.Core"]=d["WebAudio.Core"]||{});(function(a){a.createGain=function(a){return function(){console.log("[webaudio] createGain");return a.createGain()}};a._setGain=function(a){return function(b){return function(){b.gain.value=a}}}})(d["WebAudio.Gain"]=d["WebAudio.Gain"]||{});(function(a){var e=d["WebAudio.Gain"],b=d.Prelude,c=d["Data.Foldable"],g=d["Data.Foreign"],f=
d["Data.Foreign.Class"],h=d["Control.Monad.Eff"],m=d["WebAudio.Core"],k=d["Data.Either"],n=d["Data.Foreign.Index"],q=d["Unsafe.Coerce"].unsafeCoerce;a.readGainParams=function(a){return b.bind(k.bindEither)(b[">>="](k.bindEither)(f.readProp(f.foreignIsForeign)(n.indexString)("gain")(a))(m.readAudioParams))(function(a){return b.pure(k.applicativeEither)({gain:a})})};a.writeGainParams=function(a){return g.toForeign({gain:m.audioParamsToForeign(a.gain)})};a.gainToAudioNode=q;a.setGain=function(a){return function(d){return c.for_(h.applicativeEff)(c.foldableArray)(a)(function(a){return a instanceof
m.ConstantValue?e._setGain(a.value0)(d):b.pure(h.applicativeEff)(b.unit)})}};a.createGain=e.createGain})(d["WebAudio.Gain"]=d["WebAudio.Gain"]||{});(function(a){a.createDelay=function(a){return function(){console.log("[webaudio] createDelay");return a.createDelay()}};a._setDelayTime=function(a){return function(b){return function(){b.delayTime.value=a}}}})(d["WebAudio.Delay"]=d["WebAudio.Delay"]||{});(function(a){var e=d["WebAudio.Delay"],b=d.Prelude,c=d["Data.Foldable"],g=d["Data.Foreign"],f=d["Data.Foreign.Class"],
h=d["Control.Monad.Eff"],m=d["WebAudio.Core"],k=d["Data.Either"],n=d["Data.Foreign.Index"];a.writeDelayParams=function(a){return g.toForeign({delayTime:m.audioParamsToForeign(a.delayTime)})};a.readDelayParams=function(a){return b.bind(k.bindEither)(b[">>="](k.bindEither)(f.readProp(f.foreignIsForeign)(n.indexString)("delayTime")(a))(m.readAudioParams))(function(a){return b.pure(k.applicativeEither)({delayTime:a})})};a.setDelayTime=function(a){return function(d){return c.for_(h.applicativeEff)(c.foldableArray)(a)(function(a){return a instanceof
m.ConstantValue?e._setDelayTime(a.value0)(d):b.pure(h.applicativeEff)(b.unit)})}};a.createDelay=e.createDelay})(d["WebAudio.Delay"]=d["WebAudio.Delay"]||{});(function(a){a.createBufferSource=function(a){return function(b){return function(){console.log("[webaudio] createBufferSource ");var c=b.createBufferSource(a);c.buffer=a;return c}}};a.startAudioBufferSource=function(a){return function(b){return function(c){return function(d){return function(){null!=a&&null!=b&&null!=c?d.start(a,b,d):null!=a&&
null!=b?d.start(a,b):null!=a?d.start(a):d.start()}}}}}})(d["WebAudio.AudioBufferSource"]=d["WebAudio.AudioBufferSource"]||{});(function(a){var e=d["WebAudio.AudioBufferSource"];a.audioBufferSourceToAudioNode=d["Unsafe.Coerce"].unsafeCoerce;a.startAudioBufferSource=e.startAudioBufferSource;a.createBufferSource=e.createBufferSource})(d["WebAudio.AudioBufferSource"]=d["WebAudio.AudioBufferSource"]||{});(function(a){a.createBiquadFilter=function(a){return function(){return a.createBiquadFilter()}};a.biquadFilterToAudioNode=
function(a){return a};a._setBiquadFilterType=function(a){return function(b){return function(){b.type=a}}}})(d["WebAudio.BiquadFilter"]=d["WebAudio.BiquadFilter"]||{});(function(a){var e=d["WebAudio.BiquadFilter"],b=d.Prelude,c=d["Data.Either"],g=d["Data.Foreign"],f=d["Data.Foreign.Class"],h=d["Data.Foreign.Index"],m=function(){function a(){}a.value=new a;return a}(),k=function(){function a(){}a.value=new a;return a}(),n=function(){function a(){}a.value=new a;return a}(),q=function(){function a(){}
a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),p=function(){function a(){}a.value=new a;return a}(),v=function(){function a(){}a.value=new a;return a}(),w=function(){function a(){}a.value=new a;return a}(),l=new b.Show(function(a){if(a instanceof m)return"lowpass";if(a instanceof k)return"highpass";if(a instanceof n)return"bandpass";if(a instanceof q)return"lowshelf";if(a instanceof r)return"highshelf";if(a instanceof p)return"peaking";if(a instanceof v)return"notch";
if(a instanceof w)return"allpass";throw Error("Failed pattern match at WebAudio.BiquadFilter line 41, column 1 - line 51, column 1: "+[a.constructor.name]);}),E=function(a){return"lowpass"===a?new c.Right(m.value):"highpass"===a?new c.Right(k.value):"bandpass"===a?new c.Right(n.value):"lowshelf"===a?new c.Right(q.value):"highshelf"===a?new c.Right(r.value):"peaking"===a?new c.Right(p.value):"notch"===a?new c.Right(v.value):"allpass"===a?new c.Right(w.value):c.Left.create(new g.JSONError(a))},z=new f.IsForeign(function(a){return b.bind(c.bindEither)(g.readString(a))(function(a){return E(a)})}),
y=new b.Eq(function(a){return function(c){return b["=="](b.eqString)(b.show(l)(a))(b.show(l)(c))}}),A=[m.value,k.value,n.value,q.value,r.value,p.value,v.value,w.value];a.Lowpass=m;a.Highpass=k;a.Bandpass=n;a.Lowshelf=q;a.Highshelf=r;a.Peaking=p;a.Notch=v;a.Allpass=w;a.foreignToBiquadFilterParams=function(a){return b["<*>"](c.applyEither)(b["<*>"](c.applyEither)(b["<*>"](c.applyEither)(b["<*>"](c.applyEither)(b["<$>"](c.functorEither)(function(a){return function(b){return function(c){return function(d){return function(e){return{type:a,
frequency:b,detune:c,q:d,gain:e}}}}}})(f.readProp(z)(h.indexString)("type")(a)))(f.readProp(f.numberIsForeign)(h.indexString)("frequency")(a)))(f.readProp(f.numberIsForeign)(h.indexString)("detune")(a)))(f.readProp(f.numberIsForeign)(h.indexString)("q")(a)))(f.readProp(f.numberIsForeign)(h.indexString)("gain")(a))};a.biquadFilterParamsToForeign=function(a){return g.toForeign({type:b.show(l)(a.type),frequency:a.frequency,detune:a.detune,q:a.q,gain:a.gain})};a.enumBiquadFilterType=A;a.readBiquadFilterType=
E;a.setBiquadFilterType=function(a){return function(c){return e._setBiquadFilterType(b.show(l)(a))(c)}};a.isForeign_BiquadFilterType=z;a.show_BiquadFilterType=l;a.eq_BiquadFilterType=y;a.biquadFilterToAudioNode=e.biquadFilterToAudioNode;a.createBiquadFilter=e.createBiquadFilter})(d["WebAudio.BiquadFilter"]=d["WebAudio.BiquadFilter"]||{});(function(a){a.createMediaElementSource=function(a){return function(b){return function(){if(a["PS.WebAudio.createMediaElementSource"])return a["PS.WebAudio.createMediaElementSource"];
var c=b.createMediaElementSource(a);return a["PS.WebAudio.createMediaElementSource"]=c}}};a.mediaElementSourceToAudioNode=function(a){return a}})(d["WebAudio.MediaElementSource"]=d["WebAudio.MediaElementSource"]||{});(function(a){var e=d["WebAudio.MediaElementSource"];a.mediaElementSourceToAudioNode=e.mediaElementSourceToAudioNode;a.createMediaElementSource=e.createMediaElementSource})(d["WebAudio.MediaElementSource"]=d["WebAudio.MediaElementSource"]||{});(function(a){a.createStereoPanner=function(a){return function(){console.log("[webaudio] createStereoPanner");
return a.createStereoPanner()}};a._setPan=function(a){return function(b){return function(){b.pan.value=a}}}})(d["WebAudio.StereoPanner"]=d["WebAudio.StereoPanner"]||{});(function(a){var e=d["WebAudio.StereoPanner"],b=d.Prelude,c=d["Data.Foldable"],g=d["Control.Monad.Eff"],f=d["WebAudio.Core"];a.setPan=function(a){return function(d){return c.for_(g.applicativeEff)(c.foldableArray)(a)(function(a){return a instanceof f.ConstantValue?e._setPan(a.value0)(d):b.pure(g.applicativeEff)(b.unit)})}};a.createStereoPanner=
e.createStereoPanner})(d["WebAudio.StereoPanner"]=d["WebAudio.StereoPanner"]||{});(function(a){a.createConvolver=function(a){return function(){return a.createConvolver()}};a.setBuffer=function(a){return function(b){return function(){b.buffer!=a&&(b.buffer=a)}}}})(d["WebAudio.Convolver"]=d["WebAudio.Convolver"]||{});(function(a){var e=d["WebAudio.Convolver"];a.setBuffer=e.setBuffer;a.createConvolver=e.createConvolver})(d["WebAudio.Convolver"]=d["WebAudio.Convolver"]||{});(function(a){a.createChannelSplitter=
function(a){return function(){console.log("[webaudio] createChannelSplitter");return a.createChannelSplitter()}}})(d["WebAudio.Splitter"]=d["WebAudio.Splitter"]||{});(function(a){var e=d["WebAudio.Splitter"];a.channelSplitterToAudioNode=d["Unsafe.Coerce"].unsafeCoerce;a.createChannelSplitter=e.createChannelSplitter})(d["WebAudio.Splitter"]=d["WebAudio.Splitter"]||{});(function(a){a.createChannelMerger=function(a){return function(){console.log("[webaudio] createChannelMerger");return a.createChannelMerger()}}})(d["WebAudio.Merger"]=
d["WebAudio.Merger"]||{});(function(a){var e=d["WebAudio.Merger"];a.channelMergerToAudioNode=d["Unsafe.Coerce"].unsafeCoerce;a.createChannelMerger=e.createChannelMerger})(d["WebAudio.Merger"]=d["WebAudio.Merger"]||{});(function(a){a.createDynamicsCompressor=function(a){return function(){return a.createDynamicsCompressor()}}})(d["WebAudio.Compressor"]=d["WebAudio.Compressor"]||{});(function(a){var e=d["WebAudio.Compressor"],b=d.Prelude,c=d["Data.Foreign"],g=d["Data.Foreign.Class"],f=d["Data.Either"],
h=d["Data.Foreign.Index"],m=d["Unsafe.Coerce"].unsafeCoerce;a.readDynamicsCompressorParams=function(a){return b.bind(f.bindEither)(g.readProp(g.numberIsForeign)(h.indexString)("threshold")(a))(function(c){return b.bind(f.bindEither)(g.readProp(g.numberIsForeign)(h.indexString)("knee")(a))(function(d){return b.bind(f.bindEither)(g.readProp(g.numberIsForeign)(h.indexString)("ratio")(a))(function(e){return b.bind(f.bindEither)(g.readProp(g.numberIsForeign)(h.indexString)("reduction")(a))(function(m){return b.bind(f.bindEither)(g.readProp(g.numberIsForeign)(h.indexString)("attack")(a))(function(v){return b.bind(f.bindEither)(g.readProp(g.numberIsForeign)(h.indexString)("release")(a))(function(a){return b.pure(f.applicativeEither)({threshold:c,
knee:d,ratio:e,reduction:m,attack:v,release:a})})})})})})})};a.writeDynamicsCompressorParams=function(a){return c.toForeign(a)};a.dynamicsCompressorToAudioNode=m;a.createDynamicsCompressor=e.createDynamicsCompressor})(d["WebAudio.Compressor"]=d["WebAudio.Compressor"]||{});(function(a){a.createOscillator=function(a){return function(){return a.createOscillator()}};a.startOscillator=function(a){return function(b){return function(c){return function(){c.start(a,b)}}}}})(d["WebAudio.Oscillator"]=d["WebAudio.Oscillator"]||
{});(function(a){var e=d["WebAudio.Oscillator"],b=d.Prelude,c=d["Data.Either"],g=d["Data.Foreign"],f=d["Data.Foreign.Class"],h=d["Control.Bind"],m=d["Data.Foreign.Index"],k=function(){function a(){}a.value=new a;return a}(),n=function(){function a(){}a.value=new a;return a}(),q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),p=function(){function a(){}a.value=new a;return a}(),v=new b.Show(function(a){if(a instanceof k)return"sine";if(a instanceof
n)return"square";if(a instanceof q)return"sawtooth";if(a instanceof r)return"triangle";if(a instanceof p)return"custom";throw Error("Failed pattern match at WebAudio.Oscillator line 33, column 1 - line 40, column 1: "+[a.constructor.name]);}),w=function(a){return"sine"===a?new c.Right(k.value):"square"===a?new c.Right(n.value):"sawtooth"===a?new c.Right(q.value):"triangle"===a?new c.Right(r.value):"custom"===a?new c.Right(p.value):c.Left.create(new g.JSONError(a))},l=new f.IsForeign(h[">=>"](c.bindEither)(g.readString)(w)),
h={type:k.value,frequency:440,detune:0},E=new b.Eq(function(a){return function(c){return b["=="](b.eqString)(b.show(v)(a))(b.show(v)(c))}}),z=[k.value,n.value,q.value,r.value,p.value];a.Sine=k;a.Square=n;a.Sawtooth=q;a.Triangle=r;a.Custom=p;a.foreignToOscillatorParams=function(a){return b["<*>"](c.applyEither)(b["<*>"](c.applyEither)(b["<$>"](c.functorEither)(function(a){return function(b){return function(c){return{type:a,frequency:b,detune:c}}}})(f.readProp(l)(m.indexString)("type")(a)))(f.readProp(f.numberIsForeign)(m.indexString)("frequency")(a)))(f.readProp(f.numberIsForeign)(m.indexString)("detune")(a))};
a.oscillatorParamsToForeign=function(a){return g.toForeign({type:b.show(v)(a.type),frequency:a.frequency,detune:a.detune})};a.enumOscillatorType=z;a.readOscillatorType=w;a.initialOscillatorParams=h;a.show_OscillatorType=v;a.eq_OscillatorType=E;a.isForeign_OscillatorType=l;a.startOscillator=e.startOscillator;a.createOscillator=e.createOscillator})(d["WebAudio.Oscillator"]=d["WebAudio.Oscillator"]||{});(function(a){a.createAnalyser=function(a){return function(){console.log("[webaudio] createAnalyser");
return a.createAnalyser()}}})(d["WebAudio.Analyser"]=d["WebAudio.Analyser"]||{});(function(a){a.createAnalyser=d["WebAudio.Analyser"].createAnalyser})(d["WebAudio.Analyser"]=d["WebAudio.Analyser"]||{});(function(a){a.createMediaStreamSource=function(a){return function(b){return function(){console.log("[webaudio] createMediaStreamSource");return b.createMediaStreamSource(a)}}}})(d["WebAudio.MediaStream"]=d["WebAudio.MediaStream"]||{});(function(a){a._getUserMedia=function(a){return function(b){return function(c){return function(){return(navigator.getUserMedia||
navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia).bind(navigator)(a,function(a){c(a)()},function(a){b(a)()})}}}}})(d.MediaStream=d.MediaStream||{});(function(a){var e=d.MediaStream,b=d["Control.Monad.Aff"];a.getUserMedia=function(a){return b.makeAff(e._getUserMedia(a))}})(d.MediaStream=d.MediaStream||{});(function(a){a.createMediaStreamSource=d["WebAudio.MediaStream"].createMediaStreamSource})(d["WebAudio.MediaStream"]=d["WebAudio.MediaStream"]||{});(function(a){var e=
d.Prelude,b=function(){function a(){}a.value=new a;return a}(),c=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),w=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),l=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),E=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),z=new e.Eq(function(a){return function(b){return e["=="](e.eqString)(a)(b)}}),y=new e.Eq(function(a){return function(b){return e["=="](z)(a.value0.key)(b.value0.key)}}),A=new e.Eq(function(a){return function(b){return e["=="](y)(a.output)(b.output)&&e["=="](y)(a.input)(b.input)&&
a.outputIndex===b.outputIndex&&a.inputIndex===b.inputIndex}});a.VDestination=b;a.VGain=c;a.VDelay=g;a.VAudioBufferSource=f;a.VBiquadFilter=h;a.VVideoElement=m;a.VStereoPanner=k;a.VConvolver=n;a.VChannelSplitter=q;a.VChannelMerger=r;a.VDynamicsCompressor=p;a.VOscillator=v;a.VAnalyser=w;a.VMediaStream=l;a.VNode=E;a.eq_vNode=y;a.eq_VNodeName=z;a.eq_VConnection=A})(d["Sound.AudioGraph.Types"]=d["Sound.AudioGraph.Types"]||{});(function(a){var e=d["Sound.AudioGraph.Core"],b=d["WebAudio.Core"],c=d["WebAudio.Gain"],
g=d["WebAudio.Delay"],f=d["WebAudio.AudioBufferSource"],h=d["WebAudio.BiquadFilter"],m=d["WebAudio.MediaElementSource"],k=d["WebAudio.StereoPanner"],n=d["WebAudio.Convolver"],q=d["WebAudio.Splitter"],r=d["WebAudio.Merger"],p=d["WebAudio.Compressor"],v=d["WebAudio.Oscillator"],w=d["WebAudio.Analyser"],l=d["WebAudio.MediaStream"],E=d["Data.Int"],z=d.Prelude,y=d["Unsafe.Coerce"],A=d["Data.Maybe"],t=d["Data.Either"],S=d["Data.Array"],u=d["Data.Traversable"],K=d["Control.Monad"],C=d["Control.Monad.Eff"],
G=d["Control.Monad.Eff.Class"],N=d["Control.Monad.Eff.Console"],D=d["Control.Monad.Error.Class"],J=d["Control.Monad.Eff.Exception"],M=d["Control.Monad.Aff"],F=d["Data.Foreign.EasyFFI"],O=d["Sound.AudioGraph.Types"],T=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),x=function(a){return function(d){return function(e){var N=function(a){return function(b){b=S.head(S.filter(function(b){return z["=="](O.eq_VNodeName)(b.value0.name)(a)})(b));if(b instanceof A.Nothing)return new t.Left(a);
if(b instanceof A.Just)return new t.Right(b.value0);throw Error("Failed pattern match at Sound.AudioGraph.Core line 171, column 5 - line 172, column 5: "+[b.constructor.name]);}},G=S.nub(O.eq_VConnection)(d.graph),E=S.nub(O.eq_vNode)(S.concatMap(function(a){return[a.output,a.input]})(e)),D=S.nub(O.eq_vNode)(S.concatMap(function(a){return[a.output,a.input]})(G));return function(){u["for"](C.applicativeEff)(u.traversableArray)(S["\\\\"](O.eq_VConnection)(G)(e))(function(a){return t.either(function(a){return J.throwException(J.error("remove conns"))})(z.id(z.categoryFn))(z.bind(t.bindEither)(N(a.output.value0.key)(d.rnodes))(function(c){return z.bind(t.bindEither)(N(a.input.value0.key)(d.rnodes))(function(d){return z.pure(t.applicativeEither)(b.disconnect(c.value0.node)(d.value0.node)(a.outputIndex)(a.inputIndex))})}))})();
u["for"](C.applicativeEff)(u.traversableArray)(S["\\\\"](O.eq_vNode)(D)(E))(function(a){return t.either(function(a){return J.throwException(J.error("remove nodes"))})(z.id(z.categoryFn))(z.bind(t.bindEither)(N(a.value0.key)(d.rnodes))(function(a){return z.pure(t.applicativeEither)(z.pure(C.applicativeEff)(new T(a.value0)))}))})();var A=u["for"](C.applicativeEff)(u.traversableArray)(S.intersect(O.eq_vNode)(E)(D))(function(a){return t.either(function(a){return J.throwException(J.error("remaining"))})(z.id(z.categoryFn))(z.bind(t.bindEither)(N(a.value0.key)(d.rnodes))(function(a){return z.pure(t.applicativeEither)(z.pure(C.applicativeEff)(new T(a.value0)))}))})(),
M=u["for"](C.applicativeEff)(u.traversableArray)(S["\\\\"](O.eq_vNode)(E)(D))(function(d){return function(){var e=function(){if(d.value0.node instanceof O.VDestination)return b.getDestinationNode(a);if(d.value0.node instanceof O.VGain)return z["<$>"](C.functorEff)(c.gainToAudioNode)(c.createGain(a));if(d.value0.node instanceof O.VDelay)return z["<$>"](C.functorEff)(y.unsafeCoerce)(g.createDelay(a));if(d.value0.node instanceof O.VAudioBufferSource)return function(){var b=f.createBufferSource(d.value0.node.value0.buffer)(a)();
K.when(C.monadEff)(d.value0.node.value0.playing)(f.startAudioBufferSource(d.value0.node.value0.when)(d.value0.node.value0.offset)(d.value0.node.value0.duration)(b))();return f.audioBufferSourceToAudioNode(b)};if(d.value0.node instanceof O.VBiquadFilter)return z["<$>"](C.functorEff)(h.biquadFilterToAudioNode)(h.createBiquadFilter(a));if(d.value0.node instanceof O.VVideoElement)return z["<$>"](C.functorEff)(m.mediaElementSourceToAudioNode)(m.createMediaElementSource(d.value0.node.value0.element)(a));
if(d.value0.node instanceof O.VStereoPanner)return z["<$>"](C.functorEff)(y.unsafeCoerce)(k.createStereoPanner(a));if(d.value0.node instanceof O.VConvolver)return z["<$>"](C.functorEff)(y.unsafeCoerce)(n.createConvolver(a));if(d.value0.node instanceof O.VChannelSplitter)return z["<$>"](C.functorEff)(q.channelSplitterToAudioNode)(q.createChannelSplitter(a));if(d.value0.node instanceof O.VChannelMerger)return z["<$>"](C.functorEff)(r.channelMergerToAudioNode)(r.createChannelMerger(a));if(d.value0.node instanceof
O.VDynamicsCompressor)return z["<$>"](C.functorEff)(p.dynamicsCompressorToAudioNode)(p.createDynamicsCompressor(a));if(d.value0.node instanceof O.VOscillator)return function(){var b=v.createOscillator(a)();v.startOscillator(0)(0)(b)();return y.unsafeCoerce(b)};if(d.value0.node instanceof O.VAnalyser)return function(){var b=w.createAnalyser(a)();return y.unsafeCoerce(b)};if(d.value0.node instanceof O.VMediaStream)return function(){var b=l.createMediaStreamSource(d.value0.node.value0)(a)();return y.unsafeCoerce(b)};
throw Error("Failed pattern match at Sound.AudioGraph.Core line 53, column 1 - line 54, column 1: "+[d.value0.node.constructor.name]);}()();return new T({name:d.value0.key,node:e})}})();return function(){var a=z["++"](z.semigroupArray)(A)(M);return function(){u["for"](C.applicativeEff)(u.traversableArray)(E)(function(b){var d=N(b.value0.key)(a);if(d instanceof t.Left)return J.throwException(J.error(d.value0));if(d instanceof t.Right)return b.value0.node instanceof O.VDestination?z.pure(C.applicativeEff)(z.unit):
b.value0.node instanceof O.VGain?c.setGain(b.value0.node.value0.gain)(y.unsafeCoerce(d.value0.value0.node)):b.value0.node instanceof O.VDelay?g.setDelayTime(b.value0.node.value0.delayTime)(y.unsafeCoerce(d.value0.value0.node)):b.value0.node instanceof O.VAudioBufferSource?z.pure(C.applicativeEff)(z.unit):b.value0.node instanceof O.VBiquadFilter?function(){h.setBiquadFilterType(b.value0.node.value0.type)(y.unsafeCoerce(d.value0.value0.node))();F.unsafeForeignProcedure(["n","v",""])("n.frequency.value = v;")(d.value0.value0.node)(b.value0.node.value0.frequency)();
F.unsafeForeignProcedure(["n","v",""])("n.detune.value = v;")(d.value0.value0.node)(b.value0.node.value0.detune)();F.unsafeForeignProcedure(["n","v",""])("n.Q.value = v;")(d.value0.value0.node)(b.value0.node.value0.q)();F.unsafeForeignProcedure(["n","v",""])("n.gain.value = v;")(d.value0.value0.node)(b.value0.node.value0.gain)();return z.unit}:b.value0.node instanceof O.VVideoElement?z.pure(C.applicativeEff)(z.unit):b.value0.node instanceof O.VStereoPanner?k.setPan(b.value0.node.value0.pan)(y.unsafeCoerce(d.value0.value0.node)):
b.value0.node instanceof O.VConvolver?n.setBuffer(b.value0.node.value0.buffer)(y.unsafeCoerce(d.value0.value0.node)):b.value0.node instanceof O.VDynamicsCompressor?z["void"](C.functorEff)(function(){F.unsafeForeignProcedure(["n","v",""])("n.threshold.value = v;")(d.value0.value0.node)(b.value0.node.value0.threshold)();F.unsafeForeignProcedure(["n","v",""])("n.knee.value = v;")(d.value0.value0.node)(b.value0.node.value0.knee)();F.unsafeForeignProcedure(["n","v",""])("n.ratio.value = v;")(d.value0.value0.node)(b.value0.node.value0.ratio)();
F.unsafeForeignProcedure(["n","v",""])("n.reduction.value = v;")(d.value0.value0.node)(b.value0.node.value0.reduction)();F.unsafeForeignProcedure(["n","v",""])("n.attack.value = v;")(d.value0.value0.node)(b.value0.node.value0.attack)();return F.unsafeForeignProcedure(["n","v",""])("n.release.value = v;")(d.value0.value0.node)(b.value0.node.value0.release)()}):b.value0.node instanceof O.VOscillator?z["void"](C.functorEff)(function(){F.unsafeForeignProcedure(["n","v",""])("n.type = v;")(d.value0.value0.node)(z.show(v.show_OscillatorType)(b.value0.node.value0.type))();
F.unsafeForeignProcedure(["n","v",""])("n.frequency.value = v;")(d.value0.value0.node)(b.value0.node.value0.frequency)();return F.unsafeForeignProcedure(["n","v",""])("n.detune.value = v;")(d.value0.value0.node)(b.value0.node.value0.detune)()}):b.value0.node instanceof O.VAnalyser?z["void"](C.functorEff)(z.pure(C.applicativeEff)(z.unit)):z.pure(C.applicativeEff)(z.unit);throw Error("Failed pattern match at Sound.AudioGraph.Core line 53, column 1 - line 54, column 1: "+[d.constructor.name]);})();u["for"](C.applicativeEff)(u.traversableArray)(S["\\\\"](O.eq_VConnection)(e)(G))(function(c){return t.either(function(a){return J.throwException(J.error("add conns"))})(z.id(z.categoryFn))(z.bind(t.bindEither)(N(c.output.value0.key)(a))(function(d){return z.bind(t.bindEither)(N(c.input.value0.key)(a))(function(a){return z.pure(t.applicativeEither)(b.connect(d.value0.node)(a.value0.node)(c.outputIndex)(c.inputIndex))})}))})();
var f={},m;for(m in d)d.hasOwnProperty(m)&&(f[m]=d[m]);f.graph=e;f.rnodes=a;return f}}()()}}}};a.renderOfflineAudio=function(a){return function(c){return function(d){return function(e){return z.bind(M.bindAff)(G.liftEff(M.monadEffAff)(b.createOfflineAudioContext(a)(E.floor(d*c))(d)))(function(a){return z.bind(M.bindAff)(G.liftEff(M.monadEffAff)(J.catchException(function(a){return z.pure(C.applicativeEff)(t.Left.create(a))})(z["<$>"](C.functorEff)(t.Right.create)(x(b.offlineAudioContextToAudioContext(a))({graph:[],
rnodes:[]})(e)))))(function(c){if(c instanceof t.Left)return D.throwError(M.monadErrorAff)(c.value0);if(c instanceof t.Right)return b.startRendering(a);throw Error("Failed pattern match at Sound.AudioGraph.Core line 182, column 1 - line 183, column 1: "+[c.constructor.name]);})})}}}};a.update=function(a){return J.catchException(N.print(J.showError))(function(){var b=e._readFromAudioGraph(),c=e.getAudioGraphContext(),b=x(c)(b)(a)();return e._writeToAudioGraph(b)()})};a.getAudioGraphContext=e.getAudioGraphContext})(d["Sound.AudioGraph.Core"]=
d["Sound.AudioGraph.Core"]||{});(function(a){a.createElement=function(){var a=x(2);return function(b){return a(b)}}();a.diff=function(){var a=x(15);return function(b){return function(c){return a(b,c)}}}();a.patch=function(){var a=x(20);return function(b){return function(c){return function(){return a(c,b)}}}}();a.vtext=function(){var a=x(25);return function(b){return new a(b)}}();a.vnode=function(){var a=x(26),b=x(27);return function(c){return function(d){return function(f){return function(h){return function(m){"input"===
d&&void 0!==h.value&&(h.value=new b(h.value));return new a(d,h,m,f,c)}}}}}}();a.prop=function(a,b){var c={};c[a]=b;return c};a.attrProp=function(a,b){var c={attributes:{}};c.attributes[a]=b;return c};a.handlerProp=function(a,b){var c=function(){},d={};c.prototype.callback=function(a){b(a)()};c.prototype.hook=function(b){b.addEventListener(a,this.callback)};c.prototype.unhook=function(b){b.removeEventListener(a,this.callback)};d["opticui-hook-"+a]=new c(b);return d};a.concatProps=function(){var a=
Object.prototype.hasOwnProperty,b=function(b,d){for(var f in b)if(a.call(b,f))if("attributes"===f){var h=b[f],m=d[f],k;for(k in h)a.call(h,k)&&(m[k]=h[k])}else d[f]=b[f];return d};return function(a,d){return b(a,b(d,{attributes:{}}))}}();a.emptyProps={};a.initializer=function(a,b){var c=function(){};c.prototype.hook=function(a){a.initialized||(a.initialized=!0,b(a)())};var d={};d[a]=new c(b);return d};a.finalizer=function(a,b){var c=function(){};c.prototype.unhook=function(a){b(a)()};var d={};d[a]=
new c(b);return d}})(d["OpticUI.Internal.VirtualDOM"]=d["OpticUI.Internal.VirtualDOM"]||{});(function(a){var e=d["OpticUI.Internal.VirtualDOM"],b=d["Data.Monoid"],c=new d.Prelude.Semigroup(d["Data.Function"].runFn2(e.concatProps)),b=new b.Monoid(function(){return c},e.emptyProps);a.semigroupProps=c;a.monoidProps=b;a.finalizer=e.finalizer;a.initializer=e.initializer;a.handlerProp=e.handlerProp;a.attrProp=e.attrProp;a.prop=e.prop;a.vnode=e.vnode;a.vtext=e.vtext;a.patch=e.patch;a.diff=e.diff;a.createElement=
e.createElement})(d["OpticUI.Internal.VirtualDOM"]=d["OpticUI.Internal.VirtualDOM"]||{});(function(a){var e=d.Prelude,b=d["Data.Exists"],c=d["Data.Monoid"],g=d["Unsafe.Coerce"],f=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),h=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),m=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,
c)}};return a}(),k=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),n=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),q=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b,c,d,e){this.value0=b;this.value1=c;this.value2=d;this.value3=e}a.create=function(b){return function(c){return function(d){return function(e){return new a(b,c,d,e)}}}};return a}(),w=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),l=g.unsafeCoerce,E=g.unsafeCoerce,z=new e.Semigroup(function(a){return function(b){return new w(e["++"](e.semigroupArray)(a.value0)(b.value0))}}),c=new c.Monoid(function(){return z},
new w([])),y=r.create;a.PropE=f;a.AttrP=h;a.PropP=m;a.HandlerP=k;a.InitializerP=n;a.FinalizerP=q;a.KeyP=r;a.Text=p;a.Element=v;a.Markup=w;a.runFinalizer=function(a){return function(b){return a(g.unsafeCoerce(b))}};a.initializer=function(a){return function(b){return new n(a,l(b))}};a.runInitializer=function(a){return function(b){return a(g.unsafeCoerce(b))}};a.mkInitializer=l;a.runEventHandler=function(a){return function(b){return a(g.unsafeCoerce(b))}};a.mkEventHandler=E;a.key=y;a.handle=function(a){return function(b){return new k(a,
E(b))}};a.prop=function(a){return function(c){return new m(a,b.mkExists(new f(c)))}};a.attr=function(a){return function(b){return new h(a,b)}};a.text=function(a){return new w([new p(a)])};a.element=function(a){return function(b){return function(c){return function(d){return new w([new v(a,b,c,d)])}}}};a.markupSemigroup=z;a.markupMonoid=c})(d["OpticUI.Markup"]=d["OpticUI.Markup"]||{});(function(a){var e=d["Control.Monad.State.Class"],b=d.Prelude,c=d["Data.Profunctor"],g=d["Data.Profunctor.Strong"],
f=d["Control.Monad.State"],h=d["Control.Monad.Eff"],m=d["Data.Monoid"],k=d["Data.Traversable"],n=d["Data.Tuple"],q=d["Data.Functor.Contravariant"],r=d["Control.Monad.State.Trans"],p=d["Data.Identity"],v=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),w=function(a){return new b.Semigroup(function(c){return function(d){return function(e){return function(f){return b["<*>"](h.applyEff)(b["<$>"](h.functorEff)(b.append(a))(c(e)(f)))(d(e)(f))}}}})},
l=function(a){return function(b){return new v(b,a(b))}},E=new q.Contravariant(function(a){return function(b){return function(c){return b(a(c))}}}),z=new b.Functor(function(a){return function(b){return new v(a(b.value0),function(c){return b.value1(q.cmap(E)(a)(c))})}}),y=function(a){return new b.Apply(function(){return z},function(c){return function(d){return new v(c.value0(d.value0),function(e){return b["<*>"](h.applyEff)(b["<$>"](h.functorEff)(b.append(a))(c.value1(q.cmap(E)(function(a){return a(d.value0)})(e))))(d.value1(q.cmap(E)(b.$(c.value0))(e)))})}})},
A=function(a){return new b.Applicative(function(){return y(a["__superclass_Prelude.Semigroup_0"]())},function(c){return new v(c,function(c){return b.pure(h.applicativeEff)(m.mempty(a))})})},t=new c.Profunctor(function(a){return function(b){return function(c){return function(d){return function(e){return c(a(d))(q.cmap(E)(b)(e))}}}}}),c=new g.Strong(function(){return t},function(a){return function(b){return function(c){return a(b.value0)(q.cmap(E)(function(a){return new n.Tuple(a,b.value1)})(c))}}},
function(a){return function(b){return function(c){return a(b.value1)(q.cmap(E)(function(a){return new n.Tuple(b.value0,a)})(c))}}}),S=function(a){return function(b){return a(b).value1}};a.Handler=function(a){return a};a.foreach=function(a){return function(b){return function(c){var d=function(a){return function(c){return f.evalState(k.traverse(b)(r.applicativeStateT(p.monadIdentity))(function(b){return e.state(r.monadStateStateT(p.monadIdentity))(function(c){return new n.Tuple(a(c)(b),c+1|0)})})(c))(0)}};
return S(function(e){return k.sequence(b)(A(a))(d(function(a){return l(c(a))})(e))})}}};a.withView=function(a){return function(c){return function(d){return function(e){return b.map(h.functorEff)(a)(c(d)(e))}}}};a["with"]=function(a){return function(b){return function(c){return a(b)(c)(b)(c)}}};a.ui=function(a){return function(c){return function(c){return b.pure(h.applicativeEff)(a)}}};a.runUI=function(a){return a};a.runHandler=function(a){return a};a.uiProfunctor=t;a.uiStrong=c;a.uiSemigroup=w;a.uiMonoid=
function(a){return new m.Monoid(function(){return w(a["__superclass_Prelude.Semigroup_0"]())},function(c){return function(c){return b.pure(h.applicativeEff)(m.mempty(a))}})};a.handlerContravariant=E})(d["OpticUI.Core"]=d["OpticUI.Core"]||{});(function(a){var e=d.Prelude,b=d["OpticUI.Internal.VirtualDOM"],c=d["OpticUI.Markup"],g=d["OpticUI.Core"],f=d["Control.Monad"],h=d["Control.Monad.Eff"],m=d["Control.Monad.Eff.Ref"],k=d["Control.Monad.State"],n=d["Control.Monad.State.Class"],q=d["Data.Exists"],
r=d["Data.Maybe"],p=d["Data.Nullable"],v=d["Data.Monoid"],w=d["Data.Tuple"],l=d["Data.Traversable"],E=d["Data.Foldable"],z=d["Data.Array"],y=d["Data.StrMap"],A=d["DOM.Event.EventTarget"],t=d["DOM.Event.EventTypes"],S=d["DOM.HTML"],u=d["DOM.HTML.Document"],K=d["DOM.HTML.Types"],C=d["DOM.HTML.Window"],G=d["DOM.Node.Node"],N=d["Control.Monad.State.Trans"],D=d["Data.Identity"],J=function(a){return function(){var b=S.window();return function(){var c=K.windowToEventTarget(b);return A.addEventListener(t.load)(A.eventListener(function(b){return a}))(!1)(c)}()()}},
M=function(a){return function(b){return function(c){return function(d){return e.bind(N.bindStateT(D.monadIdentity))(n.gets(N.monadStateStateT(D.monadIdentity))(a))(function(a){var f=y.lookup(c)(a);if(f instanceof r.Nothing)return e.bind(N.bindStateT(D.monadIdentity))(n.modify(N.monadStateStateT(D.monadIdentity))(b(y.insert(c)(d)(a))))(function(){return e["return"](N.applicativeStateT(D.monadIdentity))(d)});if(f instanceof r.Just)return e["return"](N.applicativeStateT(D.monadIdentity))(f.value0);throw Error("Failed pattern match at OpticUI.Run line 109, column 1 - line 114, column 1: "+
[f.constructor.name]);})}}}},F=function(a){if(a instanceof c.AttrP)return e.pure(N.applicativeStateT(D.monadIdentity))(b.attrProp(a.value0,a.value1));if(a instanceof c.HandlerP)return e.pure(N.applicativeStateT(D.monadIdentity))(c.runEventHandler(function(c){return b.handlerProp(a.value0,c)})(a.value1));if(a instanceof c.PropP)return e.pure(N.applicativeStateT(D.monadIdentity))(q.runExists(function(c){return b.prop(a.value0,c.value0)})(a.value1));if(a instanceof c.InitializerP)return M(function(a){return a.initializers})(function(a){return function(b){var c=
{},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.initializers=a;return c}})(a.value0)(c.runInitializer(function(c){return b.initializer(a.value0,c)})(a.value1));if(a instanceof c.FinalizerP)return M(function(a){return a.finalizers})(function(a){return function(b){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.finalizers=a;return c}})(a.value0)(c.runFinalizer(function(c){return b.finalizer(a.value0,c)})(a.value1));if(a instanceof c.KeyP)return e.pure(N.applicativeStateT(D.monadIdentity))(v.mempty(b.monoidProps));
throw Error("Failed pattern match at OpticUI.Run line 96, column 1 - line 97, column 1: "+[a.constructor.name]);},O=function(a){return function(b){return b instanceof c.KeyP?new r.Just(b.value0):a}},T=function(a){if(a instanceof c.Text)return e["return"](N.applicativeStateT(D.monadIdentity))(b.vtext(a.value0));if(a instanceof c.Element)return e.bind(N.bindStateT(D.monadIdentity))(z.foldM(N.monadStateT(D.monadIdentity))(function(a){return function(c){return e["<$>"](N.functorStateT(D.monadIdentity))(e.append(b.semigroupProps)(a))(F(c))}})(v.mempty(b.monoidProps))(a.value2))(function(c){var d=
E.foldl(E.foldableArray)(O)(r.Nothing.value)(a.value2);return e.bind(N.bindStateT(D.monadIdentity))(l.traverse(l.traversableArray)(N.applicativeStateT(D.monadIdentity))(T)(a.value3.value0))(function(f){return e["return"](N.applicativeStateT(D.monadIdentity))(b.vnode(p.toNullable(a.value0))(a.value1)(p.toNullable(d))(c)(f))})});throw Error("Failed pattern match: "+[a.constructor.name]);},x=function(a){return function(c){var d=p.toNullable(r.Nothing.value);c=k.runState(l.traverse(l.traversableArray)(N.applicativeStateT(D.monadIdentity))(T)(a.value0))(c);
return new w.Tuple(b.vnode(d)("div")(d)(v.mempty(b.monoidProps))(c.value0),c.value1)}},Q=function(a){return function(){var b=S.window(),b=C.document(b)(),b=e["<$>"](h.functorEff)(p.toMaybe)(u.body(b))();if(b instanceof r.Nothing)b=e.pure(h.applicativeEff)(e.unit);else if(b instanceof r.Just)b=e["void"](h.functorEff)(G.appendChild(K.htmlElementToNode(a))(K.htmlElementToNode(b.value0)));else throw Error("Failed pattern match at OpticUI.Run line 130, column 1 - line 131, column 1: "+[b.constructor.name]);
return b()}};a.appendToBody=Q;a.onLoad=J;a.findProp=M;a.toVProp=F;a.findKey=O;a.toVTree=T;a.buildVTree=x;a.animate=function(a){return function(c){var d=b.vtext(""),k=b.createElement(d);return function(){var l=m.newRef(d)(),n=m.newRef(k)(),p=m.newRef(a)(),q=m.newRef(0)(),r=m.newRef({initializers:y.empty,finalizers:y.empty})();return function(){var d=function(a){return function(b){return function(){var c=m.readRef(q)();return f.when(h.monadEff)(a===c)(function(){m.writeRef(q)(c+1|0)();return b()})()}}},
v=function(a){return function(f){return d(a)(function(){var d=m.readRef(l)(),k=m.readRef(r)(),q=e["<$>"](h.functorEff)(function(a){return x(a)(k)})(g.runUI(c)(f)(g.Handler(v(a+1|0))))();m.writeRef(r)(q.value1)();m.writeRef(l)(q.value0)();m.writeRef(p)(f)();var w=m.readRef(n)(),d=b.patch(b.diff(d)(q.value0))(w)();return m.writeRef(n)(d)()})}},w=function(a){return function(){var b=m.readRef(q)(),c=m.readRef(p)(),c=a(c)();return v(b)(c)()}};return function(){J(function(){Q(k)();return v(0)(a)()})();
return e["return"](h.applicativeEff)(w)()}}()()}}}})(d["OpticUI.Run"]=d["OpticUI.Run"]||{});(function(a){a[".*="]=function(a){return function(b){return{x:a*b.x,y:a*b.y}}};a["=-="]=function(a){return function(b){return{x:a.x-b.x,y:a.y-b.y}}};a["=+="]=function(a){return function(b){return{x:a.x+b.x,y:a.y+b.y}}}})(d["Soundknot.Linear"]=d["Soundknot.Linear"]||{});(function(a){var e=d.Prelude,b=d["Data.List"];a.redoList=function(a){return a.redoList};a.undoList=function(a){return a.undoList};a.overwrite=
function(a){return function(b){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.state=b;return d}};a.record=function(a){return function(a){return function(c){if(e.otherwise){var d={},m;for(m in a)a.hasOwnProperty(m)&&(d[m]=a[m]);d.state=c;d.undoList=b[":"](a.state)(a.undoList);d.redoList=b.Nil.value;return d}throw Error("Failed pattern match at Soundknot.Historical line 43, column 1 - line 45, column 1: "+[a.constructor.name,c.constructor.name]);}}};a.redoable=function(a){return!b["null"](a.redoList)};
a.undoable=function(a){return!b["null"](a.undoList)};a.redo=function(a){if(a.redoList instanceof b.Nil)return a;if(a.redoList instanceof b.Cons){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.state=a.redoList.value0;d.undoList=b[":"](a.state)(a.undoList);d.redoList=a.redoList.value1;return d}throw Error("Failed pattern match at Soundknot.Historical line 34, column 1 - line 35, column 1: "+[a.redoList.constructor.name]);};a.undo=function(a){if(a.undoList instanceof b.Nil)return a;if(a.undoList instanceof
b.Cons){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.state=a.undoList.value0;d.undoList=a.undoList.value1;d.redoList=b[":"](a.state)(a.redoList);return d}throw Error("Failed pattern match at Soundknot.Historical line 25, column 1 - line 26, column 1: "+[a.undoList.constructor.name]);};a.runHistorical=function(a){return a.state};a.historical=function(a){return{state:a,undoList:b.Nil.value,redoList:b.Nil.value}}})(d["Soundknot.Historical"]=d["Soundknot.Historical"]||{});(function(a){var e=
d.Math,b=d["Data.StrMap"],c=d.Prelude,g=d["Unsafe.Coerce"],f=d["Data.Nullable"],h=d["Data.Maybe"],m=d["Data.Foldable"],k=d["Data.Int"],n=d["Data.Either"],q={bpm:120,tracks:[{clips:[],selected:!1}],markers:[{name:"start",position:0},{name:"end",position:8}],translation:-2,scale:16,width:640,cursor:0,start:f.toNullable(h.Nothing.value),scrolling:!1,mouseDownPoint:f.toNullable(h.Nothing.value)},r=function(a){return a},p=function(a){return function(b){return k.toNumber(b)/a}},v=new c.Eq(function(a){return function(b){return c.eq(c.eqNumber)(a)(b)}}),
w=new c.Ord(function(){return v},function(a){return function(b){return c.compare(c.ordNumber)(a)(b)}});a.Beats=function(a){return a};a.Seconds=function(a){return a};a.readTimeline=function(a){return c.pure(n.applicativeEither)(g.unsafeCoerce(a))};a.clipLength=function(a){return function(d){return function(k){return function(k){return m.foldr(m.foldableArray)(function(a){return function(b){return c["<*>"](h.applyMaybe)(c["<$>"](h.functorMaybe)(e.max)(a))(b)}})(new h.Just(0))(c.map(c.functorArray)(function(c){var e=
f.toMaybe(c.length);if(e instanceof h.Nothing){c=b.lookup(c.buffer)(d);if(c instanceof h.Nothing)return h.Nothing.value;if(c instanceof h.Just)return h.Just.create(r(p(a)(g.unsafeCoerce(c.value0).length)));throw Error("Failed pattern match at Soundknot.UI.Timeline.Types line 108, column 1 - line 109, column 1: "+[c.constructor.name]);}if(e instanceof h.Just)return new h.Just(c.offset+e.value0);throw Error("Failed pattern match at Soundknot.UI.Timeline.Types line 108, column 1 - line 109, column 1: "+
[e.constructor.name]);})(k.slices))}}}};a.addSeconds=function(a){return function(b){return a+b}};a.indexToSeconds=p;a.secondsToIndex=function(a){return function(b){return k.floor(b*a)}};a.secondsToBeats=function(a){return function(b){return a/60*b}};a.beatsToSeconds=function(a){return function(b){return b/(a/60)}};a.runBeats=function(a){return a};a.runSeconds=r;a.timelineInitialState=q;a.eq_Beats=v;a.ord_Beats=w})(d["Soundknot.UI.Timeline.Types"]=d["Soundknot.UI.Timeline.Types"]||{});(function(a){a._ajax=
function(a,b,c,d,f){var h={};"undefined"!==typeof H&&H.require?(h.newXHR=function(){return new (H.require("xhr2"))},h.fixupUrl=function(a){var b=H.require("url");a=b.parse(a);a.protocol=a.protocol||"http:";a.hostname=a.hostname||"localhost";return b.format(a)},h.getResponse=function(a){return a.response}):(h.newXHR=function(){return new XMLHttpRequest},h.fixupUrl=function(a){return a||"/"},h.getResponse=function(a){return a.response});return function(){var m=h.newXHR(),k=h.fixupUrl(b.url);m.open(b.method||
"GET",k,!0,b.username,b.password);if(b.headers)for(var k=0,n;null!=(n=b.headers[k]);k++)m.setRequestHeader(n.field,n.value);m.onerror=function(){d(Error("AJAX request failed: "+b.method+" "+b.url))()};m.onload=function(){f({status:m.status,headers:m.getAllResponseHeaders().split("\n").filter(function(a){return 0<a.length}).map(function(b){var c=b.indexOf(":");return a(b.substring(0,c))(b.substring(c+2))}),response:h.getResponse(m)})()};m.responseType=b.responseType;m.send(b.content);return c(m)}};
a._cancelAjax=function(a,b,c,d){return function(){try{a.abort()}catch(b){return d(!1)()}return d(!0)()}}})(d["Network.HTTP.Affjax"]=d["Network.HTTP.Affjax"]||{});(function(a){a.mimeTypeToString=function(a){return a}})(d["Network.HTTP.MimeType"]=d["Network.HTTP.MimeType"]||{});(function(a){var e=d["Data.Maybe"],b=d["Data.Tuple"],c=d["Unsafe.Coerce"],g=function(a){this.toRequest=a},f=new g(function(a){return b.Tuple.create(e.Nothing.value)(c.unsafeCoerce(a))});a.Requestable=g;a.toRequest=function(a){return a.toRequest};
a.requestableUnit=f})(d["Network.HTTP.Affjax.Request"]=d["Network.HTTP.Affjax.Request"]||{});(function(a){var e=d["Data.Foreign"],b=d["Data.Maybe"],c=d["Data.Tuple"],g=function(){function a(){}a.value=new a;return a}(),f=function(){function a(){}a.value=new a;return a}(),h=function(){function a(){}a.value=new a;return a}(),m=function(){function a(){}a.value=new a;return a}(),k=function(){function a(){}a.value=new a;return a}(),n=function(a,b){this.fromResponse=a;this.responseType=b},e=new n(e.unsafeReadTagged("ArrayBuffer"),
new c.Tuple(b.Nothing.value,g.value));a.ArrayBufferResponse=g;a.BlobResponse=f;a.DocumentResponse=h;a.JSONResponse=m;a.StringResponse=k;a.Respondable=n;a.fromResponse=function(a){return a.fromResponse};a.responseType=function(a){return a.responseType};a.responseTypeToString=function(a){if(a instanceof g)return"arraybuffer";if(a instanceof f)return"blob";if(a instanceof h)return"document";if(a instanceof m||a instanceof k)return"text";throw Error("Failed pattern match at Network.HTTP.Affjax.Response line 52, column 1 - line 53, column 1: "+
[a.constructor.name]);};a.responsableArrayBuffer=e})(d["Network.HTTP.Affjax.Response"]=d["Network.HTTP.Affjax.Response"]||{});(function(a){var e=d.Prelude,b=function(){function a(){}a.value=new a;return a}(),c=function(){function a(){}a.value=new a;return a}(),g=function(){function a(){}a.value=new a;return a}(),f=function(){function a(){}a.value=new a;return a}(),h=function(){function a(){}a.value=new a;return a}(),m=function(){function a(){}a.value=new a;return a}(),k=function(){function a(){}a.value=
new a;return a}(),n=function(){function a(){}a.value=new a;return a}(),q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=new e.Show(function(a){if(a instanceof b)return"DELETE";if(a instanceof c)return"GET";if(a instanceof g)return"HEAD";if(a instanceof f)return"OPTIONS";if(a instanceof h)return"PATCH";if(a instanceof m)return"POST";if(a instanceof k)return"PUT";if(a instanceof n)return"MOVE";if(a instanceof
q)return"COPY";if(a instanceof r)return"(CustomMethod "+(e.show(e.showString)(a.value0)+")");throw Error("Failed pattern match at Network.HTTP.Method line 29, column 1 - line 41, column 1: "+[a.constructor.name]);});a.DELETE=b;a.GET=c;a.HEAD=g;a.OPTIONS=f;a.PATCH=h;a.POST=m;a.PUT=k;a.MOVE=n;a.COPY=q;a.CustomMethod=r;a.methodToString=function(a){return a instanceof r?a.value0:e.show(p)(a)};a.showMethod=p})(d["Network.HTTP.Method"]=d["Network.HTTP.Method"]||{});(function(a){var e=d["Network.HTTP.MimeType"],
b=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),c=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}();a.Accept=b;a.ContentType=c;a.RequestHeader=g;a.requestHeaderValue=function(a){if(a instanceof b||a instanceof c)return e.mimeTypeToString(a.value0);if(a instanceof g)return a.value1;throw Error("Failed pattern match at Network.HTTP.RequestHeader line 28, column 1 - line 29, column 1: "+
[a.constructor.name]);};a.requestHeaderName=function(a){if(a instanceof b)return"Accept";if(a instanceof c)return"Content-Type";if(a instanceof g)return a.value0;throw Error("Failed pattern match at Network.HTTP.RequestHeader line 23, column 1 - line 24, column 1: "+[a.constructor.name]);}})(d["Network.HTTP.RequestHeader"]=d["Network.HTTP.RequestHeader"]||{});(function(a){var d=function(){function a(b,d){this.value0=b;this.value1=d}a.create=function(c){return function(d){return new a(c,d)}};return a}();
a.responseHeader=function(a){return function(c){return new d(a,c)}}})(d["Network.HTTP.ResponseHeader"]=d["Network.HTTP.ResponseHeader"]||{});(function(a){var e=d["Network.HTTP.Affjax"],b=d.Prelude,c=d["Control.Bind"],g=d["Control.Monad.Aff"],f=d["Control.Monad.Eff.Exception"],h=d["Data.Array"],m=d["Data.Either"],k=d["Data.Foreign"],n=d["Data.Foldable"],q=d["Data.Function"],r=d["Data.Maybe"],p=d["Data.Nullable"],v=d["Data.Tuple"],w=d["Network.HTTP.Affjax.Request"],l=d["Network.HTTP.Affjax.Response"],
E=d["Network.HTTP.Method"],z=d["Network.HTTP.RequestHeader"],y=d["Network.HTTP.ResponseHeader"],A={method:E.GET.value,url:"/",headers:[],content:r.Nothing.value,username:r.Nothing.value,password:r.Nothing.value},t=function(a){return function(b){return g.makeAff(function(c){return function(d){return e._cancelAjax(a,b,c,d)}})}},x=function(a){return function(d){return function(g){return function(u){return function(D){var A=l.responseType(d),M=function(){var c=b["<$>"](r.functorMaybe)(w.toRequest(a))(g.content);
if(c instanceof r.Nothing)return new v.Tuple(r.Nothing.value,r.Nothing.value);if(c instanceof r.Just)return new v.Tuple(c.value0.value0,new r.Just(c.value0.value1));throw Error("Failed pattern match at Network.HTTP.Affjax line 204, column 1 - line 209, column 1: "+[c.constructor.name]);}(),F=v.snd(A)instanceof l.JSONResponse?c["<=<"](m.bindEither)(l.fromResponse(d))(c["<=<"](m.bindEither)(k.parseJSON)(k.readString)):l.fromResponse(d),O=function(a){return function(c){return a instanceof r.Just&&!n.any(n.foldableArray)(b.booleanAlgebraBoolean)(q.on(b.eq(b.eqString))(z.requestHeaderName)(a.value0))(c)?
h.snoc(c)(a.value0):c}},O=O(b["<$>"](r.functorMaybe)(z.ContentType.create)(v.fst(M)))(O(b["<$>"](r.functorMaybe)(z.Accept.create)(v.fst(A)))(g.headers)),A={method:E.methodToString(g.method),url:g.url,headers:b["<$>"](b.functorArray)(function(a){return{field:z.requestHeaderName(a),value:z.requestHeaderValue(a)}})(O),content:p.toNullable(v.snd(M)),responseType:l.responseTypeToString(v.snd(A)),username:p.toNullable(g.username),password:p.toNullable(g.password)};return e._ajax(y.responseHeader,A,t,u,
function(a){var c=b["<$>"](m.functorEither)(function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.response=b;return c})(F(a.response));if(c instanceof m.Left)return u(f.error(b.show(k.showForeignError)(c.value0)));if(c instanceof m.Right)return D(c.value0);throw Error("Failed pattern match at Network.HTTP.Affjax line 204, column 1 - line 209, column 1: "+[c.constructor.name]);})}}}}},u=function(a){return function(b){return function(c){return g["makeAff'"](x(a)(b)(c))}}};a.get=function(a){return function(b){var c=
u(w.requestableUnit)(a),d={},e;for(e in A)A.hasOwnProperty(e)&&(d[e]=A[e]);d.url=b;return c(d)}};a.affjax=u;a.defaultRequest=A})(d["Network.HTTP.Affjax"]=d["Network.HTTP.Affjax"]||{});(function(a){var e=d["Data.Int"],b=d["WebAudio.Core"],c=d.Math,g=d.Prelude,f=d["Data.Nullable"],h=d["Data.Maybe"],m=d["Data.Foldable"],k=d["Data.Array"],n=d["Data.StrMap"],q=d["Soundknot.Linear"],r=d["Soundknot.Historical"],p=d["Soundknot.UI.Timeline.Types"],v=function(){function a(){}a.value=new a;return a}(),w=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),l=function(){function a(){}a.value=new a;return a}(),E=function(){function a(){}a.value=new a;return a}(),z=function(){function a(){}a.value=new a;return a}(),y=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),A=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),t=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),x=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),u=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),K=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),C=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),G=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),N=function(){function a(){}a.value=
new a;return a}(),D=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),J=function(){function a(){}a.value=new a;return a}(),M=function(){function a(){}a.value=new a;return a}(),F=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),O=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),T=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),H=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),Q=function(){function a(){}a.value=new a;return a}(),aa=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),I=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),P=new g.Show(function(a){if(a instanceof l)return"audio";if(a instanceof E)return"buffer";if(a instanceof z)return"midi";throw Error("Failed pattern match at Soundknot.Types line 385, column 1 - line 390, column 1: "+
[a.constructor.name]);}),B=new g.Eq(function(a){return function(b){return a instanceof v&&b instanceof v?!0:a instanceof w&&b instanceof w?g["=="](g.eqString)(a.value0)(b.value0):!1}}),Z=new g.Eq(function(a){return function(b){return a instanceof l&&b instanceof l||a instanceof E&&b instanceof E?!0:!1}}),W=new g.Eq(function(a){return function(b){return g.eq(g.eqString)(a.node)(b.node)&&g.eq(g.eqString)(a.connector)(b.connector)}}),ca=new g.Eq(function(a){return function(b){return g["=="](g.eqString)(a.name)(b.name)&&
a.position.x===b.position.x&&a.position.y===b.position.y&&g["=="](g.eqBoolean)(a.dragging)(b.dragging)&&a.zIndex===b.zIndex}}),X=new g.Eq(function(a){return function(b){return g.eq(W)(a.output)(b.output)&&g.eq(W)(a.input)(b.input)}}),R=new g.Eq(function(a){return function(b){return g["=="](g.eqArray(ca))(a.nodes)(b.nodes)&&g["=="](g.eqArray(X))(a.edges)(b.edges)}});a.AudioNodeValue=l;a.AudioBufferValue=E;a.MidiValue=z;a.DestinationFrame=t;a.GainFrame=x;a.DelayFrame=u;a.AudioBufferFrame=K;a.VideoFrame=
C;a.StereoPannerFrame=G;a.ConvolverFrame=N;a.AnalyserFrame=D;a.ChannelSplitterFrame=J;a.ChannelMergerFrame=M;a.DynamicsCompressorFrame=F;a.BiquadFilterFrame=O;a.WaveShaperFrame=T;a.OscillatorFrame=H;a.MediaStreamFrame=Q;a.KeyboardFrame=aa;a.TimelineFrame=I;a.FileSource=y;a.URLMediaSource=A;a.NodeState=function(a){return a};a.State=function(a){return a};a.NewProject=v;a.ExistingProject=w;a.maxScaleFactor=5;a.minScaleFactor=-15;a.screenToWorld=function(a){return function(b){return q[".*="](1/c.pow(1.2)(e.toNumber(a.scaleFactor)))(q["=-="](b)(a.translation))}};
a.scaleBase=1.2;a.getOutputPorts=function(a){return function(b){if(b instanceof t)return[];if(b instanceof x||b instanceof u)return[{type:l.value,name:"output"}];if(b instanceof K)return[{type:E.value,name:"output"}];if(b instanceof C||b instanceof G||b instanceof N)return[{type:l.value,name:"output"}];if(b instanceof D)return[];if(b instanceof J)return[{type:l.value,name:"output-0"},{type:l.value,name:"output-1"},{type:l.value,name:"output-2"},{type:l.value,name:"output-3"},{type:l.value,name:"output-4"},
{type:l.value,name:"output-5"}];if(b instanceof M||b instanceof F||b instanceof O||b instanceof T||b instanceof H||b instanceof Q||b instanceof aa)return[{type:l.value,name:"output"}];if(b instanceof I)return g["<#>"](g.functorArray)(k[".."](0)(k.length(b.value0.tracks)-1))(function(a){return{type:l.value,name:"output-"+g.show(g.showInt)(a)}});throw Error("Failed pattern match at Soundknot.Types line 322, column 1 - line 323, column 1: "+[a.constructor.name,b.constructor.name]);}};a.getInputPorts=
function(a){return function(b){if(b instanceof t||b instanceof x||b instanceof u)return[{type:l.value,name:"input"}];if(b instanceof K||b instanceof C)return[];if(b instanceof G)return[{type:l.value,name:"input"}];if(b instanceof N)return[{type:l.value,name:"input"},{type:E.value,name:"buffer"}];if(b instanceof D||b instanceof J)return[{type:l.value,name:"input"}];if(b instanceof M)return[{type:l.value,name:"input-0"},{type:l.value,name:"input-1"},{type:l.value,name:"input-2"},{type:l.value,name:"input-3"},
{type:l.value,name:"input-4"},{type:l.value,name:"input-5"}];if(b instanceof F||b instanceof O||b instanceof T)return[{type:l.value,name:"input"}];if(b instanceof H||b instanceof Q||b instanceof aa||b instanceof I)return[];throw Error("Failed pattern match at Soundknot.Types line 293, column 1 - line 294, column 1: "+[a.constructor.name,b.constructor.name]);}};a.iconName=function(a){if(a instanceof t)return"headphones";if(a instanceof x)return"volume-up";if(a instanceof u)return"hourglass";if(a instanceof
K)return"oil";if(a instanceof C)return"music";if(a instanceof G)return"resize-horizontal";if(a instanceof N)return"random";if(a instanceof D)return"equalizer";if(a instanceof J)return"resize-full";if(a instanceof M)return"resize-small";if(a instanceof F)return"compressed";if(a instanceof O)return"filter";if(a instanceof T)return"";if(a instanceof H)return"bullhorn";if(a instanceof Q)return"record";if(a instanceof aa)return"menu-hamburger";if(a instanceof I)return"time";throw Error("Failed pattern match at Soundknot.Types line 272, column 1 - line 273, column 1: "+
[a.constructor.name]);};a.timelineSymbol="Timeline";a.keyboardSymbol="Keyboard";a.mediaStreamSymbol="Media Stream";a.oscillatorSymbol="Oscillator";a.waveShaperSymbol="Wave Shaper";a.biquadFilterSymbol="Biquad Filter";a.dynamicsCompressorSymbol="Dynamics Compressor";a.channelMergerSymbol="Channel Merger";a.channelSplitterSymbol="Channel Splitter";a.analyserSymbol="Analyser";a.convolverSymbol="Convolver";a.stereoPannerSymbol="Stereo Panner";a.videoSymbol="Media Element";a.audioBufferSymbol="Audio Buffer";
a.delaySymbol="Delay";a.gainSymbol="Gain";a.destinationSymbol="Destination";a.frameTypeToTitle=function(a){if(a instanceof t)return"Destination";if(a instanceof x)return"Gain";if(a instanceof u)return"Delay";if(a instanceof K)return"Audio Buffer";if(a instanceof C)return"Media Element";if(a instanceof G)return"Stereo Panner";if(a instanceof N)return"Convolver";if(a instanceof D)return"Analyser";if(a instanceof J)return"Channel Splitter";if(a instanceof M)return"Channel Merger";if(a instanceof F)return"Dynamics Compressor";
if(a instanceof O)return"Biquad Filter";if(a instanceof T)return"Wave Shaper";if(a instanceof H)return"Oscillator";if(a instanceof Q)return"Media Stream";if(a instanceof aa)return"Keyboard";if(a instanceof I)return"Timeline";throw Error("Failed pattern match at Soundknot.Types line 200, column 1 - line 201, column 1: "+[a.constructor.name]);};a.initialState=function(a){return function(b){return{projectName:a,projectEntries:[],selectedProject:h.Nothing.value,projectListVisible:!1,scaleFactor:0,translation:{x:0,
y:0},scrolling:h.Nothing.value,dragging:h.Nothing.value,connecting:h.Nothing.value,transition:!1,appendingNode:h.Nothing.value,project:r.historical({nodes:[],edges:[]}),driver:h.Nothing.value,audioBuffers:n.empty,audioFiles:n.empty,localMediaStream:h.Nothing.value,config:{theme:b},clipboard:h.Nothing.value,displayAbout:!0}}};a.audioClipLengthInSeconds=function(a){return function(d){return function(k){k=g.map(g.functorArray)(function(c){var k=f.toMaybe(c.length);if(k instanceof h.Just)return new h.Just(p.runSeconds(c.offset)+
p.runSeconds(k.value0));if(k instanceof h.Nothing)return g.bind(h.bindMaybe)(n.lookup(c.buffer)(d.audioBuffers))(function(d){return g.pure(h.applicativeMaybe)(p.runSeconds(c.offset)+e.toNumber(b.audioBufferLength(d))/a)});throw Error("Failed pattern match at Soundknot.Types line 162, column 5 - line 163, column 5: "+[k.constructor.name]);})(k.slices);return m.foldr(m.foldableArray)(function(a){return function(b){return a instanceof h.Just&&b instanceof h.Just?new h.Just(c.max(a.value0)(b.value0)):
h.Nothing.value}})(new h.Just(0))(k)}}};a.eq_Port=W;a.eq_Edge=X;a.show_PortValue=P;a.eq_PortValue=Z;a.eq_NodeState=ca;a.eq_Project=R;a.eq_ProjectEntrySelect=B})(d["Soundknot.Types"]=d["Soundknot.Types"]||{});(function(a){a.showSplash=function(){document.getElementById("splash").style.display="block"}})(d["Soundknot.UI"]=d["Soundknot.UI"]||{});(function(a){a._openFile=function(a){return function(b){return function(){var c=document.createElement("input");c.value=null;c.setAttribute("type","file");c.addEventListener("change",
function(){b(c.files[0])()});c.addEventListener("error",function(b){a(b.toString())()});var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(d)}}};a.now=function(){return performance.now()};a.toFixed=function(a){return function(b){return a.toFixed(b)}};a.getOffset=function(a){for(var b=a.currentTarget,c=0,d=0;b&&!isNaN(b.offsetLeft)&&!isNaN(b.offsetTop);)c+=b.offsetLeft-b.scrollLeft,d+=b.offsetTop-b.scrollTop,b=b.offsetParent;
return{x:a.clientX-c,y:a.clientY-d}};a.getAudioFile=function(a){if(a.dataTransfer&&a.dataTransfer.items)for(var b=0;b<a.dataTransfer.items.length;b++){var c=a.dataTransfer.items[b];if("file"==c.kind&&("audio/wav"==c.type||"audio/mp3"==c.type||"audio/ogg"==c.type||"video/mp4"==c.type||"video/avi"==c.type||"video/ogg"==c.type))return c.getAsFile()}return null};a.renderWaveform=function(a){return function(b){return function(c){return function(d){return function(f){return function(h){if(!f.every(function(a){return!!h[a.buffer]}))return"";
var m=(c-b)/d|0,k=1E3<m?10:1,n=Math.max(0,b);(54).toFixed(4);for(var q=0,r=0;r<f.length;r++)var p=f[r],v=h[p.buffer],q=Math.max(q,v.numberOfChannels);for(var w="",l=0;l<q;l++){for(var E=new Float32Array(d),z=new Float32Array(d),r=0;r<f.length;r++)if(p=f[r],v=h[p.buffer],l<v.numberOfChannels){var y=v.getChannelData(l),A=a*p.offset|0;(function(){for(var a=0;a<d;a++){for(var b=-1,c=1,e=0;e<m;e+=k){var f=n-A+m*a+e;if(!(0>=f)){if(y.length<=f)return;f=y[f];b=Math.max(b,f);c=Math.min(c,f)}}E[a]=Math.max(E[a],
b);z[a]=Math.min(z[a],c)}})()}r=36/q;p=r+2*r*l;w+="M 0 "+p.toFixed(4);for(v=0;v<d;v++)w+=" L "+v+" "+(p+r*z[v]).toFixed(4),w+=" L "+v+" "+(p+r*E[v]).toFixed(4)}return w}}}}}};a.createFile=function(a){return function(b){return new File(a,b)}};a.download=function(a){return function(){var b=URL.createObjectURL(a),c=document.createElement("a");c.download=a.name;c.href=b;c.click()}}})(d["Soundknot.Utils"]=d["Soundknot.Utils"]||{});(function(a){var e=d.Prelude,b=d["OpticUI.Markup"],c=d["Data.Maybe"],g=
d["Data.Either"],f=d["Data.Monoid"],h=d["Data.Foreign"],m=d["Data.Foreign.Class"],k=d["Data.Foreign.Index"],n=b.element(c.Nothing.value)("video"),q=b.prop("value"),r=b.attr("type"),p=b.element(c.Nothing.value)("tr"),v=b.element(c.Nothing.value)("th"),w=b.element(c.Nothing.value)("table"),l=b.attr("style"),E=b.element(c.Nothing.value)("style"),z=b.element(c.Nothing.value)("span"),y=b.element(c.Nothing.value)("select"),A=b.element(c.Nothing.value)("option"),t=function(a){return function(b){return function(d){return g.either(e["const"](c.Nothing.value))(c.Just.create)(m.readProp(a)(k.indexString)(b)(h.toForeign(d.target)))}}},
x=b.attr("draggable")("true"),u=b.element(c.Nothing.value)("div"),K=b.attr("class");a.getProp=t;a.onDrop=function(a){return b.handle("drop")(a)};a.onDragOver=function(a){return b.handle("dragover")(a)};a.onDragStart=function(a){return b.handle("dragstart")(a)};a.onInput=function(a){return function(c){return b.handle("input")(function(b){return c(b)(t(a)("value")(b))})}};a.onWheel=function(a){return b.handle("wheel")(a)};a.onMouseLeave=function(a){return b.handle("mouseleave")(a)};a.onMouseMove=function(a){return b.handle("mousemove")(a)};
a.onMouseUp=function(a){return b.handle("mouseup")(a)};a.onMouseDown=function(a){return b.handle("mousedown")(a)};a.onClick=function(a){return b.handle("click")(a)};a.draggableA=x;a.valueA=q;a.styleA=l;a.typeA=r;a.classA=K;a.video=n;a.tr=p;a.th=v;a.table=w;a.style=E;a.span=z;a.select=y;a.option=A;a.input_=function(a){return b.element(c.Nothing.value)("input")(a)(f.mempty(b.markupMonoid))};a.div=u})(d["OpticUI.Markup.HTML"]=d["OpticUI.Markup.HTML"]||{});(function(a){var e=d["Soundknot.Utils"],b=d.Prelude,
c=d["Data.Array"],g=d["Data.Monoid"],f=d["Control.Monad.Aff"],h=d["OpticUI.Markup.HTML"],m=d["OpticUI.Markup"],k=h.div([h.styleA("width:16px")])(g.mempty(m.markupMonoid)),f=f.makeAff(e._openFile),n=function(a){return c[".."](0)(c.length(a)-1)},q=function(a){return h.span([h.classA("glyphicon glyphicon-"+a)])(g.mempty(m.markupMonoid))};a.spacer=k;a.iconButton=function(a){return function(b){return h.div([h.classA("icon button"),h.onClick(function(a){return b})])(q(a))}};a.glyphicon=q;a.indices=n;a.withIndex=
function(a){return function(b){return c.zipWith(b)(n(a))(a)}};a.signum=function(a){var b=0<a;if(b)return-1;if(!b){if(a=0>a)return 1;if(!a)return 0;throw Error("Failed pattern match: "+[a.constructor.name]);}throw Error("Failed pattern match at Soundknot.Utils line 51, column 1 - line 52, column 1: "+[b.constructor.name]);};a.clientPosition=function(a){return{x:a.clientX,y:a.clientY}};a.openFile=f;a.nop=function(a){return b.pure(a)(b.unit)};a.download=e.download;a.createFile=e.createFile;a.renderWaveform=
e.renderWaveform;a.getAudioFile=e.getAudioFile;a.getOffset=e.getOffset;a.toFixed=e.toFixed;a.now=e.now})(d["Soundknot.Utils"]=d["Soundknot.Utils"]||{});(function(a){var e=d["Data.StrMap"],b=d.Math,c=d.Prelude,g=d["Data.Maybe"],f=d["Data.Nullable"],h=d["Data.Tuple"],m=d["Data.Array"],k=d["Soundknot.Utils"],n=d["Soundknot.UI.Timeline.Types"],q=d["WebAudio.Core"],r=d["Sound.AudioGraph.Types"];a.renderTimelineAudio=function(a){return function(d){return function(w){return function(l){var E=n.runSeconds(n.beatsToSeconds(l.bpm)(l.cursor)),
z=f.toMaybe(l.start);if(z instanceof g.Nothing)return new h.Tuple([],[]);if(z instanceof g.Just)return z=k.withIndex(l.tracks)(function(k){return function(z){z=m.catMaybes(m.concatMap(function(k){return c.map(c.functorArray)(function(c){var h=e.lookup(c.buffer)(d.audioBuffers);if(h instanceof g.Nothing)return g.Nothing.value;if(h instanceof g.Just){var m=n.runSeconds(n.addSeconds(n.beatsToSeconds(l.bpm)(k.position))(c.offset))-E,q=a+m,m=b.max(0)(-m);return g.Just.create(new r.VNode({key:c.key,node:new r.VAudioBufferSource({buffer:h.value0,
playing:!0,when:f.toNullable(g.Just.create(b.max(0)(q))),offset:f.toNullable(g.Just.create(m)),duration:f.toNullable(g.Nothing.value)})}))}throw Error("Failed pattern match at Soundknot.UI.Timeline.Audio line 42, column 17 - line 48, column 17: "+[h.constructor.name]);})(k.slices)})(z.clips));var t=w+("-output-"+c.show(c.showInt)(k)),x=new r.VNode({key:t,node:new r.VGain({gain:[new q.ConstantValue(1)]})}),t=c.map(c.functorArray)(function(a){return{output:a,outputIndex:0,input:x,inputIndex:0}})(z);
return new h.Tuple(c["++"](c.semigroupArray)([x])(z),t)}}),new h.Tuple(m.concatMap(h.fst)(z),m.concatMap(h.snd)(z));throw Error("Failed pattern match at Soundknot.UI.Timeline.Audio line 15, column 1 - line 16, column 1: "+[z.constructor.name]);}}}}})(d["Soundknot.UI.Timeline.Audio"]=d["Soundknot.UI.Timeline.Audio"]||{});(function(a){var e=d["Data.StrMap"],b=d["Soundknot.UI.Timeline.Audio"],c=d.Prelude,g=d["Unsafe.Coerce"],f=d["Data.Traversable"],h=d["Data.Tuple"],m=d["Data.Maybe"],k=d["Data.Array"],
n=d["Data.Foldable"],q=d["Control.Monad.Eff"],r=d["DOM.HTML"],p=d["DOM.HTML.Window"],v=d["DOM.HTML.Types"],w=d["DOM.Node.NonElementParentNode"],l=d["Soundknot.Historical"],E=d["Soundknot.Utils"],z=d["Soundknot.Types"],y=d["Sound.AudioGraph.Types"],A=d["WebAudio.Core"],t=d["Data.Monoid"];a.renderAudio=function(a){return function(d){var x=l.runHistorical(d.project),C=function(a){return function(b){return{output:a,outputIndex:0,input:b,inputIndex:0}}};return function(){var l=f["for"](q.applicativeEff)(f.traversableArray)(x.nodes)(function(f){if(f.props instanceof
z.DestinationFrame){var l=new y.VNode({key:f.name+"-input",node:new y.VGain(f.props.value0)}),n=new y.VNode({key:f.name+"#dest",node:y.VDestination.value});return c.pure(q.applicativeEff)(new h.Tuple([n,l],[C(l)(n)]))}if(f.props instanceof z.BiquadFilterFrame)return n=new y.VNode({key:f.name+"-input",node:new y.VBiquadFilter(f.props.value0)}),l=new y.VNode({key:f.name+"-output",node:new y.VGain({gain:[new A.ConstantValue(1)]})}),c.pure(q.applicativeEff)(new h.Tuple([n,l],[C(n)(l)]));if(f.props instanceof
z.VideoFrame)return function(){var a=c["<$>"](q.functorEff)(v.htmlDocumentToNonElementParentNode)(c[">>="](q.bindEff)(r.window)(p.document))(),a=w.getElementById(f.name)(a)(),a=new y.VNode({key:f.name+"-output",node:new y.VVideoElement({element:g.unsafeCoerce(a)})});return c.pure(q.applicativeEff)(new h.Tuple([a],[]))()};if(f.props instanceof z.GainFrame){var t=new y.VNode({key:f.name+"-input",node:new y.VGain(f.props.value0)}),F=new y.VNode({key:f.name+"-output",node:new y.VGain({gain:[new A.ConstantValue(1)]})});
return c.pure(q.applicativeEff)(new h.Tuple([t,F],[C(t)(F)]))}return f.props instanceof z.DelayFrame?(t=new y.VNode({key:f.name+"-input",node:new y.VDelay(f.props.value0)}),F=new y.VNode({key:f.name+"-output",node:new y.VGain({gain:[new A.ConstantValue(1)]})}),c.pure(q.applicativeEff)(new h.Tuple([t,F],[C(t)(F)]))):f.props instanceof z.StereoPannerFrame?(t=new y.VNode({key:f.name+"-input",node:new y.VStereoPanner(f.props.value0)}),F=new y.VNode({key:f.name+"-output",node:new y.VGain({gain:[new A.ConstantValue(1)]})}),
c.pure(q.applicativeEff)(new h.Tuple([t,F],[C(t)(F)]))):f.props instanceof z.ConvolverFrame?c.pure(q.applicativeEff)(m.fromMaybe(new h.Tuple([],[]))(c.bind(m.bindMaybe)(k.head(k.filter(function(a){return c["=="](z.eq_Port)(a.input)({node:f.name,connector:f.name+"-buffer"})})(x.edges)))(function(a){return c.bind(m.bindMaybe)(k.head(k.filter(function(b){return c["=="](c.eqString)(b.name)(a.output.node)})(x.nodes)))(function(a){return a.props instanceof z.AudioBufferFrame?c.bind(m.bindMaybe)(a.props.value0.file)(function(a){return c.bind(m.bindMaybe)(e.lookup(g.unsafeCoerce(a).name)(d.audioBuffers))(function(a){a=
new y.VNode({key:f.name+"-input",node:new y.VConvolver({buffer:a})});var b=new y.VNode({key:f.name+"-output",node:new y.VGain({gain:[new A.ConstantValue(1)]})});return c.pure(m.applicativeMaybe)(new h.Tuple([a,b],[C(a)(b)]))})}):c.pure(m.applicativeMaybe)(new h.Tuple([],[]))})}))):f.props instanceof z.ChannelSplitterFrame?(t=new y.VNode({key:f.name+"-input",node:y.VChannelSplitter.value}),l=c.map(c.functorArray)(function(a){return new y.VNode({key:f.name+("-output-"+c.show(c.showInt)(a)),node:new y.VGain({gain:[new A.ConstantValue(1)]})})})(k[".."](0)(5)),
c.pure(q.applicativeEff)(new h.Tuple(c["++"](c.semigroupArray)([t])(l),E.withIndex(l)(function(a){return function(b){return{output:t,outputIndex:a,input:b,inputIndex:0}}})))):f.props instanceof z.ChannelMergerFrame?(l=c.map(c.functorArray)(function(a){return new y.VNode({key:f.name+("-input-"+c.show(c.showInt)(a)),node:new y.VGain({gain:[new A.ConstantValue(1)]})})})(k[".."](0)(5)),F=new y.VNode({key:f.name+"-output",node:y.VChannelMerger.value}),c.pure(q.applicativeEff)(new h.Tuple(c["++"](c.semigroupArray)(l)([F]),
E.withIndex(l)(function(a){return function(b){return{output:b,outputIndex:0,input:F,inputIndex:a}}})))):f.props instanceof z.DynamicsCompressorFrame?(t=new y.VNode({key:f.name+"-input",node:new y.VDynamicsCompressor(f.props.value0)}),F=new y.VNode({key:f.name+"-output",node:new y.VGain({gain:[new A.ConstantValue(1)]})}),c.pure(q.applicativeEff)(new h.Tuple([t,F],[C(t)(F)]))):f.props instanceof z.OscillatorFrame?(F=new y.VNode({key:f.name+"-output",node:new y.VOscillator(f.props.value0)}),c.pure(q.applicativeEff)(new h.Tuple([F],
[]))):f.props instanceof z.AnalyserFrame?(t=new y.VNode({key:f.name+"-input",node:new y.VAnalyser({handler:function(a){return c.pure(q.applicativeEff)(c.unit)}})}),c.pure(q.applicativeEff)(new h.Tuple([t],[]))):f.props instanceof z.MediaStreamFrame?c.pure(q.applicativeEff)(new h.Tuple(m.maybe([])(function(a){return[new y.VNode({key:f.name+"-output",node:new y.VMediaStream(a)})]})(d.localMediaStream),[])):f.props instanceof z.TimelineFrame?c.pure(q.applicativeEff)(b.renderTimelineAudio(a)(d)(f.name)(f.props.value0)):
c.pure(q.applicativeEff)(new h.Tuple([],[]))})();return function(){var a=n.foldMap(n.foldableArray)(t.monoidArray)(h.snd)(l),b=n.foldMap(n.foldableArray)(t.monoidArray)(h.fst)(l),d=k.catMaybes(c.map(c.functorArray)(function(a){var d=function(a){return k.head(k.filter(function(b){return c["=="](y.eq_VNodeName)(b.value0.key)(a)})(b))};return c.bind(m.bindMaybe)(d(a.output.connector))(function(b){return c.bind(m.bindMaybe)(d(a.input.connector))(function(d){var e=function(){if(b.value0.node instanceof
y.VChannelSplitter){if("output-0"===a.output.connector)return 0;if("output-1"===a.output.connector)return 1;if("output-2"===a.output.connector)return 2;if("output-3"===a.output.connector)return 3;if("output-4"===a.output.connector)return 4;if("output-5"===a.output.connector)return 5}return 0}(),f=function(){if(d.value0.node instanceof y.VChannelMerger){if("input-0"===a.input.connector)return 0;if("input-1"===a.input.connector)return 1;if("input-2"===a.input.connector)return 2;if("input-3"===a.input.connector)return 3;
if("input-4"===a.input.connector)return 4;if("input-5"===a.input.connector)return 5}return 0}();return c.pure(m.applicativeMaybe)({output:new y.VNode(b.value0),outputIndex:e,input:new y.VNode(d.value0),inputIndex:f})})})})(x.edges)),a=c["++"](c.semigroupArray)(a)(d);return c.pure(q.applicativeEff)(a)}()()}}}})(d["Soundknot.Audio"]=d["Soundknot.Audio"]||{});(function(a){a._encodeAudioBufferToMp3=function(a){return function(b){return function(b){return function(){console.log("Converting to Mp3");var d=
new Date;console.log("start: "+d);var f=a.getChannelData(0),h=new Worker("js/recorderWorker.js");h.onmessage=function(a){b(a.data)();console.log("Done converting to Mp3");console.log("finish: "+(.001*(new Date-d)).toFixed(1)+" secs.")};h.postMessage({command:"init",config:{sampleRate:a.sampleRate,mp3LibPath:"lame.all.js",vorbisLibPath:"libvorbis.module.min.js",recordAsMP3:!0,recordAsOGG:!1}});h.postMessage({command:"record",buffer:[f]});h.postMessage({command:"exportMP3"})}}}}})(d["Sound.MP3Encoder"]=
d["Sound.MP3Encoder"]||{});(function(a){var e=d["Sound.MP3Encoder"],b=d["Control.Monad.Aff"];a.encodeAudioBufferToMp3=function(a){return b.makeAff(e._encodeAudioBufferToMp3(a))}})(d["Sound.MP3Encoder"]=d["Sound.MP3Encoder"]||{});(function(a){var e=d["OpticUI.Markup"],b=d["Data.Maybe"],c=e.attr("transform"),b=new b.Just("http://www.w3.org/2000/svg"),g=e.element(b)("svg"),f=e.element(b)("path"),h=e.element(b)("line"),m=e.element(b)("g"),e=e.attr("fill");a.fillA=e;a.transformA=c;a.svg=g;a.path=f;a.line=
h;a.g=m;a.svgNamespace=b})(d["OpticUI.Markup.SVG"]=d["OpticUI.Markup.SVG"]||{});(function(a){a.setTransferData=function(a){return function(b){return function(c){return function(){c.dataTransfer.setData(a,b)}}}}})(d["Soundknot.Polyfill"]=d["Soundknot.Polyfill"]||{});(function(a){var e=d["Soundknot.Polyfill"],b=d["DOM.Event.Event"],c=d["Unsafe.Coerce"];a.preventDefault=function(a){return c.unsafeCoerce(b.preventDefault)(a)};a.stopPropagation=function(a){return c.unsafeCoerce(b.stopPropagation)(a)};
a.setTransferData=e.setTransferData})(d["Soundknot.Polyfill"]=d["Soundknot.Polyfill"]||{});(function(a){var e=d["OpticUI.Markup"],b=d.Prelude,c=d.Global,g=d["Data.Array"],f=d["Data.Maybe"],h=d["Data.Foreign.Class"],m=d["Data.Foldable"],k=d["Control.Monad.Eff"],n=d["OpticUI.Markup.HTML"],q=d["Soundknot.Utils"],r=function(a){return function(b){return e.handle("change")(function(c){return b(c)(n.getProp(a)("value")(c))})}};a.dropDownList=function(a){return function(c){return function(d){return function(d){return function(q){return function(r){return function(w){var A=
b.map(b.functorArray)(b.show(c))(d);return n.select(b["++"](b.semigroupArray)(r)([e.handle("change")(function(a){var c=b.bind(f.bindMaybe)(n.getProp(h.stringIsForeign)("value")(a))(function(a){return b.bind(f.bindMaybe)(g.elemIndex(b.eqString)(a)(A))(function(a){return g["!!"](d)(a)})});return function(){var a;if(c instanceof f.Nothing)a=b.pure(k.applicativeEff)(b.unit);else if(c instanceof f.Just)a=w(c.value0);else throw Error("Failed pattern match at Soundknot.UI.Components line 42, column 1 - line 43, column 1: "+
[c.constructor.name]);a();return b.unit}})]))(m.foldMap(m.foldableArray)(e.markupMonoid)(function(d){return n.option(function(){var c=b["=="](a)(d)(q);if(c)return[e.attr("selected")("")];if(!c)return[];throw Error("Failed pattern match at Soundknot.UI.Components line 42, column 1 - line 43, column 1: "+[c.constructor.name]);}())(e.text(b.show(c)(d)))})(d))}}}}}}};a.numberInput=function(a){return function(d){return function(g){return n.input_(b["++"](b.semigroupArray)(d)([n.valueA(q.toFixed(a)(3)),
n.typeA("number"),e.attr("step")("1"),n.onInput(h.stringIsForeign)(function(a){return function(a){a=f.maybe("1.0")(b.id(b.categoryFn))(a);return""===a?b.pure(k.applicativeEff)(b.unit):g(c.readFloat(a))}})]))}}};a.rangeInput=function(a){return function(d){return function(k){return function(g){return n.input_(b["++"](b.semigroupArray)(d)([n.valueA(b.show(b.showNumber)(a)),n.typeA("range"),e.attr("min")("0.0"),e.attr("max")("1.0"),e.attr("step")("0.01"),n.onInput(h.stringIsForeign)(function(a){return function(a){return k(c.readFloat(f.maybe("1.0")(b.id(b.categoryFn))(a)))}}),
r(h.stringIsForeign)(function(a){return function(a){return k(c.readFloat(f.maybe("1.0")(b.id(b.categoryFn))(a)))}})]))}}}}})(d["Soundknot.UI.Components"]=d["Soundknot.UI.Components"]||{});(function(a){function e(){function a(b){b=c.getAttribute(b);if(""===b)return k;b=document.getElementById(b).getBoundingClientRect();return{x:.5*(b.left+b.right),y:.5*(b.top+b.bottom)}}if(310>performance.now()-g)for(var b=0;b<h.length;b++){var c=h[b],d=a("data-output"),l=a("data-input");if(""!==l&&null!==l){var d=
m({x:d.x-f.left,y:d.y-f.top}),l=m(""==l?k:{x:l.x-f.left,y:l.y-f.top}),n=Math.max(.5*Math.abs(d.x-l.x),Math.min(300,.5*Math.abs(d.y-l.y)));c.setAttribute("d",["M",d.x,d.y,"C",d.x+n,d.y,l.x-n,l.y,l.x,l.y].join(" "))}}window.requestAnimationFrame(e)}function b(){for(var a=d["Sound.AudioGraph.Core"]._readFromAudioGraph(),c=document.querySelectorAll("svg.analyser"),e=performance.now(),f=0;f<c.length;f++)for(var k=c[f],g=k.querySelector("path.frequency"),h=k.getAttribute("data-name"),m=0;m<a.rnodes.length;m++){var A=
a.rnodes[m];if(A.value0.name===h){h=A.value0.node;k.setAttribute("width",h.frequencyBinCount);k.setAttribute("height",256);n=n||new Uint8Array(h.frequencyBinCount);h.getByteFrequencyData(n);m="M 0 256";for(A=0;A<n.length;A++)m+=" L "+A+" "+(256-n[A]);m+=" L "+n.length+" 255 Z";g.setAttribute("d",m);if("undefined"==typeof q||1E3<e-q){if(k=k.querySelector("path.timeDomain")){h.getByteTimeDomainData(n);m="M 0 "+n[0];for(A=1;A<n.length;A++)m+=" L "+A+" "+(255-n[A]);k.setAttribute("d",m)}q=e}break}}window.requestAnimationFrame(b)}
function c(){for(var a=d["Sound.AudioGraph.Core"].getAudioGraphContext().currentTime,b=document.querySelectorAll(".timeline .cursor"),e=0;e<b.length;e++){var f=b[e];if("true"===f.getAttribute("data-play")){var k=parseFloat(f.getAttribute("data-bpm")),g=parseFloat(f.getAttribute("data-scale")),h=parseFloat(f.getAttribute("data-time")),m=parseFloat(f.getAttribute("data-translation")),k=parseFloat(f.getAttribute("data-position"))+k/60*(a-h);f.style.left=g*(k-m)+"px";f.setAttribute("data-current-position",
k)}}b=document.querySelectorAll("div.wiring-frame");for(e=0;e<b.length;e++)a=b[e],0===parseFloat(a.style.opacity)&&"none"!==a.style.display?a.style.display="none":0!==parseFloat(a.style.opacity)&&"none"===a.style.display&&(a.style.display="block");b=document.querySelectorAll("div.videoFrames");for(f=0;f<b.length;f++)for(g=b[f],e=0;e<g.children.length;e++)a=g.children[e],a.currentTime!=10*e&&(a.currentTime=10*e);window.requestAnimationFrame(c)}var g,f,h,m,k;e();a._updatePath=function(a){return function(b){return function(){m=
a;k=b;var c=document.querySelector("svg");h=document.querySelectorAll("path.connection");c&&(f=c.getBoundingClientRect(),g=performance.now())}}};var n,q;console.log();b();c()})(d["Soundknot.Update"]=d["Soundknot.Update"]||{});(function(a){a.createObjectURL=function(a){return function(){return window.URL.createObjectURL(a)}};a.fileToBlob=function(a){return a};a._readFile=function(a){return function(b){return function(c){return function(){var d=new FileReader;d.onload=function(){c(d.result)()};d.onerror=
function(a){b(a)()};d.readAsArrayBuffer(a)}}}}})(d.TypedArray=d.TypedArray||{});(function(a){var e=d.TypedArray,b=d["Control.Monad.Aff"];a.readFile=function(a){return b.makeAff(e._readFile(a))};a.fileToBlob=e.fileToBlob;a.createObjectURL=e.createObjectURL})(d.TypedArray=d.TypedArray||{});(function(a){var e=d["Soundknot.Update"],b=d["Data.Ord"],c=d["OpticUI.Core"],g=d["WebAudio.Core"],f=d["Network.HTTP.Affjax"],h=d["Data.StrMap"],m=d.Prelude,k=d["Unsafe.Coerce"],n=d["Data.Array"],q=d["Data.Maybe"],
r=d["Data.Nullable"],p=d["Control.Monad.Eff.Class"],v=d["Control.Monad.Aff"],w=d["Soundknot.Types"],l=d["Soundknot.Audio"],E=d["Soundknot.Historical"],z=d.TypedArray,y=d.MediaStream,A=d["Sound.AudioGraph.Core"],t=d["Network.HTTP.Affjax.Response"],x=function(a){return e._updatePath(w.screenToWorld(a))(r.toNullable(q.fromMaybe(q.Nothing.value)(m["<$>"](q.functorMaybe)(function(a){return a.mouse})(a.connecting))))},u=function(a){return function(b){return function(c){if(a.driver instanceof q.Nothing)return m.pure(v.applicativeAff)(m.unit);
if(a.driver instanceof q.Just)return m.bind(v.bindAff)(p.liftEff(v.monadEffAff)(A.getAudioGraphContext))(function(d){return m.bind(v.bindAff)(g.decodeAudioFile(b)(d))(function(d){return p.liftEff(v.monadEffAff)(a.driver.value0(function(a){var e=function(){var e={},f;for(f in a)a.hasOwnProperty(f)&&(e[f]=a[f]);e.audioBuffers=h.insert(c)(d)(a.audioBuffers);e.audioFiles=h.insert(c)(b)(a.audioFiles);return e}();return function(){var a=A.getAudioGraphContext(),a=g.currentTime(a)();x(e)();l.renderAudio(a)(e)();
return e}}))})});throw Error("Failed pattern match at Soundknot.Update line 110, column 1 - line 111, column 1: "+[a.driver.constructor.name]);}}},K=function(a){var b=function(b){return n.head(n.filter(function(a){return m["=="](m.eqString)(a.name)(b.node)})(a.nodes))},c=n.filter(function(a){return q.fromMaybe(!1)(m.bind(q.bindMaybe)(m.pure(q.applicativeMaybe)(a.output))(function(c){return m.bind(q.bindMaybe)(m.pure(q.applicativeMaybe)(a.input))(function(d){return m.bind(q.bindMaybe)(b(a.output))(function(e){return m.bind(q.bindMaybe)(b(a.input))(function(b){return m.bind(q.bindMaybe)(n.head(n.filter(function(a){return m["=="](m.eqString)(e.name+
("-"+a.name))(c.connector)})(w.getOutputPorts(e.name)(e.props))))(function(c){return m.bind(q.bindMaybe)(n.head(n.filter(function(a){return m["=="](m.eqString)(b.name+("-"+a.name))(d.connector)})(w.getInputPorts(b.name)(b.props))))(function(b){var d=m["/="](m.eqString)(a.output.node)(a.input.node);b=m["=="](w.eq_PortValue)(c.type)(b.type);return m.pure(q.applicativeMaybe)(d&&b)})})})})})}))})(n.nub(w.eq_Edge)(a.edges));return{nodes:a.nodes,edges:function(a){return n.nubBy(function(a){return function(c){return q.fromMaybe(!1)(m.bind(q.bindMaybe)(m.pure(q.applicativeMaybe)(a.input))(function(d){return m.bind(q.bindMaybe)(m.pure(q.applicativeMaybe)(c.input))(function(e){return m.bind(q.bindMaybe)(b(a.input))(function(a){return m.bind(q.bindMaybe)(b(c.input))(function(b){return a.props instanceof
w.ConvolverFrame&&b.props instanceof w.ConvolverFrame?m.pure(q.applicativeMaybe)(m["=="](m.eqString)(d.connector)("buffer")&&m["=="](m.eqString)(e.connector)("buffer")):m.pure(q.applicativeMaybe)(!1)})})})}))}})(a)}(c)}},C=function(a){var c;c=E.runHistorical(a.project);var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.project=E.overwrite(a.project)(K(c));d.scaleFactor=b.max(m.ordInt)(w.minScaleFactor)(b.min(m.ordInt)(w.maxScaleFactor)(a.scaleFactor));return d};a.registerAudioBuffer=u;a.loadAudioFileByURL=
function(a){return function(b){return m.bind(v.bindAff)(f.get(t.responsableArrayBuffer)(b))(function(c){return u(a)(c.response)(b)})}};a.requestUserMedia=function(a){if(a.driver instanceof q.Nothing)return m.pure(v.applicativeAff)(m.unit);if(a.driver instanceof q.Just)return m.bind(v.bindAff)(y.getUserMedia({video:!1,audio:!0}))(function(b){return p.liftEff(v.monadEffAff)(a.driver.value0(function(a){var c=function(){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.localMediaStream=new q.Just(b);
return c}();return function(){var a=A.getAudioGraphContext(),a=g.currentTime(a)();x(c)();l.renderAudio(a)(c)();return c}}))});throw Error("Failed pattern match at Soundknot.Update line 137, column 1 - line 138, column 1: "+[a.driver.constructor.name]);};a.normalizeProject=K;a.loadAudioFile=function(a){return function(b){return m.bind(v.bindAff)(z.readFile(z.fileToBlob(b)))(function(c){return u(a)(c)(k.unsafeCoerce(b).name)})}};a.updateApplication=function(a){return function(b){var d=C(b);return function(){c.runHandler(a)(d)();
x(d)();var b=A.getAudioGraphContext(),b=g.currentTime(b)(),b=l.renderAudio(b)(d)();return A.update(b)()}}}})(d["Soundknot.Update"]=d["Soundknot.Update"]||{});(function(a){var e=d["OpticUI.Markup.HTML"];a.timeDomain="timeDomain";a.frequency="frequency";a.projectOpenButtonList="projectOpenButtonList";a.projectOpenButton="projectOpenButton";a.projectEntryLabel="projectEntryLabel";a.projectListBackground="projectListBackground";a.projectEntry="projectEntry";a.projectList="projectList";a.viewFrameMenuBar=
"viewFrameMenuBar";a.svgCanvas="svgCanvas";a.outputConnector="outputConnector";a.inputConnector="inputConnector";a.connector="connector";a.destinationContent="destinationContent";a.closeButton="closeButton";a.titleText="titleText";a.nodeContentPane="nodeContentPane";a.clippingPane="clippingPane";a.titleBar="titleBar";a.transformPane="transformPane";a.btn="btn";a.centerPane="centerPane";a.projectName="projectName";a.leftPane="leftPane";a.bottomPane="bottomPane";a.topMenu="topMenu";a.wiringFrame="wiring-frame";
a.groundLayer="groundLayer";a["classA'"]=function(a){return e.classA(a)};a.runClassName=function(a){return a}})(d["Soundknot.Classes"]=d["Soundknot.Classes"]||{});(function(a){var e=d["CSS.Stylesheet"],b=d["CSS.String"],c=d.Prelude,g=d["CSS.Property"],f=function(a){return a},h=function(a){return a},m=function(a){return a},k=new g.Val(function(a){return a}),n=new g.Val(function(a){return a}),q=new g.Val(function(a){return a}),r=new g.Val(function(a){return a}),p=new g.Val(function(a){return a}),v=
e.key(n)(b.fromString(g.isStringKey)("text-align")),w=f(b.fromString(g.isStringValue)("scroll")),l=e.key(k)(b.fromString(g.isStringKey)("overflow-y")),E=e.key(k)(b.fromString(g.isStringKey)("overflow")),z=e.key(n)(b.fromString(g.isStringKey)("justify-content")),y=f(b.fromString(g.isStringValue)("hidden")),A=e.key(q)(b.fromString(g.isStringKey)("flex-direction")),t=m(b.fromString(g.isStringValue)("column")),x=h(b.fromString(g.isStringValue)("center")),u=e.key(g.valString)(b.fromString(g.isStringKey)("box-shadow")),
K=e.key(r)(b.fromString(g.isStringKey)("align-self")),C=e.key(p)(b.fromString(g.isStringKey)("align-items"));a.Overflow=f;a.FlexDirection=m;a.JustifyContent=h;a.textAlign=v;a.scroll=w;a.hidden=y;a.overflowY=l;a.overflow=E;a.column=t;a.flexDirection=A;a.center=x;a.justifyContent=z;a.alignSelf=K;a.alignItems=C;a.flexGrow=function(a){return e.key(g.valString)(b.fromString(g.isStringKey)("flex-grow"))(c.show(c.showNumber)(a))};a.boxShadow=u;a.valAlignItems=p;a.valAlignSelf=r;a.valJustifyContent=n;a.valFlexDirection=
q;a.valOverflow=k})(d["Soundknot.Css"]=d["Soundknot.Css"]||{});(function(a){var e=d["CSS.Color"],b=d["CSS.Selector"],c=d["CSS.Stylesheet"],g=d["CSS.String"],f=d["CSS.Font"],h=d["CSS.Geometry"],m=d["CSS.Size"],k=d["CSS.Background"],n=d["CSS.Display"],q=d["Data.Int"],r=d["Unsafe.Coerce"],p=d.Prelude,v=d["Soundknot.Css"],w=d["CSS.Property"],l=function(a){return function(b){return c.key(w.valString)(g.fromString(w.isStringKey)(a))(b)}},E=e.rgba(169)(169)(242)(r.unsafeCoerce(.3));a.cursorSliderHeight=
24;a.sliderHeight=32;a.css=function(a){return function(a){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".timeline"))(p.bind(c.bindStyleM)(l("position")("relative"))(function(){return p.bind(c.bindStyleM)(l("overflow")("hidden"))(function(){return f.color(e.white)})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".timeline .cursor"))(p.bind(c.bindStyleM)(l("width")("1px"))(function(){return p.bind(c.bindStyleM)(l("height")("100%"))(function(){return p.bind(c.bindStyleM)(l("background-color")("red"))(function(){return p.bind(c.bindStyleM)(l("position")("absolute"))(function(){return p.bind(c.bindStyleM)(l("top")("0px"))(function(){return p.bind(c.bindStyleM)(l("pointer-events")("none"))(function(){return l("margin-top")(p.show(p.showInt)(24)+
"px")})})})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".slider"))(p.bind(c.bindStyleM)(l("box-sizing")("border-box"))(function(){return p.bind(c.bindStyleM)(l("position")("relative"))(function(){return p.bind(c.bindStyleM)(l("left")("0px"))(function(){return p.bind(c.bindStyleM)(l("top")("0px"))(function(){return p.bind(c.bindStyleM)(l("width")("100%"))(function(){return p.bind(c.bindStyleM)(l("height")(p.show(p.showInt)(32)+"px"))(function(){return p.bind(c.bindStyleM)(l("background-color")("rgba(0, 0, 0, 0.5)"))(function(){return l("box-shadow")("0px 4px 4px rgba(0,0,0,0.5)")})})})})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".cursorSlider"))(p.bind(c.bindStyleM)(l("background-color")("rgba(75, 86, 98, 1.0)"))(function(){return p.bind(c.bindStyleM)(l("height")(p.show(p.showInt)(16)+
"px"))(function(){return p.bind(c.bindStyleM)(l("margin")("4px"))(function(){return p.bind(c.bindStyleM)(l("border-radius")("100px"))(function(){return l("cursor")("w-resize")})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".trackHeader"))(p.bind(c.bindStyleM)(l("box-sizing")("border-box"))(function(){return p.bind(c.bindStyleM)(h.height(m.px(q.toNumber(88))))(function(){return p.bind(c.bindStyleM)(l("padding")("4px"))(function(){return p.bind(c.bindStyleM)(l("border-radius")("4px 0px 0px 4px"))(function(){return v.overflow(v.hidden)})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".trackHeader.selected"))(k.backgroundColor(E)))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".trackHeader:nth-child(2n+1)"))(l("background-color")("rgba(0, 0, 0, 0.1)")))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".trackHeader.selected:nth-child(2n+1)"))(l("background-color")("rgba(0, 0, 100, 0.2)")))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".audioTrack"))(p.bind(c.bindStyleM)(l("box-sizing")("border-box"))(function(){return p.bind(c.bindStyleM)(l("height")(p.show(p.showInt)(88)+
"px"))(function(){return p.bind(c.bindStyleM)(l("width")("100%"))(function(){return l("position")("relative")})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".audioTrack.selected"))(k.backgroundColor(E)))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".audioTrack:nth-child(2n+1)"))(l("background-color")("rgba(0, 0, 0, 0.1)")))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".audioTrack.selected:nth-child(2n+1)"))(l("background-color")("rgba(0, 0, 100, 0.2)")))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("div.waveformContent"))(l("position")("relative")))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("div.videoFrames"))(p.bind(c.bindStyleM)(l("position")("absolute"))(function(){return p.bind(c.bindStyleM)(l("top")("0px"))(function(){return p.bind(c.bindStyleM)(l("left")("0px"))(function(){return l("height")("100%")})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("video.videoFrame"))(p.bind(c.bindStyleM)(l("flex-shrink")("0"))(function(){return p.bind(c.bindStyleM)(l("height")("100%"))(function(){return l("width")("auto")})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".waveform"))(p.bind(c.bindStyleM)(l("box-sizing")("border-box"))(function(){return p.bind(c.bindStyleM)(l("background-color")("rgba(200, 200, 200, 0.2)"))(function(){return p.bind(c.bindStyleM)(l("border")("solid 2px grey"))(function(){return p.bind(c.bindStyleM)(l("height")("100%"))(function(){return p.bind(c.bindStyleM)(l("position")("absolute"))(function(){return p.bind(c.bindStyleM)(l("transition-property")("background-color"))(function(){return l("transition-duration")("0.3s")})})})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".waveform.selected"))(l("background-color")("rgb(169, 169, 242)")))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".waveform svg"))(p.bind(c.bindStyleM)(l("position")("absolute"))(function(){return p.bind(c.bindStyleM)(l("top")("0px"))(function(){return p.bind(c.bindStyleM)(l("left")("0px"))(function(){return p.bind(c.bindStyleM)(l("width")("100%"))(function(){return l("height")("100%")})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".clipName"))(p.bind(c.bindStyleM)(l("font-size")("8px"))(function(){return p.bind(c.bindStyleM)(l("height")(p.show(p.showInt)(16)+
"px"))(function(){return p.bind(c.bindStyleM)(l("white-space")("nowrap"))(function(){return p.bind(c.bindStyleM)(l("overflow")("hidden"))(function(){return p.bind(c.bindStyleM)(l("color")("black"))(function(){return l("background-color")("rgba(0, 0, 0, 0.1)")})})})})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".controlPanel"))(p.bind(c.bindStyleM)(n.display(n.flex))(function(){return p.bind(c.bindStyleM)(l("align-items")("center"))(function(){return h.margin(m.px(4))(m.px(4))(m.px(4))(m.px(4))})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)('.controlPanel input[type="number"]'))(p.bind(c.bindStyleM)(h.height(m.em(2)))(function(){return p.bind(c.bindStyleM)(h.width(m.em(6)))(function(){return l("text-align")("right")})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("svg path.beatTick"))(p.bind(c.bindStyleM)(l("fill")("none"))(function(){return p.bind(c.bindStyleM)(l("stroke")("white"))(function(){return l("pointer-events")("none")})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("svg text.beatLabel"))(p.bind(c.bindStyleM)(l("fill")("white"))(function(){return p.bind(c.bindStyleM)(l("stroke")("none"))(function(){return l("pointer-events")("none")})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("svg path.secondsTick"))(p.bind(c.bindStyleM)(l("fill")("none"))(function(){return p.bind(c.bindStyleM)(l("stroke")("white"))(function(){return l("pointer-events")("none")})})))(function(){return p.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".resizer"))(p.bind(c.bindStyleM)(l("width")("6px"))(function(){return p.bind(c.bindStyleM)(l("height")("100%"))(function(){return p.bind(c.bindStyleM)(l("cursor")("w-resize"))(function(){return p.bind(c.bindStyleM)(l("position")("absolute"))(function(){return l("top")("0px")})})})})))(function(){return c["?"](g.fromString(b.isStringSelector)(".resizer:hover"))(l("background-color")("rgba(0, 0, 0, 0.3)"))})})})})})})})})})})})})})})})})})})})})})})})})})}}})(d["Soundknot.UI.Timeline.Styles"]=
d["Soundknot.UI.Timeline.Styles"]||{});(function(a){var e=d["Sound.AudioGraph.Core"],b=d["WebAudio.Core"],c=d["OpticUI.Markup"],g=d["Data.Ord"],f=d.Math,h=d["Soundknot.Audio"],m=d["Sound.MP3Encoder"],k=d.Prelude,n=d["Unsafe.Coerce"],q=d["Data.Array"],r=d["Data.Foldable"],p=d["Data.Maybe"],v=d["Data.Monoid"],w=d["Data.Nullable"],l=d["Data.Int"],E=d["Control.Monad.Eff"],z=d["Control.Monad.Eff.Class"],y=d["Control.Monad.Eff.Console"],A=d["Control.Monad.Aff"],t=d["OpticUI.Markup.HTML"],x=d["OpticUI.Markup.SVG"],
u=d["Soundknot.Types"],K=d["Soundknot.Polyfill"],C=d["Soundknot.UI.Components"],G=d["Soundknot.Update"],N=d["Soundknot.Historical"],D=d["Soundknot.UI.Timeline.Types"],J=d["Soundknot.Utils"],M=d["Soundknot.UI.Timeline.Styles"],F=d.TypedArray,O=d["Control.Monad.Eff.Exception"];a.renderTimelineFrame=function(a){return function(d){return function(H){return function(I){return function(P){return function(Y){return function(B){var Z=f.pow(1.2)(l.toNumber(B.scale)),W=function(a){return a/Z+D.runBeats(B.translation)};
f.ceil(Z*l.toNumber(B.width));var ca=function(a){return Z*(a-D.runBeats(B.translation))},X=r.foldMap(r.foldableArray)(c.markupMonoid)(function(a){var b=l.floor(D.runSeconds(D.beatsToSeconds(B.bpm)(B.translation)))+a|0;a=ca(D.runBeats(D.secondsToBeats(B.bpm)(D.Seconds(l.toNumber(b)))));a=x.path([t.classA("secondsTick"),c.attr("d")("M "+(k.show(k.showNumber)(a)+(" 24 L "+(k.show(k.showNumber)(a)+" 32"))))])(v.mempty(c.markupMonoid));var d=5>B.scale;if(d){if(b=0===b%60)return a;if(!b)return v.mempty(c.markupMonoid);
throw Error("Failed pattern match: "+[b.constructor.name]);}if(!d){if(d=15>B.scale){if(b=0===b%10)return a;if(!b)return v.mempty(c.markupMonoid);throw Error("Failed pattern match: "+[b.constructor.name]);}if(!d)return a;throw Error("Failed pattern match: "+[d.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[d.constructor.name]);})(q[".."](0)(l.ceil(l.toNumber(B.width)/Z*B.bpm/60))),R=N.runHistorical(d.project),L=function(a){var b=
{},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.bpm=f.max(50)(f.min(250)(a.bpm));return b},V=function(a){if(P instanceof p.Nothing)return k.pure(E.applicativeEff)(k.unit);if(P instanceof p.Just){var b={},c;for(c in R)R.hasOwnProperty(c)&&(b[c]=R[c]);c=p.maybe(R.nodes)(k.id(k.categoryFn));var d=q.updateAt(P.value0),e={},f;for(f in Y)Y.hasOwnProperty(f)&&(e[f]=Y[f]);e.props=u.TimelineFrame.create(L(a));b.nodes=c(d(e)(R.nodes));return I(b)}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+
[P.constructor.name]);},U=function(a){if(P instanceof p.Nothing)return k.pure(E.applicativeEff)(k.unit);if(P instanceof p.Just){var b={},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);c=N.overwrite(d.project);var e={},f;for(f in R)R.hasOwnProperty(f)&&(e[f]=R[f]);f=p.maybe(R.nodes)(k.id(k.categoryFn));var g=q.updateAt(P.value0),h={},m;for(m in Y)Y.hasOwnProperty(m)&&(h[m]=Y[m]);h.props=u.TimelineFrame.create(L(a));e.nodes=f(g(h)(R.nodes));b.project=c(e);return H(b)}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+
[P.constructor.name]);},da=function(){var a=w.toMaybe(B.start);if(a instanceof p.Nothing)return k.pure(E.applicativeEff)(k.unit);if(a instanceof p.Just)return function(){var c=e.getAudioGraphContext(),d=b.currentTime(c)();return function(){var b=d-a.value0.time,c=D.beatsToSeconds(B.bpm)(a.value0.position),e=D.secondsToBeats(B.bpm)(D.runSeconds(c)+D.runSeconds(b));return function(){U(function(){var a={},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.cursor=e;a.start=w.toNullable(p.Nothing.value);
return a}())();U(function(){var a={},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.start=w.toNullable(p.Nothing.value);return a}())();return k.unit}}()()};throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[a.constructor.name]);}(),ba=function(a){return function(b){k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=q.filter(function(a){return!a.selected})(a.clips);return b})(B.tracks);q.concatMap(function(a){return q.filter(function(a){return a.selected})(a.clips)})(B.tracks);
var c=function(a){return function(b){var c=J.clientPosition(a);return k.flip(k.map(k.functorArray))(B.tracks)(function(a){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.clips=k.flip(k.map(k.functorArray))(a.clips)(function(a){if(a.dragging){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.position=D.runBeats(a.position)+(c.x-b.x)/Z;return d}if(!a.dragging)return a;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[a.dragging.constructor.name]);
});return d})}};return function(){K.stopPropagation(b)();K.preventDefault(b)();var d;var e=w.toMaybe(B.mouseDownPoint);if(e instanceof p.Nothing)d=B;else if(e instanceof p.Just){d={};for(var f in B)B.hasOwnProperty(f)&&(d[f]=B[f]);if(B.scrolling)f=D.Beats(D.runBeats(B.translation)+(W(e.value0.x)-W(b.clientX)));else{if(B.scrolling)throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[B.scrolling.constructor.name]);f=B.translation}d.translation=
f;if(a instanceof p.Nothing)e=c(b)(e.value0);else if(a instanceof p.Just)e=c(b)(e.value0);else throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[a.constructor.name]);d.tracks=e;d.mouseDownPoint=w.toNullable(new p.Just(J.clientPosition(b)))}else throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[e.constructor.name]);return U(d)()}}},ea=function(a){if(B.scrolling)return k.pure(E.applicativeEff)(k.unit);
if(!B.scrolling){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);b.cursor=D.Beats(W(n.unsafeCoerce(a).offsetX));b.mouseDownPoint=w.toNullable(new p.Just(J.clientPosition(a)));return U(b)}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[B.scrolling.constructor.name]);},fa=t.div([])(r.mconcat(r.foldableArray)(c.markupMonoid)(J.withIndex(B.tracks)(function(a){return function(b){var d=function(a){if(a=n.unsafeCoerce(a).ctrlKey)return B.tracks;
if(!a)return k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.selected=!1;return b})(B.tracks);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 297, column 9 - line 301, column 9: "+[a.constructor.name]);},e=function(){var b=q["!!"](B.tracks)(a);if(b instanceof p.Nothing)return!1;if(b instanceof p.Just)return b.value0.selected;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[b.constructor.name]);
}();return t.div([t.classA("trackHeader"+function(){if(e)return" selected";if(!e)return"";throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[e.constructor.name]);}()),t.onClick(function(b){return U(function(){var c={},e;for(e in B)B.hasOwnProperty(e)&&(c[e]=B[e]);c.tracks=p.fromMaybe(B.tracks)(q.modifyAt(a)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.selected=!0;return b})(d(b)));return c}())})])(c.text("Track "+k.show(k.showInt)(a)))}}))),
ma=t.div([t.classA("cursorSlider"),t.onMouseDown(function(a){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);b.scrolling=!0;b.mouseDownPoint=w.toNullable(new p.Just(J.clientPosition(a)));return U(b)})])(v.mempty(c.markupMonoid)),ga=t.div([t.classA("cursor"),t.styleA("left:"+(k.show(k.showNumber)(ca(D.runBeats(B.cursor)))+"px;")),c.attr("data-play")(function(){var a=w.toMaybe(B.start);if(a instanceof p.Nothing)return"false";if(a instanceof p.Just)return"true";throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+
[a.constructor.name]);}()),c.attr("data-position")(function(){var a=w.toMaybe(B.start);if(a instanceof p.Nothing)return"";if(a instanceof p.Just)return k.show(k.showNumber)(a.value0.position);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[a.constructor.name]);}()),c.attr("data-time")(function(){var a=w.toMaybe(B.start);if(a instanceof p.Nothing)return"";if(a instanceof p.Just)return k.show(k.showNumber)(a.value0.time);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+
[a.constructor.name]);}()),c.attr("data-scale")(k.show(k.showNumber)(Z)),c.attr("data-translation")(k.show(k.showNumber)(D.runBeats(B.translation))),c.attr("data-bpm")(k.show(k.showNumber)(B.bpm))])(v.mempty(c.markupMonoid)),ka=f.pow(1.2)(l.toNumber(d.scaleFactor)),na=function(b){return function(e){return function(g){return function(g){return function(h){var m=function(a){return U(function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.tracks=p.fromMaybe(b.tracks)(q.modifyAt(e)(function(a){var b=
{},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=p.fromMaybe(a.clips)(q.modifyAt(g)(function(a){return a})(a.clips));return b})(b.tracks));return a}())},y=function(a){return k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.selected=!1;return b})(a.clips);return b})(a)},z=ca(D.runBeats(h.position)),B=f.max(0)(z),z=D.secondsToIndex(a)(D.beatsToSeconds(b.bpm)(D.Beats(W(B)-
D.runBeats(h.position)))),A=function(){var c=u.audioClipLengthInSeconds(a)(d)(h);if(c instanceof p.Nothing)return 4;if(c instanceof p.Just)return D.secondsToBeats(b.bpm)(c.value0);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[c.constructor.name]);}(),A=ca(D.runBeats(h.position)+D.runBeats(A)),ja=f.min(l.toNumber(b.width))(A),A=l.ceil(ja-B),B="left:"+(k.show(k.showNumber)(B)+("px; width:"+(k.show(k.showInt)(A)+("px; stroke-width:"+(k.show(k.showNumber)(1/
ka)+";"))))),ja=D.secondsToIndex(a)(D.beatsToSeconds(b.bpm)(D.Beats(W(ja)-D.runBeats(h.position)))),E=0>=A;if(E)return v.mempty(c.markupMonoid);if(!E)return t.div([t.classA("waveform"+function(){if(h.selected)return" selected";if(!h.selected)return"";throw Error("Failed pattern match: "+[h.selected.constructor.name]);}()),t.styleA(B),t.onMouseDown(function(a){return function(){K.stopPropagation(a)();K.preventDefault(a)();return U(function(){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.tracks=
p.fromMaybe(b.tracks)(q.modifyAt(e)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=p.fromMaybe(a.clips)(q.modifyAt(g)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!0;b.selected=!0;return b})(a.clips));return b})(function(){var c=n.unsafeCoerce(a).ctrlKey;if(c)return b.tracks;if(!c)return y(b.tracks);throw Error("Failed pattern match: "+[c.constructor.name]);}()));c.mouseDownPoint=w.toNullable(new p.Just(J.clientPosition(a)));return c}())()}}),
t.onMouseUp(function(a){return U(function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.tracks=p.fromMaybe(b.tracks)(q.modifyAt(e)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!1;return b})(a.clips);return b})(b.tracks));return a}())})])(r.mconcat(r.foldableArray)(c.markupMonoid)([t.div([t.styleA("display:flex; flex-direction:column; height:100%")])(r.mconcat(r.foldableArray)(c.markupMonoid)([t.div([t.classA("clipName")])(c.text(h.name)),
t.div([t.classA("waveformContent"),t.styleA("flex-grow:1.0; position:relative;")])(r.mconcat(r.foldableArray)(c.markupMonoid)([t.div([t.classA("videoFrames"),t.styleA("opacity:0.5; display:flex; overflow: hidden; position:absolute; height:100%; width:100%; left: 0px; top:0px;")])(r.mconcat(r.foldableArray)(c.markupMonoid)([])),x.svg([t.styleA("position:absolute; height:100%; width:100%; left: 0px; top:0px;")])(r.mconcat(r.foldableArray)(c.markupMonoid)([x.path([c.attr("fill")("none"),c.attr("stroke")("black"),
c.attr("d")(J.renderWaveform(a)(z)(ja)(A)(h.slices)(d.audioBuffers))])(v.mempty(c.markupMonoid))]))]))])),t.div([t.classA("resizer"),t.styleA("left:0px"),t.onMouseDown(function(a){a={};for(var b in h)h.hasOwnProperty(b)&&(a[b]=h[b]);a.leftResizerDragging=!0;return m(a)})])(v.mempty(c.markupMonoid)),t.div([t.classA("resizer"),t.styleA("right:0px"),t.onMouseDown(function(a){a={};for(var b in h)h.hasOwnProperty(b)&&(a[b]=h[b]);a.rightResizerDragging=!0;return m(a)})])(v.mempty(c.markupMonoid))]));throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+
[E.constructor.name]);}}}}},la=r.foldMap(r.foldableArray)(c.markupMonoid)(function(a){a=l.floor(D.runBeats(B.translation))+a|0;var b=0===a%4,d=ca(l.toNumber(a)),e;if(b)e=c.element(new p.Just("http://www.w3.org/2000/svg"))("text")([t.classA("beatLabel"),c.attr("x")(k.show(k.showNumber)(d+2)),c.attr("y")("2"),c.attr("dominant-baseline")("text-before-edge")])(c.text(k.show(k.showInt)(a/4|0)));else{if(b)throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+
[b.constructor.name]);e=v.mempty(c.markupMonoid)}d=x.path([t.classA("beatTick"),c.attr("d")("M "+(k.show(k.showNumber)(d)+(" 0 L "+(k.show(k.showNumber)(d)+(" "+k.show(k.showInt)(10*function(){if(b)return 2;if(!b)return 1;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[b.constructor.name]);}()|0))))))])(v.mempty(c.markupMonoid));e=k["++"](c.markupSemigroup)(d)(e);if(d=5>B.scale){if(a=0===a%64)return e;if(!a)return v.mempty(c.markupMonoid);
throw Error("Failed pattern match: "+[a.constructor.name]);}if(!d){if(d=15>B.scale){if(a=0===a%16)return e;if(!a)return v.mempty(c.markupMonoid);throw Error("Failed pattern match: "+[a.constructor.name]);}if(!d)return e;throw Error("Failed pattern match: "+[d.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[d.constructor.name]);})(q[".."](0)(l.ceil(l.toNumber(B.width)/Z))),X=x.svg([t.classA("slider"),c.attr("xmlns")("http://www.w3.org/2000/svg"),
t.styleA("display:block;"),t.onMouseDown(function(a){return ea(a)}),t.onMouseMove(function(a){var b=w.toMaybe(B.mouseDownPoint);if(b instanceof p.Nothing)return k.pure(E.applicativeEff)(k.unit);if(b instanceof p.Just)return ea(a);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[b.constructor.name]);}),t.onWheel(function(a){return function(){K.stopPropagation(a)();K.preventDefault(a)();var b=l.floor(J.signum(a.deltaY)),c=n.unsafeCoerce(a).offsetX,
b=g.max(k.ordInt)(0)(g.min(k.ordInt)(50)(B.scale+b|0)),d=f.pow(1.2)(l.toNumber(b)),e={},h;for(h in B)B.hasOwnProperty(h)&&(e[h]=B[h]);e.scale=b;e.translation=D.Beats(D.runBeats(B.translation)+c/Z-c/d);return U(e)()}})])(k["++"](c.markupSemigroup)(la)(X)),la=t.div([])(r.mconcat(r.foldableArray)(c.markupMonoid)(J.withIndex(B.tracks)(function(a){return function(b){var e=function(){var b=q["!!"](B.tracks)(a);if(b instanceof p.Nothing)return!1;if(b instanceof p.Just)return b.value0.selected;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 484, column 9 - line 501, column 9: "+
[b.constructor.name]);}();return t.div([t.classA("audioTrack"+function(){if(e)return" selected";if(!e)return"";throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[e.constructor.name]);}()),t.onMouseDown(ba(new p.Just(a))),t.onDrop(function(b){return function(){K.stopPropagation(b)();K.preventDefault(b)();var c=n.unsafeCoerce(b).offsetX;(function(){var e=w.toMaybe(J.getAudioFile(b));if(e instanceof p.Nothing)return J.nop(E.applicativeEff);if(e instanceof
p.Just)return function(){var b=J.now();F.createObjectURL(F.fileToBlob(e.value0))();return function(){var f=n.unsafeCoerce(e.value0).name;return function(){V(function(){var d={},e;for(e in B)B.hasOwnProperty(e)&&(d[e]=B[e]);d.tracks=p.fromMaybe(B.tracks)(q.modifyAt(a)(function(a){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.clips=q[":"]({position:W(c),name:f,selected:!1,dragging:!1,slices:[{key:k.show(k.showInt)(b),buffer:f,offset:0,length:w.toNullable(p.Nothing.value)}],leftResizerDragging:!1,
rightResizerDragging:!1})(a.clips);return d})(B.tracks));return d}())();return A.runAff(y.print(O.showError))(k.pure(E.applicativeEff))(G.loadAudioFile(d)(e.value0))()}}()()};throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[e.constructor.name]);})()();return k.unit}})])(k["++"](c.markupSemigroup)(r.mconcat(r.foldableArray)(c.markupMonoid)(J.withIndex(b.clips)(na(B)(a)(b))))(v.mempty(c.markupMonoid)))}})));return t.div([t.onMouseMove(ba(p.Nothing.value)),
t.onMouseLeave(function(a){a={};for(var b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.scrolling=!1;return U(a)}),t.onMouseUp(function(a){return function(){K.stopPropagation(a)();K.preventDefault(a)();return U(function(){var a={},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.scrolling=!1;a.tracks=k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!1;return b})(a.clips);
return b})(B.tracks);a.mouseDownPoint=w.toNullable(p.Nothing.value);return a}())()}}),t.onWheel(function(a){return function(){K.stopPropagation(a)();return K.preventDefault(a)()}})])(r.mconcat(r.foldableArray)(c.markupMonoid)([t.div([t.classA("controlPanel")])(r.mconcat(r.foldableArray)(c.markupMonoid)([J.iconButton("pause")(J.nop(E.applicativeEff)),J.iconButton("play")(function(){var a=e.getAudioGraphContext(),a=b.currentTime(a)(),c={},d;for(d in B)B.hasOwnProperty(d)&&(c[d]=B[d]);c.start=w.toNullable(new p.Just({position:D.runBeats(B.cursor),
time:a}));return U(c)()}),J.iconButton("stop")(da),J.iconButton("step-backward")(J.nop(E.applicativeEff)),J.iconButton("step-forward")(J.nop(E.applicativeEff)),J.iconButton("record")(J.nop(E.applicativeEff)),J.spacer,J.iconButton("zoom-in")(U(function(){var a={},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.scale=B.scale+1|0;return a}())),J.iconButton("zoom-out")(U(function(){var a={},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.scale=B.scale-1;return a}())),J.spacer,J.iconButton("plus")(V(function(){var a=
{},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.tracks=k["++"](k.semigroupArray)(B.tracks)([{clips:[],selected:!1}]);return a}())),J.spacer,J.iconButton("scissors")(function(){V(function(){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);b.tracks=k.map(k.functorArray)(function(b){var c={},e;for(e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);c.clips=q.concatMap(function(b){var c=u.audioClipLengthInSeconds(a)(d)(b);if(c instanceof p.Just&&b.selected){if(c=k["<"](D.ord_Beats)(b.position)(B.cursor)&&
D.runBeats(B.cursor)<D.runBeats(b.position)+D.runBeats(D.secondsToBeats(B.bpm)(c.value0)))return[function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.position=b.position;return a}(),function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.position=B.cursor;return a}()];if(!c)return[b];throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[c.constructor.name]);}return[b]})(b.clips);return c})(B.tracks);return b}())();return J.nop(E.applicativeEff)()}),
J.iconButton("paperclip")(function(){V(function(){var a={},b;for(b in B)B.hasOwnProperty(b)&&(a[b]=B[b]);a.tracks=k.map(k.functorArray)(function(a){return p.fromMaybe(a)(function(){var b=q.sortBy(function(a){return function(b){return k.compare(D.ord_Beats)(a.position)(b.position)}})(q.filter(function(a){return a.selected})(a.clips));return k.bind(p.bindMaybe)(q.head(b))(function(c){return k.bind(p.bindMaybe)(q.tail(b))(function(d){var e=D.beatsToSeconds(B.bpm)(c.position);return k.pure(p.applicativeMaybe)(function(){var d=
{},f;for(f in a)a.hasOwnProperty(f)&&(d[f]=a[f]);d.clips=k["++"](k.semigroupArray)(q.filter(function(a){return!a.selected})(a.clips))([{name:c.name,position:c.position,selected:!0,dragging:!1,slices:k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.offset=D.runSeconds(a.offset)-D.runSeconds(e);return b})(q.concat(J.withIndex(b)(function(a){return function(a){return k.map(k.functorArray)(function(b){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.offset=
D.beatsToSeconds(B.bpm)(D.runBeats(a.position)+D.runBeats(D.secondsToBeats(B.bpm)(b.offset)));return c})(a.slices)}}))),leftResizerDragging:!1,rightResizerDragging:!1}]);return d}())})})}())})(B.tracks);return a}())();return J.nop(E.applicativeEff)()}),J.iconButton("duplicate")(J.nop(E.applicativeEff)),J.iconButton("remove")(function(){var a=k.map(k.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=q.filter(function(a){return!a.selected})(a.clips);return b})(q.filter(function(a){return!a.selected})(B.tracks));
return V(function(){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);if(c=q["null"](a))c=[{clips:[],selected:!1}];else{if(c)throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[c.constructor.name]);c=a}b.tracks=c;return b}())}()),J.spacer,J.iconButton("download")(function(){var a=e.getAudioGraphContext(),c=b.currentTime(a)();return function(){var a=function(){var a={},b;for(b in R)R.hasOwnProperty(b)&&(a[b]=R[b]);a.nodes=k.map(k.functorArray)(function(a){var b=
{},d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);if(a.props instanceof u.TimelineFrame){d=u.TimelineFrame;var e={},f;for(f in a.props.value0)a.props.value0.hasOwnProperty(f)&&(e[f]=a.props.value0[f]);e.start=w.toNullable(new p.Just({position:0,time:c}));e.cursor=0;a=new d(e)}else a=a.props;b.props=a;return b})(R.nodes);return a}();return function(){var b=h.renderAudio(0)(function(){var b={},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);b.project=N.overwrite(d.project)(a);return b}())();return function(){var a=
function(a){return function(b){return r.foldr(r.foldableArray)(function(a){return function(b){return k["<*>"](p.applyMaybe)(k["<$>"](p.functorMaybe)(f.max)(a))(b)}})(new p.Just(0))(k.map(k.functorArray)(b)(a))}},c=a(R.nodes)(function(b){return b.props instanceof u.TimelineFrame?a(b.props.value0.tracks)(function(c){return a(c.clips)(function(a){var c=D.runSeconds(D.beatsToSeconds(b.props.value0.bpm)(a.position));return k["<$>"](p.functorMaybe)(k["+"](k.semiringNumber)(c))(D.clipLength(48E3)(d.audioBuffers)(b.props.value0.bpm)(a))})}):
new p.Just(0)});if(c instanceof p.Nothing)return y.log("[error] cannnot calculate the clip length");if(c instanceof p.Just&&0<c.value0)return A.runAff(y.print(O.showError))(k.pure(E.applicativeEff))(k.bind(A.bindAff)(z.liftEff(A.monadEffAff)(y.log("timeline length: "+k.show(k.showNumber)(c.value0))))(function(){return k.bind(A.bindAff)(e.renderOfflineAudio(2)(c.value0+2)(48E3)(b))(function(a){return k.bind(A.bindAff)(m.encodeAudioBufferToMp3(a))(function(a){return k.bind(A.bindAff)(z.liftEff(A.monadEffAff)(J.download(J.createFile([a])("mixdown.mp3"))))(function(){return z.liftEff(A.monadEffAff)(y.log("rendering finished"))})})})}));
if(c instanceof p.Just)return y.log("[error] invalid timeline length: "+k.show(k.showNumber)(c.value0));throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 39, column 1 - line 40, column 1: "+[c.constructor.name]);}()()}}()()})])),t.div([t.classA("controlPanel")])(r.mconcat(r.foldableArray)(c.markupMonoid)([c.text("Position:"),C.numberInput(D.runBeats(B.cursor))([])(function(a){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);b.cursor=a;return U(b)}),J.spacer,c.text("Time:"),
C.numberInput(D.runSeconds(D.beatsToSeconds(B.bpm)(B.cursor)))([])(function(a){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);b.cursor=D.secondsToBeats(B.bpm)(a);return U(b)}),J.spacer,c.text("BPM:"),C.numberInput(B.bpm)([])(function(a){var b={},c;for(c in B)B.hasOwnProperty(c)&&(b[c]=B[c]);b.bpm=a;return U(b)})])),t.div([t.styleA("display:flex;")])(r.mconcat(r.foldableArray)(c.markupMonoid)([t.div([t.styleA("width: 100px; display:flex; flex-direction:column;")])(k["++"](c.markupSemigroup)(t.div([t.styleA("height: "+
(k.show(k.showInt)(M.sliderHeight+M.cursorSliderHeight|0)+"px;"))])(v.mempty(c.markupMonoid)))(fa)),t.div([t.classA("timeline"),t.styleA("width:"+(k.show(k.showInt)(B.width)+"px"))])(k["++"](c.markupSemigroup)(ma)(k["++"](c.markupSemigroup)(X)(k["++"](c.markupSemigroup)(la)(ga))))]))]))}}}}}}}})(d["Soundknot.UI.Timeline.Markup"]=d["Soundknot.UI.Timeline.Markup"]||{});(function(a){a.undefined=void 0})(d["Soundknot.Lens"]=d["Soundknot.Lens"]||{});(function(a){var e=d["Soundknot.Lens"],b=d["Data.Lens.Lens"],
c=d["Soundknot.Types"],g=d["Data.Array"],f=d["Data.Maybe"],h=d["WebAudio.Core"];a.delayConstantValue=function(a){return b.lens(function(a){a=g.head(a.delayTime);return a instanceof f.Just&&a.value0 instanceof h.ConstantValue?a.value0.value0:0})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.delayTime=[new h.ConstantValue(b)];return c}})(a)};a.panConstantValue=function(a){return b.lens(function(a){a=g.head(a.pan);return a instanceof f.Just&&a.value0 instanceof
h.ConstantValue?a.value0.value0:.5})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.pan=[new h.ConstantValue(b)];return c}})(a)};a.gainConstantValue=function(a){return b.lens(function(a){a=g.head(a.gain);return a instanceof f.Just&&a.value0 instanceof h.ConstantValue?a.value0.value0:1})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.gain=[new h.ConstantValue(b)];return c}})(a)};a.pan=function(a){return b.lens(function(a){return a.pan})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.pan=b;return c}})(a)};a.gain=function(a){return b.lens(function(a){return a.gain})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.gain=b;return c}})(a)};a.q=function(a){return b.lens(function(a){return a.q})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.q=b;return c}})(a)};a.detune=function(a){return b.lens(function(a){return a.detune})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.detune=b;return c}})(a)};a.frequency=function(a){return b.lens(function(a){return a.frequency})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.frequency=b;return c}})(a)};a.release=function(a){return b.lens(function(a){return a.release})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.release=b;return c}})(a)};a.attack=function(a){return b.lens(function(a){return a.attack})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.attack=b;return c}})(a)};a.reduction=function(a){return b.lens(function(a){return a.reduction})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.reduction=b;return c}})(a)};a.ratio=function(a){return b.lens(function(a){return a.ratio})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.ratio=b;return c}})(a)};a.knee=function(a){return b.lens(function(a){return a.knee})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.knee=b;return c}})(a)};a.threshold=function(a){return b.lens(function(a){return a.threshold})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.threshold=b;return c}})(a)};a.projectEntries=function(a){return b.lens(function(a){return a.projectEntries})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.projectEntries=b;return c}})(a)};a.oscillatorFrame=function(a){return b.lens(function(a){return a instanceof
c.OscillatorFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.OscillatorFrame?new c.OscillatorFrame(b):e.undefined}})(a)};a.dynamicsCompressorFrame=function(a){return b.lens(function(a){return a instanceof c.DynamicsCompressorFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.DynamicsCompressorFrame?new c.DynamicsCompressorFrame(b):e.undefined}})(a)};a.stereoPannerFrame=function(a){return b.lens(function(a){return a instanceof c.StereoPannerFrame?
a.value0:e.undefined})(function(a){return function(b){return a instanceof c.StereoPannerFrame?new c.StereoPannerFrame(b):e.undefined}})(a)};a.delayFrame=function(a){return b.lens(function(a){return a instanceof c.DelayFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.DelayFrame?new c.DelayFrame(b):e.undefined}})(a)};a.gainFrame=function(a){return b.lens(function(a){return a instanceof c.GainFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof
c.GainFrame?new c.GainFrame(b):e.undefined}})(a)};a.audioBufferFrame=function(a){return b.lens(function(a){return a instanceof c.AudioBufferFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.AudioBufferFrame?new c.AudioBufferFrame(b):e.undefined}})(a)};a.videoFrame=function(a){return b.lens(function(a){return a instanceof c.VideoFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.VideoFrame?new c.VideoFrame(b):e.undefined}})(a)};a.bilinearFilterFrame=
function(a){return b.lens(function(a){return a instanceof c.BiquadFilterFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.BiquadFilterFrame?new c.BiquadFilterFrame(b):e.undefined}})(a)};a.destinationFrame=function(a){return b.lens(function(a){return a instanceof c.DestinationFrame?a.value0:e.undefined})(function(a){return function(b){return a instanceof c.DestinationFrame?new c.DestinationFrame(b):e.undefined}})(a)};a.state=function(a){return b.lens(function(a){return a.project})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.project=b;return c}})(a)};a["type'"]=function(a){return b.lens(function(a){return a.type})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.type=b;return c}})(a)};a.props=function(a){return b.lens(function(a){return a.props})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.props=b;return c}})(a)}})(d["Soundknot.Lens"]=d["Soundknot.Lens"]||{});(function(a){var e=d["OpticUI.Markup"],
b=d["Data.Lens.Getter"],c=d["Data.Lens.Setter"],g=d["Sound.AudioGraph.Core"],f=d["Data.StrMap"],h=d["WebAudio.BiquadFilter"],m=d["WebAudio.Oscillator"],k=d["Soundknot.UI.Timeline.Markup"],n=d.Prelude,q=d["Unsafe.Coerce"],r=d["Data.Array"],p=d["Data.Foldable"],v=d["Data.Maybe"],w=d["Data.Monoid"],l=d["Data.Ord"],E=d["Data.String"],z=d["Control.Monad"],y=d["Control.Monad.Eff"],A=d["Control.Monad.Eff.Class"],t=d["Control.Monad.Eff.Console"],x=d["Control.Monad.Aff"],u=d["OpticUI.Markup.HTML"],K=d["OpticUI.Markup.SVG"],
C=d["Soundknot.Types"],G=d["Soundknot.Classes"],N=d["Soundknot.Polyfill"],D=d["Soundknot.UI.Components"],J=d["Soundknot.Update"],M=d["Soundknot.Historical"],F=d["Soundknot.Lens"],O=d["Soundknot.Utils"],T=d.TypedArray,H=d["Data.Profunctor.Star"],Q=d["Data.Const"],I=d["Data.Profunctor.Strong"],P=d["WebAudio.Core"],Y=d["Control.Monad.Eff.Exception"],B=function(a){a=M.runHistorical(a.project);return p.foldl(p.foldableArray)(function(a){return function(b){return l.max(n.ordInt)(a)(b.zIndex)}})(0)(a.nodes)};
a.createEditorNode=function(a){return function(d){return function(l){return function(X){return function(R){return function(L){var V=M.runHistorical(d.project),U=function(a){if(R instanceof v.Nothing)return n.pure(y.applicativeEff)(n.unit);if(R instanceof v.Just){var b={},c;for(c in V)V.hasOwnProperty(c)&&(b[c]=V[c]);b.nodes=v.maybe(V.nodes)(n.id(n.categoryFn))(r.updateAt(R.value0)(a)(V.nodes));return X(b)}throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[R.constructor.name]);},da=function(){if(R instanceof v.Nothing)return n.pure(y.applicativeEff)(n.unit);if(R instanceof v.Just){var a=M.runHistorical(d.project),b=v.maybe([])(n.id(n.categoryFn))(r.deleteAt(R.value0)(a.nodes)),c={},e;for(e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);c.nodes=b;return X(c)}throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+[R.constructor.name]);}(),ba=function(){if(R instanceof v.Nothing)return n.pure(y.applicativeEff)(n.unit);
if(R instanceof v.Just){var a=r.modifyAt(R.value0)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.zIndex=B(d)+1|0;b.dragging=!0;return b})(V.nodes),b=v.fromMaybe(V.nodes)(a);return l(function(){var a={},c;for(c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);a.transition=!1;c=M.record(C.eq_Project)(d.project);var e={},f;for(f in V)V.hasOwnProperty(f)&&(e[f]=V[f]);e.nodes=b;a.project=c(e);return a}())}throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[R.constructor.name]);}(),ea=function(a){return function(b){var c={},e;for(e in d)d.hasOwnProperty(e)&&(c[e]=d[e]);c.project=M.record(C.eq_Project)(d.project)(V);c.connecting=new v.Just({port:{node:a,connector:b},mouse:v.Nothing.value});return l(c)}},fa=function(a){if(R instanceof v.Nothing)return n.pure(y.applicativeEff)(n.unit);if(R instanceof v.Just){var b={},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);c=M.overwrite(d.project);var e={},f;for(f in V)V.hasOwnProperty(f)&&(e[f]=V[f]);e.nodes=v.maybe(V.nodes)(n.id(n.categoryFn))(r.updateAt(R.value0)(a)(V.nodes));
b.project=c(e);return l(b)}throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+[R.constructor.name]);},ma=function(){var B=function(a){return function(d){var e=b.view(d(H.strongStar(Q.functorConst)))(L);return D.rangeInput(e)(n["++"](n.semigroupArray)([u.onMouseDown(function(a){return X(V)})])(a))(function(a){return fa(c.set(d(I.strongFn))(a)(L))})(function(a){return U(c.set(d(I.strongFn))(a)(L))})}},E=function(a){return u.div([G["classA'"](G.destinationContent)])(e.text(a+
":"))},N=function(a){return function(d){return function(f){return function(g){return function(h){return function(k){var l=b.view(k(H.strongStar(Q.functorConst)))(L);return u.tr([])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.th([])(E(g)),u.th([])(D.dropDownList(a)(d)(f)(h)(l)([])(function(a){return U(c.set(k(I.strongFn))(a)(L))}))]))}}}}}},M=function(a){return function(d){return function(f){return function(g){return function(h){var k=b.view(h(H.strongStar(Q.functorConst)))(L);return u.tr([])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.th([])(E(a)),
u.th([])(D.numberInput(k)([e.attr("min")(n.show(n.showNumber)(d)),e.attr("max")(n.show(n.showNumber)(f)),e.attr("step")(n.show(n.showNumber)(g))])(function(a){return U(c.set(h(I.strongFn))(a)(L))}))]))}}}}},ba=function(a){a=r.head(a);return a instanceof v.Just&&a.value0 instanceof P.ConstantValue?a.value0.value0:0};if(L.props instanceof C.DestinationFrame)return p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.destinationContent)])(e.text("Sample Rate:"+(O.toFixed(.001*a)(1)+"KHz"))),
u.div([G["classA'"](G.destinationContent)])(e.text("Gain:"+n.show(n.showNumber)(ba(L.props.value0.gain)))),B([])(function(a){return function(b){return F.props(a)(F.destinationFrame(a)(F.gainConstantValue(a)(b)))}}),u.style([])(e.text(""))]);if(L.props instanceof C.GainFrame)return p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.destinationContent)])(e.text("Gain:"+n.show(n.showNumber)(ba(L.props.value0.gain)))),B([e.attr("max")("5.0")])(function(a){return function(b){return F.props(a)(F.gainFrame(a)(F.gainConstantValue(a)(b)))}}),
u.style([])(e.text(""))]);if(L.props instanceof C.DelayFrame)return p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.destinationContent)])(e.text("Delay Time:"+n.show(n.showNumber)(ba(L.props.value0.delayTime)))),B([])(function(a){return function(b){return F.props(a)(F.delayFrame(a)(F.delayConstantValue(a)(b)))}}),u.style([])(e.text(""))]);if(L.props instanceof C.AudioBufferFrame)return u.div([])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.viewFrameMenuBar)])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.btn),
u.onClick(function(a){return x.runAff(t.print(Y.showError))(n.pure(y.applicativeEff))(n.bind(x.bindAff)(A.liftEff(x.monadEffAff)(g.getAudioGraphContext))(function(a){return n.bind(x.bindAff)(O.openFile)(function(a){return n.bind(x.bindAff)(A.liftEff(x.monadEffAff)(U(c.set(function(a){return F.props(I.strongFn)(F.audioBufferFrame(I.strongFn)(a))})({file:new v.Just(a)})(L))))(function(){return J.loadAudioFile(d)(a)})})}))})])(n["++"](e.markupSemigroup)(O.glyphicon("open"))(e.text("Open")))])),u.div([])(e.text("File: "+
v.maybe("")(function(a){return q.unsafeCoerce(a).name})(L.props.value0.file))),u.div([])(e.text("Status: "+function(){if(L.props.value0.file instanceof v.Nothing)return"Empty";if(L.props.value0.file instanceof v.Just){var a=f.lookup(q.unsafeCoerce(L.props.value0.file.value0).name)(d.audioBuffers);if(a instanceof v.Nothing)return"Decoding";if(a instanceof v.Just)return"Complete";throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+[a.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[L.props.value0.file.constructor.name]);}()))]));if(L.props instanceof C.VideoFrame)return u.div([])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.viewFrameMenuBar)])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.btn),u.onClick(function(a){return x.runAff(t.print(Y.showError))(n.pure(y.applicativeEff))(n.bind(x.bindAff)(O.openFile)(function(a){return A.liftEff(x.monadEffAff)(function(){var b=T.createObjectURL(T.fileToBlob(a))();return U(c.set(function(a){return F.props(I.strongFn)(F.videoFrame(I.strongFn)(a))})(v.Just.create(new C.FileSource(a,
b)))(L))()})}))})])(n["++"](e.markupSemigroup)(O.glyphicon("open"))(e.text("Open"))),u.div([u.classA("fileName")])(e.text(function(){if(L.props.value0 instanceof v.Nothing)return"";if(L.props.value0 instanceof v.Just&&L.props.value0.value0 instanceof C.FileSource)return q.unsafeCoerce(L.props.value0.value0.value0).name;if(L.props.value0 instanceof v.Just&&L.props.value0.value0 instanceof C.URLMediaSource)return L.props.value0.value0.value0;throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[L.props.value0.constructor.name]);}()))])),u.div([G["classA'"](G.destinationContent)])(u.video([e.attr("src")(function(){if(L.props.value0 instanceof v.Just&&L.props.value0.value0 instanceof C.URLMediaSource)return L.props.value0.value0.value0;if(L.props.value0 instanceof v.Just&&L.props.value0.value0 instanceof C.FileSource)return L.props.value0.value0.value1;if(L.props.value0 instanceof v.Nothing)return"";throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[L.props.value0.constructor.name]);}()),e.attr("controls")(""),e.attr("id")(L.name)])(w.mempty(e.markupMonoid)))]));if(L.props instanceof C.StereoPannerFrame)return p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.destinationContent)])(e.text("Pan: "+n.show(n.showNumber)(ba(L.props.value0.pan)))),B([e.attr("min")("-1.0"),e.attr("max")("1.0")])(function(a){return function(b){return F.props(a)(F.stereoPannerFrame(a)(F.panConstantValue(a)(b)))}}),u.style([])(e.text(""))]);if(L.props instanceof
C.ConvolverFrame)return u.div([u.styleA("width: 120px; height: 30px;")])(w.mempty(e.markupMonoid));if(L.props instanceof C.AnalyserFrame)return u.div([])(K.svg([u.classA("analyser"),u.styleA("width: 1024px; height: 256px;"),e.attr("xmlns")("http://www.w3.org/2000/svg"),e.attr("data-name")(L.name+"-input")])(p.mconcat(p.foldableArray)(e.markupMonoid)([K.path([K.fillA("dimgrey"),G["classA'"](G.frequency)])(w.mempty(e.markupMonoid)),K.path([G["classA'"](G.timeDomain)])(w.mempty(e.markupMonoid))])));
if(L.props instanceof C.ChannelSplitterFrame||L.props instanceof C.ChannelMergerFrame)return u.div([u.styleA("height: 150px;")])(w.mempty(e.markupMonoid));if(L.props instanceof C.DynamicsCompressorFrame)return p.mconcat(p.foldableArray)(e.markupMonoid)([M("Threshold")(-100)(0)(1)(function(a){return function(b){return F.props(a)(F.dynamicsCompressorFrame(a)(F.threshold(a)(b)))}}),M("Knee")(0)(40)(1)(function(a){return function(b){return F.props(a)(F.dynamicsCompressorFrame(a)(F.knee(a)(b)))}}),M("Ratio")(1)(20)(1)(function(a){return function(b){return F.props(a)(F.dynamicsCompressorFrame(a)(F.ratio(a)(b)))}}),
M("Reduction")(-20)(0)(1)(function(a){return function(b){return F.props(a)(F.dynamicsCompressorFrame(a)(F.reduction(a)(b)))}}),M("Attack")(0)(1)(.001)(function(a){return function(b){return F.props(a)(F.dynamicsCompressorFrame(a)(F.attack(a)(b)))}}),M("Release")(0)(1)(.001)(function(a){return function(b){return F.props(a)(F.dynamicsCompressorFrame(a)(F.release(a)(b)))}})]);if(L.props instanceof C.BiquadFilterFrame)return u.table([])(p.mconcat(p.foldableArray)(e.markupMonoid)([N(h.eq_BiquadFilterType)(h.show_BiquadFilterType)(h.isForeign_BiquadFilterType)("Type")(h.enumBiquadFilterType)(function(a){return function(b){return F.props(a)(F.bilinearFilterFrame(a)(F["type'"](a)(b)))}}),
M("Frequency")(1)(5E3)(10)(function(a){return function(b){return F.props(a)(F.bilinearFilterFrame(a)(F.frequency(a)(b)))}}),M("Detune")(-100)(100)(1)(function(a){return function(b){return F.props(a)(F.bilinearFilterFrame(a)(F.detune(a)(b)))}}),M("Q")(1E-4)(1E3)(10)(function(a){return function(b){return F.props(a)(F.bilinearFilterFrame(a)(F.q(a)(b)))}}),M("Gain")(-40)(40)(1)(function(a){return function(b){return F.props(a)(F.bilinearFilterFrame(a)(F.gain(a)(b)))}})]));if(L.props instanceof C.WaveShaperFrame)return w.mempty(e.markupMonoid);
if(L.props instanceof C.OscillatorFrame)return u.table([])(p.mconcat(p.foldableArray)(e.markupMonoid)([N(m.eq_OscillatorType)(m.show_OscillatorType)(m.isForeign_OscillatorType)("Type")(m.enumOscillatorType)(function(a){return function(b){return F.props(a)(F.oscillatorFrame(a)(F["type'"](a)(b)))}}),M("Frequency")(1)(5E3)(10)(function(a){return function(b){return F.props(a)(F.oscillatorFrame(a)(F.frequency(a)(b)))}}),M("Detune")(-10)(10)(1)(function(a){return function(b){return F.props(a)(F.oscillatorFrame(a)(F.detune(a)(b)))}})]));
if(L.props instanceof C.MediaStreamFrame)return u.div([])(p.mconcat(p.foldableArray)(e.markupMonoid)([n["++"](e.markupSemigroup)(e.text("Status: "))(O.glyphicon(v.maybe("remove")(n["const"]("ok"))(d.localMediaStream)))]));if(L.props instanceof C.KeyboardFrame)return u.div([u.classA("keyboard")])(p.foldMap(p.foldableArray)(e.markupMonoid)(function(a){return u.div([u.classA("key whiteKey"),e.initializer("init-keyboard-"+L.name)(function(a){return x.runAff(t.print(Y.showError))(n.pure(y.applicativeEff))(n.bind(x.bindAff)(z.when(x.monadAff)(!f.member("soundfont/sonatina-symphonic-orchestra/samples/grand-piano/piano-p-a1.mp3")(d.audioBuffers))(J.loadAudioFileByURL(d)("soundfont/sonatina-symphonic-orchestra/samples/grand-piano/piano-p-a1.mp3")))(function(){return n.pure(x.applicativeAff)(n.unit)}))}),
u.onMouseDown(function(b){return function(){fa(C.NodeState(function(){var b={},c;for(c in L)L.hasOwnProperty(c)&&(b[c]=L[c]);b.props=new C.KeyboardFrame({instrument:L.props.value0.instrument,notes:r.nub(n.eqInt)(r[":"](a)(L.props.value0.notes))});return b}()))();return n.unit}})])(w.mempty(e.markupMonoid))})(r[".."](0)(24)));if(L.props instanceof C.TimelineFrame)return k.renderTimelineFrame(a)(d)(l)(X)(R)(L)(L.props.value0);throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[L.props.constructor.name]);}(),ga=function(a){return function(b){if(d.connecting instanceof v.Nothing)return O.nop(y.applicativeEff);if(d.connecting instanceof v.Just){var c=M.runHistorical(d.project);b=r[":"]({output:d.connecting.value0.port,input:{node:a,connector:b}})(c.edges);var e={},f;for(f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);f=M.overwrite(d.project);var g={},h;for(h in c)c.hasOwnProperty(h)&&(g[h]=c[h]);g.edges=b;e.project=f(g);return l(e)}throw Error("Failed pattern match at Soundknot.UI.Node line 48, column 1 - line 49, column 1: "+
[d.connecting.constructor.name]);}};return u.div([G["classA'"](G.wiringFrame),e.attr("data-node-id")(L.name),e.attr("data-node-type")(C.frameTypeToTitle(L.props)),e.key(L.name),u.styleA(E.joinWith("")(["opacity:",v.maybe("0.0")(n["const"]("1.0"))(R),";","left:",n.show(n.showNumber)(L.position.x),"px;","top:",n.show(n.showNumber)(L.position.y),"px;"," z-index:",n.show(n.showInt)(L.zIndex),";"])),e.initializer("init-node")(function(a){return n.pure(y.applicativeEff)(n.unit)}),u.onDrop(function(a){return function(){N.preventDefault(a)();
N.stopPropagation(a)();return n.unit}})])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.clippingPane)])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.titleBar),u.onMouseDown(function(a){return ba})])(p.mconcat(p.foldableArray)(e.markupMonoid)([u.div([G["classA'"](G.titleText)])(p.mconcat(p.foldableArray)(e.markupMonoid)([O.glyphicon(C.iconName(L.props)),e.text(C.frameTypeToTitle(L.props))])),u.div([G["classA'"](G.closeButton),u.onMouseDown(function(a){return N.stopPropagation(a)}),
u.onClick(function(a){return da})])(O.glyphicon("remove-sign"))])),u.div([G["classA'"](G.nodeContentPane),u.onMouseDown(function(a){return N.stopPropagation(a)})])(ma)])),p.mconcat(p.foldableArray)(e.markupMonoid)(O.withIndex(C.getInputPorts(L.name)(L.props))(function(a){return function(b){var c=L.name+("-"+b.name);return u.div([u.classA("connector inputConnector"),u.styleA("top:"+(n.show(n.showInt)(40+(30*a|0)|0)+"px")),e.attr("data-type")(n.show(C.show_PortValue)(b.type)),e.attr("data-name")(c),
u.onMouseDown(function(a){return function(){N.stopPropagation(a)();return N.preventDefault(a)()}}),u.onMouseUp(function(a){return ga(L.name)(c)}),e.attr("id")(c)])(w.mempty(e.markupMonoid))}})),p.mconcat(p.foldableArray)(e.markupMonoid)(O.withIndex(C.getOutputPorts(L.name)(L.props))(function(a){return function(b){var c=L.name+("-"+b.name);return u.div([u.classA("connector outputConnector"),u.styleA("top:"+(n.show(n.showInt)(40+(30*a|0)|0)+"px")),e.attr("data-type")(n.show(C.show_PortValue)(b.type)),
e.attr("data-name")(c),u.onMouseDown(function(a){return function(){N.stopPropagation(a)();N.preventDefault(a)();return ea(L.name)(c)()}}),u.onMouseMove(N.stopPropagation),e.attr("id")(c)])(w.mempty(e.markupMonoid))}}))]))}}}}}}})(d["Soundknot.UI.Node"]=d["Soundknot.UI.Node"]||{});(function(a){var e=d["Data.List"],b=d["OpticUI.Markup"],c=d["OpticUI.Core"],g=d["Soundknot.UI.Node"],f=d.Prelude,h=d.Math,m=d["Data.Array"],k=d["Data.Foldable"],n=d["Data.Int"],q=d["Data.Maybe"],r=d["Data.Monoid"],p=d["Data.Nullable"],
v=d["Data.Ord"],w=d["Data.String"],l=d["Control.Monad.Eff"],E=d["Control.Monad.Eff.Class"],z=d["Control.Monad.Eff.Console"],y=d["Control.Monad.Aff"],A=d["OpticUI.Markup.HTML"],t=d["OpticUI.Markup.SVG"],x=d["Soundknot.Linear"],u=d["Soundknot.Types"],K=d["Soundknot.Classes"],C=d["Soundknot.Polyfill"],G=d["Soundknot.Utils"],N=d["Soundknot.Update"],D=d["Soundknot.Historical"],J=d.TypedArray,M=d["Control.Monad.Eff.Exception"];a.appCanvas=function(a){return function(d){return function(T){var H=function(a){var b=
{},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);b.project=D.record(u.eq_Project)(d.project)(a);return T(b)},Q=D.runHistorical(d.project),I=function(a){return k.foldl(k.foldableArray)(function(a){return function(b){return v.max(f.ordInt)(a)(b.zIndex)}})(0)(Q.nodes)},P=function(){var a=G.toFixed(d.translation.y)(8),b=G.toFixed(d.translation.x)(8),c=G.toFixed(h.pow(u.scaleBase)(n.toNumber(d.scaleFactor)))(8);return w.joinWith("")(["matrix(",c,", 0, 0,",c,", ",b,", ",a,")"])}(),Y=function(a){return function(c){return function(d){return function(e){return t.line([A.classA("grid"),
b.attr("x1")(f.show(f.showInt)(a)),b.attr("y1")(f.show(f.showInt)(c)),b.attr("x2")(f.show(f.showInt)(d)),b.attr("y2")(f.show(f.showInt)(e))])(r.mempty(b.markupMonoid))}}}},B=k.foldMap(k.foldableArray)(b.markupMonoid)(function(a){return f["++"](b.markupSemigroup)(Y(-2400)(240*a|0)(2400)(240*a|0))(Y(240*a|0)(-2400)(240*a|0)(2400))})(m[".."](-10)(10)),Z=function(a){return function(c){return function(e){return t.path([A.classA("connection"),b.attr("stroke-linecap")("round"),b.key(c.connector+("."+function(){if(e instanceof
q.Nothing)return"";if(e instanceof q.Just)return e.value0.connector;throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[e.constructor.name]);}())),b.attr("data-output")(c.connector),b.attr("data-input")(function(){if(e instanceof q.Nothing)return"";if(e instanceof q.Just)return e.value0.connector;throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[e.constructor.name]);}()),A.onMouseDown(function(b){return function(){C.preventDefault(b)();
if(a instanceof q.Nothing)return G.nop(l.applicativeEff)();if(a instanceof q.Just){var c=q.fromMaybe(Q.edges)(m.deleteAt(a.value0)(Q.edges)),e={},f;for(f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);f=D.record(u.eq_Project)(d.project);var g={},h;for(h in Q)Q.hasOwnProperty(h)&&(g[h]=Q[h]);g.edges=c;e.project=f(g);e.connecting=new q.Just({port:Q.edges[a.value0].output,mouse:q.Just.create(G.clientPosition(b))});e.scrolling=q.Nothing.value;return T(e)()}throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[a.constructor.name]);}})])(r.mempty(b.markupMonoid))}}},W=q.maybe([])(function(a){return[Z(q.Nothing.value)(a.port)(q.Nothing.value)]})(d.connecting),ca=m.sortBy(function(a){return function(b){return f.compare(f.ordString)(a.name)(b.name)}})(m.nubBy(function(a){return function(b){return f["=="](f.eqString)(a.name)(b.name)}})(f["++"](f.semigroupArray)(Q.nodes)(k.foldMap(e.foldableList)(r.monoidArray)(function(a){return a.nodes})(f["++"](e.semigroupList)(e.take(2)(D.undoList(d.project)))(e.take(2)(D.redoList(d.project)))))));
return c.withView(A.div([K["classA'"](K.centerPane),A.onMouseDown(function(a){if(d.scrolling instanceof q.Nothing)return T(u.State(function(){var b={},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);b.scrolling=q.Just.create(G.clientPosition(a));return b}()));if(d.scrolling instanceof q.Just)return G.nop(l.applicativeEff);throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[d.scrolling.constructor.name]);}),A.onMouseMove(function(a){if(d.connecting instanceof
q.Nothing){if(d.scrolling instanceof q.Nothing)return G.nop(l.applicativeEff);if(d.scrolling instanceof q.Just){var b=h.pow(u.scaleBase)(n.toNumber(d.scaleFactor)),c=x["=-="](G.clientPosition(a))(d.scrolling.value0);return function(){var e=function(){var e={},g;for(g in d)d.hasOwnProperty(g)&&(e[g]=d[g]);e.project=D.overwrite(d.project)(function(){var a={},d;for(d in Q)Q.hasOwnProperty(d)&&(a[d]=Q[d]);a.nodes=f.map(f.functorArray)(function(a){if(a.dragging){var d={},e;for(e in a)a.hasOwnProperty(e)&&
(d[e]=a[e]);d.position=x["=+="](a.position)(x[".*="](1/b)(c));return d}if(!a.dragging)return a;throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[a.dragging.constructor.name]);})(Q.nodes);return a}());e.scrolling=q.Just.create(G.clientPosition(a));e.translation=function(){var a=k.any(k.foldableArray)(f.booleanAlgebraBoolean)(function(a){return a.dragging})(Q.nodes);if(a)return d.translation;if(!a)return x["=+="](d.translation)(c);throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[a.constructor.name]);}();return e}();return T(e)()}}throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[d.scrolling.constructor.name]);}if(d.connecting instanceof q.Just)return T(u.State(function(){var b={},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);b.connecting=q.Just.create(function(){var b={},c;for(c in d.connecting.value0)d.connecting.value0.hasOwnProperty(c)&&(b[c]=d.connecting.value0[c]);b.mouse=q.Just.create(G.clientPosition(a));return b}());
return b}()));throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[d.connecting.constructor.name]);}),A.onMouseUp(function(a){return T(function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.project=D.overwrite(d.project)(function(){var a={},b;for(b in Q)Q.hasOwnProperty(b)&&(a[b]=Q[b]);a.nodes=f.map(f.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!1;return b})(Q.nodes);return a}());a.scrolling=
q.Nothing.value;a.connecting=q.Nothing.value;a.appendingNode=q.Nothing.value;return a}())}),A.onWheel(function(a){var b=h.pow(u.scaleBase)(n.toNumber(d.scaleFactor)),c=v.max(f.ordInt)(u.minScaleFactor)(v.min(f.ordInt)(u.maxScaleFactor)(d.scaleFactor+n.floor(G.signum(a.deltaY))|0)),e=h.pow(u.scaleBase)(n.toNumber(c));a=G.getOffset(a);var g={},k;for(k in d)d.hasOwnProperty(k)&&(g[k]=d[k]);g.scaleFactor=c;g.translation=x["=-="](a)(x[".*="](e/b)(x["=-="](a)(d.translation)));return T(g)}),A.onDragOver(function(a){return function(){C.stopPropagation(a)();
return C.preventDefault(a)()}}),A.onDrop(function(a){return function(){C.preventDefault(a)();C.stopPropagation(a)();var b=u.screenToWorld(d)(G.getOffset(a));(function(){if(d.appendingNode instanceof q.Nothing)return f.pure(l.applicativeEff)(f.unit);if(d.appendingNode instanceof q.Just)return function(){var a=G.now(),c=d.appendingNode.value0();return function(){var e=f["++"](f.semigroupArray)(Q.nodes)([{name:f.show(f.showInt)(a),position:b,props:c,dragging:!1,zIndex:I(d)+1|0}]);return function(){var a=
{},b;for(b in Q)Q.hasOwnProperty(b)&&(a[b]=Q[b]);a.nodes=e;H(a)();return c instanceof u.MediaStreamFrame?y.runAff(z.print(M.showError))(f.pure(l.applicativeEff))(N.requestUserMedia(d))():f.unit}}()()};throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[d.appendingNode.constructor.name]);})()();var c=p.toMaybe(G.getAudioFile(a));if(c instanceof q.Nothing)return G.nop(l.applicativeEff)();if(c instanceof q.Just)return y.runAff(z.print(M.showError))(f.pure(l.applicativeEff))(f.bind(y.bindAff)(E.liftEff(y.monadEffAff)(function(){var a=
G.now(),e=J.createObjectURL(J.fileToBlob(c.value0))(),g={},h;for(h in d)d.hasOwnProperty(h)&&(g[h]=d[h]);h=D.record(u.eq_Project)(d.project);var k={},l;for(l in Q)Q.hasOwnProperty(l)&&(k[l]=Q[l]);k.nodes=f["++"](f.semigroupArray)(Q.nodes)([{name:f.show(f.showInt)(a),position:b,props:new u.VideoFrame(q.Just.create(new u.FileSource(c.value0,e))),dragging:!1,zIndex:I(d)+1|0}]);g.project=h(k);return T(g)()}))(function(){return f.pure(y.applicativeAff)(f.unit)}))();throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[c.constructor.name]);}})]))(k.mconcat(k.foldableArray)(c.uiMonoid(b.markupMonoid))([c.ui(t.svg([K["classA'"](K.svgCanvas),b.attr("xmlns")("http://www.w3.org/2000/svg")])(t.g([t.transformA(P)])(k.mconcat(k.foldableArray)(b.markupMonoid)(f["++"](f.semigroupArray)([B])(f["++"](f.semigroupArray)(function(a){return function(b){if(0===m.length(b))return[];if(f.otherwise)return f.map(f.functorArray)(function(c){return a(c)(b[c])})(m[".."](0)(m.length(b)-1));throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[a.constructor.name,b.constructor.name]);}}(function(a){return function(b){return Z(new q.Just(a))(b.output)(new q.Just(b.input))}})(Q.edges))(W)))))),c.withView(A.div([K["classA'"](K.transformPane),A.styleA("transform: "+P)]))(k.foldMap(k.foldableArray)(c.uiMonoid(b.markupMonoid))(function(b){return c.ui(g.createEditorNode(a)(d)(T)(H)(m.findIndex(function(a){return f["=="](f.eqString)(b.name)(a.name)})(Q.nodes))(b))})(ca))]))}}}})(d["Soundknot.UI.Canvas"]=d["Soundknot.UI.Canvas"]||{});(function(a){function d(a){a.objectStoreNames.contains("projects")&&
a.deleteObjectStore("projects");a.createObjectStore("projects",{keyPath:"id"}).createIndex("id","id",{unique:!0})}var b=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;a._getProjectNames=function(a){return function(g){return function(){var f=b.open("soundknot-projects",6);f.onsuccess=function(b){b=f.result;b.onerror=function(b){a(b)()};b=b.transaction(["projects"],"readwrite");b.onerror=function(b){a(b)()};var d=[],e=b.objectStore("projects").index("id").openCursor();
e.onsuccess=function(a){(a=e.result)?(d.push(a.value.id),a["continue"]()):g(d)()}};f.onupgradeneeded=function(a){d(f.result)}}}};a._saveProject=function(a){return function(g){return function(f){return function(h){return function(){g.id=a+"///"+(new Date).toLocaleString();var m=b.open("soundknot-projects",6);m.onerror=function(a){f(a)()};m.onsuccess=function(a){a=m.result;a.onerror=function(a){console.log("Error creating/accessing IndexedDB database: "+a.toString());f(a)()};a.transaction(["projects"],
"readwrite").objectStore("projects").put(g).onsuccess=function(){h(g.id)()}};m.onupgradeneeded=function(a){d(m.result)}}}}}};a._loadProject=function(a){return function(g){return function(f){return function(){var h=b.open("soundknot-projects",6);h.onerror=function(a){g(a)()};h.onsuccess=function(b){b=h.result;b.onerror=function(a){console.log("Error creating/accessing IndexedDB database: "+a.toSting());g(a)()};b=b.transaction(["projects"],"readonly").objectStore("projects").get(a);b.onsuccess=function(a){f(a.target.result)()};
b.onerror=function(a){g(a)()}};h.onupgradeneeded=function(a){d(h.result)}}}}};a._deleteProject=function(a){return function(g){return function(f){return function(){var g=b.open("soundknot-projects",6);g.onsuccess=function(b){b=g.result;b.onerror=function(a){console.log("Error creating/accessing IndexedDB database: "+a.toSting())};b.transaction(["projects"],"readwrite").objectStore("projects")["delete"](a);f({})()};g.onupgradeneeded=function(a){d(g.result)}}}}}})(d["Soundknot.Persistence"]=d["Soundknot.Persistence"]||
{});(function(a){a.createObjectURL=function(a){return URL.createObjectURL(a)}})(d["Soundknot.Serialize"]=d["Soundknot.Serialize"]||{});(function(a){var e=d["CSS.Color"],b=d["CSS.Selector"],c=d["CSS.Stylesheet"],g=d["CSS.String"],f=d["CSS.Geometry"],h=d["CSS.Size"],m=d["CSS.Background"],k=d["CSS.Border"],n=d["CSS.Transform"],q=d["CSS.Display"],r=d["CSS.Font"],p=d["CSS.Property"],v=d["Soundknot.UI.Timeline.Styles"],w=d["Unsafe.Coerce"],l=d.Prelude,E=d["Data.Maybe"],z=d["Data.String"],y=d["Control.Monad"],
A=d["Soundknot.Classes"],t=d["Soundknot.Css"],x=d["CSS.Render"],u=function(a){return function(b){return c.key(p.valString)(g.fromString(p.isStringKey)(a))(b)}},K=e.rgba(169)(169)(242)(w.unsafeCoerce(.3)),C=e.rgb(107)(107)(182),G=function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return n.Transformation(p.value(p.valString)("matrix("+(z.joinWith(",")(l.map(l.functorArray)(l.show(l.showNumber))([a,b,c,d,e,f]))+")")))}}}}}},N=e.rgb(219)(217)(153),
D=function(a){return b.element("."+a)},J=e.rgb(197)(195)(147),M=e.rgb(182)(107)(107);a.clazz=D;a["@"]=u;a.css=function(a){return function(d){return E.fromMaybe("***ERROR***")(x.renderedSheet(x.render(l.bind(c.bindStyleM)(c["?"](D(A.btn))(l.bind(c.bindStyleM)(f.padding(h.px(4))(h.px(24))(h.px(4))(h.px(24)))(function(){return l.bind(c.bindStyleM)(f.margin(h.px(4))(h.px(4))(h.px(4))(h.px(4)))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("text-align"))("center"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("transition-property"))("opacity"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("transition-duration"))("0.3s"))(function(){return c.key(p.valString)(g.fromString(p.isStringKey)("opacity"))("1.0")})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".icon.button"))(l.bind(c.bindStyleM)(f.margin(h.px(4))(h.px(4))(h.px(4))(h.px(4)))(function(){return l.bind(c.bindStyleM)(f.padding(h.px(8))(h.px(8))(h.px(4))(h.px(8)))(function(){return l.bind(c.bindStyleM)(m.backgroundColor(new e.Rgba(200,
200,200,1)))(function(){return l.bind(c.bindStyleM)(k.borderRadius(h.px(8))(h.px(8))(h.px(8))(h.px(8)))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("box-sizing"))("border-box"))(function(){return l.bind(c.bindStyleM)(f.width(h.px(36)))(function(){return f.height(h.px(36))})})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".icon.button:hover"))(n.transform(G(1.1)(0)(0)(1.1)(0)(0))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".icon.button:active"))(n.transform(G(1)(0)(0)(1)(0)(0))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("html, body, body > div"))(l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("-webkit-font-smoothing"))("antialiased"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("-moz-osx-font-smoothing"))("grayscale"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("text-rendering"))("optimizeLegibility"))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("flex-direction"))("column"))(function(){return l.bind(c.bindStyleM)(f.width(h.pct(100)))(function(){return l.bind(c.bindStyleM)(f.height(h.pct(100)))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("overflow"))("hidden"))(function(){return l.bind(c.bindStyleM)(f.margin(h.px(0))(h.px(0))(h.px(0))(h.px(0)))(function(){return l.bind(c.bindStyleM)(f.padding(h.px(0))(h.px(0))(h.px(0))(h.px(0)))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("user-select"))("none"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("-moz-user-select"))("none"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("-webkit-user-select"))("none"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("-ms-user-select"))("none"))(function(){return l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("cursor"))("default"))(function(){return c.key(p.valString)(g.fromString(p.isStringKey)("position"))("absolute")})})})})})})})})})})})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](b["##"](b.element("input"))([new b.AttrVal("type",
"number")]))(l.bind(c.bindStyleM)(f.width(h.em(5)))(function(){return c.key(p.valString)(g.fromString(p.isStringKey)("font-family"))("monospace")})))(function(){return l.bind(c.bindStyleM)(c["?"](b["##"](b.element("input"))([new b.AttrVal("type","range")]))(f.width(h.px(120))))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.groundLayer))(l.bind(c.bindStyleM)(f.width(h.pct(100)))(function(){return l.bind(c.bindStyleM)(f.height(h.pct(100)))(function(){return l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(f.left(h.pct(0)))(function(){return l.bind(c.bindStyleM)(f.right(h.pct(0)))(function(){var a=
l.bind(c.bindStyleM),b=c.key(p.valString)(g.fromString(p.isStringKey)("-webkit-filter")),e;if(d)e="blur(4px)";else{if(d)throw Error("Failed pattern match at Soundknot.Styles line 39, column 1 - line 40, column 1: "+[d.constructor.name]);e="none"}return a(b(e))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return c.key(p.valString)(g.fromString(p.isStringKey)("flex-direction"))("column")})})})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".radialGrad"))(l.bind(c.bindStyleM)(f.width(h.pct(100)))(function(){return l.bind(c.bindStyleM)(f.height(h.pct(100)))(function(){return l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(f.left(h.px(0)))(function(){return l.bind(c.bindStyleM)(f.top(h.px(0)))(function(){return c.key(p.valString)(g.fromString(p.isStringKey)("pointer-events"))("none")})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.bottomPane))(l.bind(c.bindStyleM)(c.key(p.valString)(g.fromString(p.isStringKey)("flex-grow"))("1.0"))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return c.key(p.valString)(g.fromString(p.isStringKey)("flex-direction"))("row")})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.leftPane))(l.bind(c.bindStyleM)(f.padding(h.px(16))(h.px(16))(h.px(16))(h.px(16)))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return t.flexDirection(t.column)})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".leftPane .btn:hover"))(n.transform(G(1)(0)(0)(1)(0)(-2))))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.centerPane))(l.bind(c.bindStyleM)(t.flexGrow(1))(function(){return l.bind(c.bindStyleM)(t.overflow(t.hidden))(function(){return q.position(q.relative)})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.svgCanvas))(l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(f.width(h.pct(100)))(function(){return l.bind(c.bindStyleM)(f.height(h.pct(100)))(function(){return l.bind(c.bindStyleM)(f.left(h.px(0)))(function(){return f.top(h.px(0))})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.transformPane))(u("transform-origin")("0 0")))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".topMenu > .btn"))(c.key(p.valString)(g.fromString(p.isStringKey)("margin-right"))("12px")))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".disabled"))(c.key(p.valString)(g.fromString(p.isStringKey)("opacity"))("0.4")))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.topMenu))(l.bind(c.bindStyleM)(f.padding(h.px(16))(h.px(16))(h.px(16))(h.px(16)))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return u("flex-shrink")("0")})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".topMenu .btn"))(f.width(h.px(120))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".topMenu .btn:hover"))(n.transform(G(1.05)(0)(0)(1.05)(0)(0))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".topMenu .btn:active"))(n.transform(G(.95)(0)(0)(.95)(0)(0))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("path.connection"))(l.bind(c.bindStyleM)(u("fill")("none"))(function(){return u("stroke-width")("6")})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectName))(l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(f.right(h.px(0)))(function(){return l.bind(c.bindStyleM)(f.bottom(h.px(0)))(function(){return l.bind(c.bindStyleM)(r.color(e.white))(function(){return l.bind(c.bindStyleM)(f.margin(h.px(8))(h.px(8))(h.px(8))(h.px(8)))(function(){return u("text-shadow")("0px 0px 8px black")})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".glyphicon"))(f.margin(h.px(4))(h.px(0))(h.px(4))(h.px(0))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("line.grid"))(l.bind(c.bindStyleM)(u("fill")("none"))(function(){return l.bind(c.bindStyleM)(u("stroke")("rgba(255, 255, 255, 0.4)"))(function(){return u("strokeWidth")("0.5")})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.wiringFrame))(l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return y.when(c.monadStyleM)(a)(l.bind(c.bindStyleM)(u("transition-property")("left, top, opacity"))(function(){return u("transition-duration")("0.3s")}))})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.clippingPane))(t.overflow(t.hidden)))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.titleBar))(l.bind(c.bindStyleM)(f.padding(h.px(5))(h.px(5))(h.px(5))(h.px(5)))(function(){return l.bind(c.bindStyleM)(u("text-align")("center"))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return u("align-items")("center")})})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.titleText))(l.bind(c.bindStyleM)(t.flexGrow(1))(function(){return l.bind(c.bindStyleM)(u("white-space")("nowrap"))(function(){return u("font-size")("small")})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.closeButton))(l.bind(c.bindStyleM)(u("opacity")("0.3"))(function(){return l.bind(c.bindStyleM)(q.position(q.relative))(function(){return f.top(h.px(1))})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".closeButton:hover"))(u("opacity")("1.0")))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.nodeContentPane))(f.padding(h.px(16))(h.px(16))(h.px(16))(h.px(16))))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.connector))(l.bind(c.bindStyleM)(f.width(h.px(16)))(function(){return l.bind(c.bindStyleM)(f.height(h.px(16)))(function(){return l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(f.left(h.px(-8)))(function(){return l.bind(c.bindStyleM)(f.top(h.px(64)))(function(){return l.bind(c.bindStyleM)(k.borderRadius(h.px(16))(h.px(16))(h.px(16))(h.px(16)))(function(){return k.border(k.solid)(h.px(1))(e.rgb(197)(195)(147))})})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.inputConnector))(f.left(h.px(-8))))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.outputConnector))(l.bind(c.bindStyleM)(u("left")("calc(100% - 8px)"))(function(){return l.bind(c.bindStyleM)(u("transition-property")("transform"))(function(){return u("transition-duration")("0.3s")})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".outputConnector:hover"))(n.transform(n.Transformation(p.value(p.valString)("matrix(1.4, 0, 0, 1.4, 0, 0)")))))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("[data-type=audio]"))(m.backgroundColor(N)))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("[data-type=buffer]"))(m.backgroundColor(M)))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("[data-type=midi]"))(m.backgroundColor(C)))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.viewFrameMenuBar))(l.bind(c.bindStyleM)(q.display(q.flex))(function(){return l.bind(c.bindStyleM)(f.margin(h.px(0))(h.px(0))(h.px(0))(h.px(8)))(function(){return t.alignItems(w.unsafeCoerce(t.center))})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".fileName"))(l.bind(c.bindStyleM)(f.width(h.px(10)))(function(){return l.bind(c.bindStyleM)(t.flexGrow(1))(function(){return l.bind(c.bindStyleM)(u("text-overflow")("ellipsis"))(function(){return l.bind(c.bindStyleM)(u("overflow")("hidden"))(function(){return u("white-space")("nowrap")})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("video"))(l.bind(c.bindStyleM)(u("resize")("both"))(function(){return l.bind(c.bindStyleM)(t.overflow(t.hidden))(function(){return u("width")("400px")})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectListBackground))(l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(u("top")("0px"))(function(){return l.bind(c.bindStyleM)(u("left")("0px"))(function(){return l.bind(c.bindStyleM)(u("width")("100%"))(function(){return l.bind(c.bindStyleM)(u("height")("100%"))(function(){return l.bind(c.bindStyleM)(m.backgroundColor(e.rgba(0)(0)(0)(w.unsafeCoerce(.8))))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return l.bind(c.bindStyleM)(t.alignItems(w.unsafeCoerce(t.center)))(function(){return l.bind(c.bindStyleM)(t.justifyContent(t.center))(function(){return l.bind(c.bindStyleM)(t.flexDirection(t.column))(function(){return l.bind(c.bindStyleM)(u("transition-property")("opacity"))(function(){return l.bind(c.bindStyleM)(u("transition-duration")("0.3s"))(function(){var a=
l.bind(c.bindStyleM),b=u("opacity"),e;if(d)e="1.0";else{if(d)throw Error("Failed pattern match at Soundknot.Styles line 39, column 1 - line 40, column 1: "+[d.constructor.name]);e="0.0"}return a(b(e))(function(){var a=u("pointer-events"),b;if(d)b="auto";else{if(d)throw Error("Failed pattern match at Soundknot.Styles line 39, column 1 - line 40, column 1: "+[d.constructor.name]);b="none"}return a(b)})})})})})})})})})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectList))(l.bind(c.bindStyleM)(u("width")("640px"))(function(){return l.bind(c.bindStyleM)(u("height")("360px"))(function(){return l.bind(c.bindStyleM)(t.overflowY(t.scroll))(function(){return l.bind(c.bindStyleM)(k.border(k.solid)(h.px(1))(J))(function(){return l.bind(c.bindStyleM)(u("flex-direction")("column"))(function(){return q.position(q.relative)})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectEntry))(l.bind(c.bindStyleM)(u("margin")("8px"))(function(){return l.bind(c.bindStyleM)(q.display(q.flex))(function(){return l.bind(c.bindStyleM)(t.justifyContent(t.center))(function(){return l.bind(c.bindStyleM)(t.alignItems(w.unsafeCoerce(t.center)))(function(){return l.bind(c.bindStyleM)(t.alignSelf(w.unsafeCoerce(t.center)))(function(){return l.bind(c.bindStyleM)(k.border(k.solid)(h.px(1))(J))(function(){return l.bind(c.bindStyleM)(u("padding")("8px"))(function(){return l.bind(c.bindStyleM)(u("transition")("top"))(function(){return l.bind(c.bindStyleM)(u("transition-duration")("0.3s"))(function(){return l.bind(c.bindStyleM)(q.position(q.absolute))(function(){return l.bind(c.bindStyleM)(u("height")("22px"))(function(){return l.bind(c.bindStyleM)(u("left")("0px"))(function(){return u("right")("0px")})})})})})})})})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".projectEntry.selected"))(m.backgroundColor(K)))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".projectEntry:hover"))(l.bind(c.bindStyleM)(n.transform(G(1)(0)(0)(1)(0)(-2)))(function(){return t.boxShadow("0px 4px 16px 4px rgba(0, 0, 0, 0.2)")})))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectEntryLabel))(r.color(J)))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectOpenButtonList))(q.display(q.flex)))(function(){return l.bind(c.bindStyleM)(c["?"](D(A.projectOpenButton))(l.bind(c.bindStyleM)(k.border(k.solid)(h.px(1))(J))(function(){return l.bind(c.bindStyleM)(r.color(J))(function(){return l.bind(c.bindStyleM)(u("min-width")("60px"))(function(){return l.bind(c.bindStyleM)(t.textAlign(w.unsafeCoerce(t.center)))(function(){return l.bind(c.bindStyleM)(u("padding")("4px 48px 4px 48px"))(function(){return u("margin")("20px 20px 20px 20px")})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".projectOpenButton:hover"))(l.bind(c.bindStyleM)(n.transform(G(1.1)(0)(0)(1.1)(0)(0)))(function(){return m.backgroundColor(e.rgba(255)(255)(255)(w.unsafeCoerce(.2)))})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".projectOpenButton:active"))(l.bind(c.bindStyleM)(n.transform(G(1.05)(0)(0)(1.05)(0)(0)))(function(){return m.backgroundColor(e.rgba(255)(255)(255)(w.unsafeCoerce(.2)))})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)("tr"))(u("margin")("4px")))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".keyboard"))(l.bind(c.bindStyleM)(u("height")("40px"))(function(){return u("border-right")("solid 1px rgba(0, 0, 0, 0.4)")})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".keyboard > .key"))(l.bind(c.bindStyleM)(u("float")("left"))(function(){return l.bind(c.bindStyleM)(u("width")("8px"))(function(){return l.bind(c.bindStyleM)(u("height")("100%"))(function(){return l.bind(c.bindStyleM)(u("border")("solid 1px rgba(0, 0, 0, 0.4)"))(function(){return l.bind(c.bindStyleM)(u("border-right")("none"))(function(){return u("box-sizing")("border-box")})})})})})))(function(){return l.bind(c.bindStyleM)(c["?"](g.fromString(b.isStringSelector)(".keyboard > .whiteKey"))(u("background-color")("white")))(function(){return v.css(a)(d)})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})}))))}}})(d["Soundknot.Styles"]=
d["Soundknot.Styles"]||{});(function(a){var e=d["CSS.String"],b=d["CSS.Stylesheet"],c=d["CSS.Background"],g=d["CSS.Border"],f=d["CSS.Size"],h=d["CSS.Color"],m=d["CSS.Font"],k=d.Prelude,n=d["Data.Maybe"],q=d["Soundknot.Classes"],r=d["Soundknot.Css"],p=d["Soundknot.Styles"],v=d["CSS.Render"],w=d["CSS.Selector"],l=e.fromString(h.isStringColor)("#4F5956"),E=e.fromString(h.isStringColor)("#C5C393"),n=n.fromMaybe("***ERROR***")(v.renderedSheet(v.render(k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)("html, body, body > div"))(k.bind(b.bindStyleM)(c.backgroundColor(e.fromString(h.isStringColor)("#373F3D")))(function(){return p["@"]("font-family")("'Rosarivo', serif")})))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)("input:focus"))(g.border(g.solid)(f.px(1))(e.fromString(h.isStringColor)("#7BFFA4"))))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.topMenu))(c.backgroundColor(l)))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.leftPane))(c.backgroundColor(l)))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)(".leftPane .btn:hover"))(p["@"]("box-shadow")("0px 8px 1px 1px rgba(0,0,0,0.3);")))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.centerPane))(g.border(g.solid)(f.px(1))(h.grey)))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.clippingPane))(k.bind(b.bindStyleM)(g.border(g.solid)(f.px(1))(h.grey))(function(){return c.backgroundColor(h.white)})))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.btn))(k.bind(b.bindStyleM)(g.borderRadius(f.px(4))(f.px(4))(f.px(4))(f.px(4)))(function(){return k.bind(b.bindStyleM)(c.backgroundColor(e.fromString(h.isStringColor)("#F8FBE2")))(function(){return k.bind(b.bindStyleM)(m.color(e.fromString(h.isStringColor)("#38312D")))(function(){return p["@"]("box-shadow")("0px 0px 8px rgba(0, 0, 0, 0.5)")})})})))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)("select, option"))(k.bind(b.bindStyleM)(g.borderRadius(f.px(4))(f.px(4))(f.px(4))(f.px(4)))(function(){return k.bind(b.bindStyleM)(c.backgroundColor(e.fromString(h.isStringColor)("#F8FBE2")))(function(){return k.bind(b.bindStyleM)(m.color(e.fromString(h.isStringColor)("#38312D")))(function(){return k.bind(b.bindStyleM)(p["@"]("font-family")("'Rosarivo', serif"))(function(){return k.bind(b.bindStyleM)(p["@"]("font-size")("medium"))(function(){return r.textAlign(r.center)})})})})})))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)(".radialGrad"))(p["@"]("background")("-webkit-gradient(radial, center center, 400, center center, 1000, from(rgba(0, 0, 0, 0.0)), to(rgba(0, 0, 0, 0.35)))")))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.titleBar))(k.bind(b.bindStyleM)(p["@"]("letter-spacing")("0.1em"))(function(){return k.bind(b.bindStyleM)(p["@"]("text-shadow")("1px 1px 3px rgba(0, 0, 0, 0.5)"))(function(){return k.bind(b.bindStyleM)(c.backgroundColor(e.fromString(h.isStringColor)("#4B5662")))(function(){return m.color(e.fromString(h.isStringColor)("#F9FDBC"))})})})))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)(".titleBar:hover"))(c.backgroundColor(e.fromString(h.isStringColor)("#647281"))))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.centerPane))(p["@"]("box-shadow")("10px 10px 30px 10px rgba(0,0,0,0.3) inset;")))(function(){return k.bind(b.bindStyleM)(b["?"](p.clazz(q.clippingPane))(k.bind(b.bindStyleM)(c.backgroundColor(e.fromString(h.isStringColor)("#FAFAFA")))(function(){return k.bind(b.bindStyleM)(p["@"]("box-shadow")("8px 8px 16px 8px rgba(0, 0, 0, 0.2);"))(function(){return k.bind(b.bindStyleM)(g.borderRadius(f.px(8))(f.px(8))(f.px(8))(f.px(8)))(function(){return g.border(g.solid)(f.px(1))(E)})})})))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)("path.connection"))(p["@"]("stroke")("#848242")))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)("path.connection:hover"))(p["@"]("stroke")("#B3B168")))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)("path.timeDomain"))(k.bind(b.bindStyleM)(p["@"]("fill")("none"))(function(){return p["@"]("stroke")("#848242")})))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)(".timeline"))(p["@"]("box-shadow")("4px 4px 20px 4px rgba(0, 0, 0, 0.2) inset")))(function(){return k.bind(b.bindStyleM)(b["?"](e.fromString(w.isStringSelector)(".timeline .cursor"))(k.bind(b.bindStyleM)(p["@"]("box-shadow")("1px 1px 8px 1px rgba(0, 0, 0, 0.4)"))(function(){return k.pure(b.applicativeStyleM)(k.unit)})))(function(){return b["?"](e.fromString(w.isStringSelector)("svg.waveform"))(p["@"]("box-shadow")("2px 2px 12px 4px rgba(0, 0, 0, 0.2)"))})})})})})})})})})})})})})})})})})})}))));
a.retro=n})(d["Soundknot.Styles.Retro"]=d["Soundknot.Styles.Retro"]||{});(function(a){var e=d["Soundknot.Serialize"],b=d["WebAudio.Gain"],c=d["WebAudio.Delay"],g=d["WebAudio.Core"],f=d["WebAudio.Compressor"],h=d["WebAudio.Oscillator"],m=d["Soundknot.UI.Timeline.Types"],k=d["Soundknot.Styles.Retro"],n=d.Prelude,q=d["Data.Maybe"],r=d["Data.Either"],p=d["Data.Nullable"],v=d["Data.Foreign"],w=d["Data.Foreign.Class"],l=d["Data.Foreign.Null"],E=d["Data.Traversable"],z=d["Control.Alt"],y=d["WebAudio.BiquadFilter"],
A=d.TypedArray,t=d["Soundknot.Types"],x=d["Soundknot.Historical"],u=d["Data.Foreign.Index"],K=d["Control.Monad.Eff"],C=v.unsafeReadTagged("Object"),G=function(a){return n["<#>"](r.functorEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("pan")(a))(g.readAudioParams))(function(a){return{pan:a}})},N=v.unsafeReadTagged("File"),D=function(a){return z["<|>"](r.altEither)(z["<|>"](r.altEither)(n["<$>"](r.functorEither)(n["<$>"](n.functorFn)(q.Just.create)(t.URLMediaSource.create))(v.readString(a)))(n[">>="](r.bindEither)(N(a))(function(a){return r.Right.create(q.Just.create(new t.FileSource(a,
e.createObjectURL(A.fileToBlob(a)))))})))(new r.Right(q.Nothing.value))},J=function(a){return n["<#>"](r.functorEither)(n["<#>"](r.functorEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("file")(a))(l.readNull(N)))(l.runNull))(function(a){return{file:a}})};a.deserialize=function(a){var d=function(a){return n.bind(r.bindEither)(w.readProp(w.numberIsForeign)(u.indexString)("x")(a))(function(b){return n.bind(r.bindEither)(w.readProp(w.numberIsForeign)(u.indexString)("y")(a))(function(a){return n.pure(r.applicativeEither)({x:b,
y:a})})})},e=function(a){return n.bind(r.bindEither)(w.readProp(w.stringIsForeign)(u.indexString)("node")(a))(function(b){return n.bind(r.bindEither)(w.readProp(w.stringIsForeign)(u.indexString)("connector")(a))(function(a){return n.pure(r.applicativeEither)({node:b,connector:a})})})},g=function(a){return n.bind(r.bindEither)(w.readProp(w.stringIsForeign)(u.indexString)("name")(a))(function(e){return n.bind(r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("position")(a))(d))(function(d){return n.bind(r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("props")(a))(function(g){return n.bind(r.bindEither)(w.readProp(w.stringIsForeign)(u.indexString)("type")(a))(function(k){return n.bind(r.bindEither)(w.readProp(w.intIsForeign)(u.indexString)("zIndex")(a))(function(a){return n.bind(r.bindEither)(function(){return n["=="](n.eqString)(k)(t.destinationSymbol)?
n["<$>"](r.functorEither)(t.DestinationFrame.create)(b.readGainParams(g)):n["=="](n.eqString)(k)(t.gainSymbol)?n["<$>"](r.functorEither)(t.GainFrame.create)(b.readGainParams(g)):n["=="](n.eqString)(k)(t.delaySymbol)?n["<$>"](r.functorEither)(t.DelayFrame.create)(c.readDelayParams(g)):n["=="](n.eqString)(k)(t.audioBufferSymbol)?n["<$>"](r.functorEither)(t.AudioBufferFrame.create)(J(g)):n["=="](n.eqString)(k)(t.videoSymbol)?n["<$>"](r.functorEither)(t.VideoFrame.create)(D(g)):n["=="](n.eqString)(k)(t.stereoPannerSymbol)?
n["<$>"](r.functorEither)(t.StereoPannerFrame.create)(G(g)):n["=="](n.eqString)(k)(t.convolverSymbol)?n.pure(r.applicativeEither)(t.ConvolverFrame.value):n["=="](n.eqString)(k)(t.analyserSymbol)?n.pure(r.applicativeEither)(new t.AnalyserFrame({handler:function(a){return n.pure(K.applicativeEff)(n.unit)}})):n["=="](n.eqString)(k)(t.channelSplitterSymbol)?n.pure(r.applicativeEither)(t.ChannelSplitterFrame.value):n["=="](n.eqString)(k)(t.channelMergerSymbol)?n.pure(r.applicativeEither)(t.ChannelMergerFrame.value):
n["=="](n.eqString)(k)(t.dynamicsCompressorSymbol)?n["<$>"](r.functorEither)(t.DynamicsCompressorFrame.create)(f.readDynamicsCompressorParams(g)):n["=="](n.eqString)(k)(t.biquadFilterSymbol)?n["<$>"](r.functorEither)(t.BiquadFilterFrame.create)(y.foreignToBiquadFilterParams(g)):n["=="](n.eqString)(k)(t.waveShaperSymbol)?n.pure(r.applicativeEither)(new t.WaveShaperFrame({})):n["=="](n.eqString)(k)(t.oscillatorSymbol)?n["<$>"](r.functorEither)(t.OscillatorFrame.create)(h.foreignToOscillatorParams(g)):
n["=="](n.eqString)(k)(t.mediaStreamSymbol)?n.pure(r.applicativeEither)(t.MediaStreamFrame.value):n["=="](n.eqString)(k)(t.keyboardSymbol)?n["<$>"](r.functorEither)(function(a){return t.KeyboardFrame.create({instrument:a,notes:[]})})(v.readString(g)):n["=="](n.eqString)(k)(t.timelineSymbol)?n["<$>"](r.functorEither)(t.TimelineFrame.create)(m.readTimeline(g)):new r.Left(new v.JSONError("Unknown symbol: "+k))}())(function(b){return n.pure(r.applicativeEither)({name:e,position:d,props:b,dragging:!1,
zIndex:a})})})})})})})},l=function(a){return n.bind(r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("output")(a))(e))(function(b){return n.bind(r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("input")(a))(e))(function(a){return n.pure(r.applicativeEither)({output:b,input:a})})})};return n.bind(r.bindEither)(w.readProp(w.stringIsForeign)(u.indexString)("projectName")(a))(function(b){return n.bind(r.bindEither)(w.readProp(w.intIsForeign)(u.indexString)("scaleFactor")(a))(function(c){return n.bind(r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("translation")(a))(d))(function(d){return n.bind(r.bindEither)(n[">>="](r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("nodes")(a))(v.readArray))(E.traverse(E.traversableArray)(r.applicativeEither)(g)))(function(e){return n.bind(r.bindEither)(n[">>="](r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("edges")(a))(v.readArray))(E.traverse(E.traversableArray)(r.applicativeEither)(l)))(function(f){return n.bind(r.bindEither)(n[">>="](r.bindEither)(w.readProp(w.foreignIsForeign)(u.indexString)("audioFiles")(a))(C))(function(a){return n.bind(r.bindEither)(n.pure(r.applicativeEither)(t.initialState(b)(k.retro)))(function(b){var g=
n.pure(r.applicativeEither),h={},k;for(k in b)b.hasOwnProperty(k)&&(h[k]=b[k]);h.scaleFactor=c;h.translation=d;h.project=x.historical({nodes:e,edges:f});h.audioFiles=a;return g(h)})})})})})})})};a.serialize=function(a){var d=function(a){if(a instanceof t.DestinationFrame||a instanceof t.GainFrame)return b.writeGainParams(a.value0);if(a instanceof t.DelayFrame)return c.writeDelayParams(a.value0);if(a instanceof t.AudioBufferFrame)return v.toForeign({file:p.toNullable(a.value0.file)});if(a instanceof
t.VideoFrame&&a.value0 instanceof q.Nothing)return v.toForeign(p.toNullable(q.Nothing.value));if(a instanceof t.VideoFrame&&a.value0 instanceof q.Just&&a.value0.value0 instanceof t.FileSource||a instanceof t.VideoFrame&&a.value0 instanceof q.Just&&a.value0.value0 instanceof t.URLMediaSource)return v.toForeign(a.value0.value0.value0);if(a instanceof t.StereoPannerFrame)return v.toForeign({pan:g.audioParamsToForeign(a.value0.pan)});if(a instanceof t.ConvolverFrame||a instanceof t.AnalyserFrame||a instanceof
t.ChannelSplitterFrame||a instanceof t.ChannelMergerFrame)return v.toForeign({});if(a instanceof t.DynamicsCompressorFrame)return f.writeDynamicsCompressorParams(a.value0);if(a instanceof t.BiquadFilterFrame)return y.biquadFilterParamsToForeign(a.value0);if(a instanceof t.WaveShaperFrame)return v.toForeign({});if(a instanceof t.OscillatorFrame)return v.toForeign(h.oscillatorParamsToForeign(a.value0));if(a instanceof t.MediaStreamFrame)return v.toForeign({});if(a instanceof t.KeyboardFrame)return v.toForeign(a.value0.instrument);
if(a instanceof t.TimelineFrame)return v.toForeign(a.value0);throw Error("Failed pattern match at Soundknot.Serialize line 42, column 5 - line 44, column 5: "+[a.constructor.name]);},e=x.runHistorical(a.project);return v.toForeign({projectName:a.projectName,nodes:n.map(n.functorArray)(function(a){return{name:a.name,position:a.position,type:t.frameTypeToTitle(a.props),props:d(a.props),zIndex:a.zIndex}})(e.nodes),edges:e.edges,scaleFactor:a.scaleFactor,translation:a.translation,audioFiles:a.audioFiles})}})(d["Soundknot.Serialize"]=
d["Soundknot.Serialize"]||{});(function(a){var e=d["Soundknot.Persistence"],b=d.Prelude,c=d["Control.Monad.Aff"],g=d["Soundknot.Serialize"],f=c.makeAff(e._getProjectNames);a.deleteProject=function(a){return c.makeAff(e._deleteProject(a))};a.getProjectNames=f;a.loadProject=function(a){return b["<$>"](c.functorAff)(g.deserialize)(c.makeAff(e._loadProject(a)))};a.saveProject=function(a){return function(b){return c.makeAff(e._saveProject(a)(g.serialize(b)))}}})(d["Soundknot.Persistence"]=d["Soundknot.Persistence"]||
{});(function(a){var e=d["OpticUI.Markup"],b=d["OpticUI.Core"],c=d["Data.StrMap"],g=d.Prelude,f=d["Data.Array"],h=d["Data.Either"],m=d["Data.Foldable"],k=d["Data.Maybe"],n=d["Data.String"],q=d["Control.Monad.Eff"],r=d["Control.Monad.Eff.Class"],p=d["Control.Monad.Eff.Console"],v=d["Control.Monad.Aff"],w=d["Control.Monad.Rec.Class"],l=d["OpticUI.Markup.HTML"],E=d["Soundknot.Types"],z=d["Soundknot.Classes"],y=d["Soundknot.Polyfill"],A=d["Soundknot.Persistence"],t=d["Soundknot.Historical"],x=d["Soundknot.Update"],
u=d["Soundknot.Utils"],K=d["Data.Traversable"],C=d["Control.Monad.Eff.Exception"],G=d["Data.Foreign"];a.projectsUI=function(a){return function(d){var J=function(b){return g.bind(v.bindAff)(A.getProjectNames)(function(c){var e=r.liftEff(v.monadEffAff),h={},k;for(k in a)a.hasOwnProperty(k)&&(h[k]=a[k]);h.selectedProject=b;h.projectEntries=f[":"](E.NewProject.value)(g.map(g.functorArray)(E.ExistingProject.create)(c));return e(d(h))})};return b.withView(l.div([z["classA'"](z.projectListBackground),l.onClick(function(b){b=
{};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.projectListVisible=!1;return d(b)})]))(m.mconcat(m.foldableArray)(b.uiMonoid(e.markupMonoid))([b.withView(l.div([z["classA'"](z.projectList),l.onClick(function(a){return function(){y.stopPropagation(a)();return y.preventDefault(a)()}})]))(b.foreach(e.markupMonoid)(K.traversableArray)(function(c){return b["with"](function(f){return function(h){return b.ui(l.div([l.classA(z.runClassName(z.projectEntry)+function(){var b=g["=="](k.eqMaybe(E.eq_ProjectEntrySelect))(new k.Just(f))(a.selectedProject);
if(b)return" selected";if(!b)return"";throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[b.constructor.name]);}()),e.attr("style")("top: "+(g.show(g.showInt)(44*c|0)+"px")),e.key(function(){if(f instanceof E.NewProject)return"new";if(f instanceof E.ExistingProject)return f.value0;throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[f.constructor.name]);}()),l.onClick(function(b){b={};for(var c in a)a.hasOwnProperty(c)&&
(b[c]=a[c]);b.selectedProject=new k.Just(f);return d(b)})])(l.div([z["classA'"](z.projectEntryLabel)])(e.text(n.replace("///")(" - ")(function(){if(f instanceof E.NewProject)return"( New )";if(f instanceof E.ExistingProject)return f.value0;throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[f.constructor.name]);}())))))}})})),b.withView(l.div([z["classA'"](z.projectOpenButtonList)]))(function(){var K=function(a){return function(c){return function(d){return function(f){return b.ui(l.div([l.classA(z.runClassName(z.projectOpenButton)+
function(){if(d)return"";if(!d)return" disabled";throw Error("Failed pattern match at Soundknot.UI.Projects line 54, column 17 - line 61, column 13: "+[d.constructor.name]);}()),l.onClick(function(a){return function(){y.stopPropagation(a)();y.preventDefault(a)();return f()}})])(g["++"](e.markupSemigroup)(u.glyphicon(c))(e.text(a))))}}}},F=m.mconcat(m.foldableArray)(b.uiMonoid(e.markupMonoid)),H=K("Open")("open")(k.isJust(a.selectedProject))(function(){if(a.selectedProject instanceof k.Nothing)return g.pure(q.applicativeEff)(g.unit);
if(a.selectedProject instanceof k.Just){if(a.selectedProject.value0 instanceof E.NewProject){var b=E.initialState("")(a.config.theme);return d(function(){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.driver=a.driver;c.config=a.config;return c}())}if(a.selectedProject.value0 instanceof E.ExistingProject)return v.runAff(p.print(C.showError))(g.pure(q.applicativeEff))(g.bind(v.bindAff)(A.loadProject(a.selectedProject.value0.value0))(function(b){return r.liftEff(v.monadEffAff)(function(){if(b instanceof
h.Left)return p.log(g.show(G.showForeignError)(b.value0));if(b instanceof h.Right){var e=function(){var c={},d;for(d in b.value0)b.value0.hasOwnProperty(d)&&(c[d]=b.value0[d]);c.driver=a.driver;c.config=a.config;return c}();return function(){v.runAff(p.print(C.showError))(g.pure(q.applicativeEff))(function(){var d=t.runHistorical(b.value0.project);return g.bind(v.bindAff)(m.for_(v.applicativeAff)(m.foldableArray)(d.nodes)(function(b){return b.props instanceof E.AudioBufferFrame?k.maybe(g.pure(v.applicativeAff)(g.unit))(x.loadAudioFile(a))(b.props.value0.file):
g.pure(v.applicativeAff)(g.unit)}))(function(){return m.for_(v.applicativeAff)(m.foldableArray)(c.keys(b.value0.audioFiles))(function(a){var d=c.lookup(a)(b.value0.audioFiles);if(d instanceof k.Nothing)return g.pure(v.applicativeAff)(g.unit);if(d instanceof k.Just)return x.registerAudioBuffer(e)(d.value0)(a);throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[d.constructor.name]);})})}())();return d(e)()}}throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+
[b.constructor.name]);}())}));throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[a.selectedProject.value0.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[a.selectedProject.constructor.name]);}()),I=K("Save")("save")(k.isJust(a.selectedProject))(v.runAff(p.print(C.showError))(g.pure(q.applicativeEff))(function(){if(a.selectedProject instanceof k.Just&&a.selectedProject.value0 instanceof
E.NewProject)return g.bind(v.bindAff)(A.getProjectNames)(function(b){var c=f.catMaybes(g.map(g.functorArray)(function(a){return f.head(n.split("///")(a))})(b));b=w.tailRec(function(a){var b="New Project "+g.show(g.showInt)(a),d=f.elemIndex(g.eqString)(b)(c);if(d instanceof k.Just)return new h.Left(a+1|0);if(d instanceof k.Nothing)return new h.Right(b);throw Error("Failed pattern match at Soundknot.UI.Projects line 102, column 33 - line 108, column 29: "+[d.constructor.name]);})(0);return g.bind(v.bindAff)(A.saveProject(b)(a))(function(a){return J(new k.Just(new E.ExistingProject(a)))})});
if(a.selectedProject instanceof k.Just&&a.selectedProject.value0 instanceof E.ExistingProject){var b=f.head(n.split("///")(a.selectedProject.value0.value0));if(b instanceof k.Nothing)return g.pure(v.applicativeAff)(g.unit);if(b instanceof k.Just)return g.bind(v.bindAff)(A.deleteProject(a.selectedProject.value0.value0))(function(){return g.bind(v.bindAff)(A.saveProject(b.value0)(a))(function(a){return J(new k.Just(new E.ExistingProject(a)))})});throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+
[b.constructor.name]);}return g.pure(v.applicativeAff)(g.unit)}())),K=K("Delete")("remove"),P;P=a.selectedProject instanceof k.Just&&a.selectedProject.value0 instanceof E.ExistingProject?!0:!1;return F([H,I,K(P)(v.runAff(p.print(C.showError))(g.pure(q.applicativeEff))(function(){return a.selectedProject instanceof k.Just&&a.selectedProject.value0 instanceof E.ExistingProject?g.bind(v.bindAff)(A.deleteProject(a.selectedProject.value0.value0))(function(){return J(k.Nothing.value)}):g.pure(v.applicativeAff)(g.unit)}()))])}())]))}}})(d["Soundknot.UI.Projects"]=
d["Soundknot.UI.Projects"]||{});(function(a){var e=d["CSS.String"],b=d["CSS.Color"],c=d["CSS.Stylesheet"],g=d["CSS.Background"],f=d["CSS.Font"],h=d["CSS.Border"],m=d["CSS.Size"],k=d.Prelude,n=d["Data.Maybe"],q=d["Soundknot.Classes"],r=d["Soundknot.Css"],p=d["Soundknot.Styles"],v=d["CSS.Render"],w=d["CSS.Selector"],l=b.rgb(91)(84)(153),n=n.fromMaybe("***ERROR***")(v.renderedSheet(v.render(k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)("html, body, body > div"))(k.bind(c.bindStyleM)(g.backgroundColor(b.white))(function(){return k.bind(c.bindStyleM)(f.color(l))(function(){return p["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif')})})))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)("select, option"))(k.bind(c.bindStyleM)(p["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif'))(function(){return k.bind(c.bindStyleM)(g.backgroundColor(b.white))(function(){return k.bind(c.bindStyleM)(f.color(l))(function(){return k.bind(c.bindStyleM)(p["@"]("font-size")("medium"))(function(){return k.bind(c.bindStyleM)(r.textAlign(r.center))(function(){return h.border(h.solid)(m.px(1))(l)})})})})})))(function(){return k.bind(c.bindStyleM)(c["?"](p.clazz(q.centerPane))(h.border(h.solid)(m.px(1))(l)))(function(){return k.bind(c.bindStyleM)(c["?"](p.clazz(q.clippingPane))(k.bind(c.bindStyleM)(h.border(h.solid)(m.px(1))(l))(function(){return g.backgroundColor(b.white)})))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)(".btn"))(h.border(h.solid)(m.px(1))(l)))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)(".button"))(h.border(h.solid)(m.px(1))(l)))(function(){return k.bind(c.bindStyleM)(c["?"](p.clazz(q.topMenu))(g.backgroundColor(b.white)))(function(){return k.bind(c.bindStyleM)(c["?"](p.clazz(q.leftPane))(g.backgroundColor(b.white)))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)("line.grid"))(p["@"]("stroke")("rgb(91,84,153)")))(function(){return k.bind(c.bindStyleM)(c["?"](p.clazz(q.titleBar))(k.bind(c.bindStyleM)(f.color(l))(function(){return p["@"]("border-bottom")("solid 1px grey")})))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)(".titleBar:hover"))(g.backgroundColor(e.fromString(b.isStringColor)("#E7F0FC"))))(function(){return k.bind(c.bindStyleM)(c["?"](p.clazz(q.nodeContentPane))(p["@"]("padding")("16px")))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)("path.connection"))(p["@"]("stroke")("#D5D5D5")))(function(){return k.bind(c.bindStyleM)(c["?"](e.fromString(w.isStringSelector)("path.timeDomain"))(k.bind(c.bindStyleM)(p["@"]("fill")("none"))(function(){return p["@"]("stroke")("#848242")})))(function(){return c["?"](e.fromString(w.isStringSelector)(".timeline"))(h.border(h.solid)(m.px(1))(b.grey))})})})})})})})})})})})})})}))));
a.snowscape=n})(d["Soundknot.Styles.Snowscape"]=d["Soundknot.Styles.Snowscape"]||{});(function(a){var e=d["CSS.Stylesheet"],b=d["CSS.String"],c=d["CSS.Background"],g=d["CSS.Color"],f=d["CSS.Font"],h=d["CSS.Border"],m=d["CSS.Size"],k=d.Prelude,n=d["Soundknot.Classes"],q=d["Soundknot.Css"],r=d["Soundknot.Styles"],p=d["CSS.Render"],v=d["CSS.Selector"],p=d["Data.Maybe"].fromMaybe("***ERROR***")(p.renderedSheet(p.render(k.bind(e.bindStyleM)(e["?"](b.fromString(v.isStringSelector)("html, body, body > div"))(k.bind(e.bindStyleM)(c.backgroundColor(g.black))(function(){return k.bind(e.bindStyleM)(f.color(g.white))(function(){return r["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif')})})))(function(){return k.bind(e.bindStyleM)(e["?"](b.fromString(v.isStringSelector)("select, option, input"))(k.bind(e.bindStyleM)(r["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif'))(function(){return k.bind(e.bindStyleM)(c.backgroundColor(g.black))(function(){return k.bind(e.bindStyleM)(f.color(g.white))(function(){return k.bind(e.bindStyleM)(r["@"]("font-size")("medium"))(function(){return k.bind(e.bindStyleM)(q.textAlign(q.center))(function(){return h.border(h.solid)(m.px(1))(g.white)})})})})})))(function(){return k.bind(e.bindStyleM)(e["?"](r.clazz(n.topMenu))(c.backgroundColor(g.black)))(function(){return k.bind(e.bindStyleM)(e["?"](r.clazz(n.leftPane))(c.backgroundColor(g.black)))(function(){return k.bind(e.bindStyleM)(e["?"](r.clazz(n.btn))(k.bind(e.bindStyleM)(c.backgroundColor(g.black))(function(){return k.bind(e.bindStyleM)(f.color(g.white))(function(){return h.border(h.solid)(m.px(1))(g.grey)})})))(function(){return k.bind(e.bindStyleM)(e["?"](r.clazz(n.titleBar))(k.bind(e.bindStyleM)(c.backgroundColor(b.fromString(g.isStringColor)("#525252")))(function(){return f.color(g.white)})))(function(){return k.bind(e.bindStyleM)(e["?"](b.fromString(v.isStringSelector)(".titleBar:hover"))(c.backgroundColor(b.fromString(g.isStringColor)("#959595"))))(function(){return k.bind(e.bindStyleM)(e["?"](r.clazz(n.centerPane))(h.border(h.solid)(m.px(1))(g.grey)))(function(){return k.bind(e.bindStyleM)(e["?"](r.clazz(n.clippingPane))(k.bind(e.bindStyleM)(h.border(h.solid)(m.px(1))(g.grey))(function(){return c.backgroundColor(g.black)})))(function(){return k.bind(e.bindStyleM)(e["?"](b.fromString(v.isStringSelector)("path.connection"))(r["@"]("stroke")("dimgrey")))(function(){return k.bind(e.bindStyleM)(e["?"](b.fromString(v.isStringSelector)("path.connection:hover"))(r["@"]("stroke")("grey")))(function(){return e["?"](b.fromString(v.isStringSelector)("path.timeDomain"))(k.bind(e.bindStyleM)(r["@"]("fill")("none"))(function(){return r["@"]("stroke")("white")}))})})})})})})})})})})}))));
a.midnight=p})(d["Soundknot.Styles.Midnight"]=d["Soundknot.Styles.Midnight"]||{});(function(a){var e=d["Soundknot.UI"],b=d["OpticUI.Core"],c=d["WebAudio.Oscillator"],g=d["OpticUI.Markup"],f=d["Data.Lens.Lens"],h=d["Soundknot.UI.Canvas"],m=d["Soundknot.UI.Projects"],k=d["Soundknot.Styles"],n=d["Soundknot.Styles.Retro"],q=d["Soundknot.Styles.Snowscape"],r=d["Soundknot.Styles.Midnight"],p=d.Prelude,v=d["Data.Array"],w=d["Data.Foldable"],l=d["Data.Maybe"],E=d["Data.Monoid"],z=d["Data.String"],y=d["Control.Monad.Eff"],
A=d["Control.Monad.Eff.Class"],t=d["Control.Monad.Eff.Console"],x=d["Control.Monad.Aff"],u=d["OpticUI.Markup.HTML"],K=d["Soundknot.Types"],C=d["Soundknot.Classes"],G=d["Soundknot.Polyfill"],H=d["Soundknot.Update"],D=d["Soundknot.Persistence"],J=d["Soundknot.Utils"],I=d["Soundknot.Historical"],F=d["Soundknot.Lens"],O=d["Soundknot.UI.Timeline.Types"],P=d["Browser.WebStorage"],ia=d["Control.Monad.Eff.Exception"],Q=d["WebAudio.Core"],aa=d["WebAudio.BiquadFilter"],ha=d["Data.Foreign.Class"],Y=function(a){return"retro"===
a?n.retro:"snowscape"===a?q.snowscape:"midnight"===a?r.midnight:n.retro},B=function(a){return function(d){return function(n){var q=n(function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.transition=!0;a.project=I.undo(d.project);return a}()),r=n(function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.transition=!0;a.project=I.redo(d.project);return a}());I.runHistorical(d.project);var B=x.runAff(t.print(ia.showError))(p.pure(y.applicativeEff))(p.bind(x.bindAff)(D.getProjectNames)(function(a){return A.liftEff(x.monadEffAff)(n(function(){var b=
{},c;for(c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);b.projectEntries=v[":"](K.NewProject.value)(p.map(p.functorArray)(function(a){var b=z.split("///")(a);b=v.head(b);if(b instanceof l.Nothing)b="***ERROR***";else if(b instanceof l.Just)b=b.value0;else throw Error("Failed pattern match at Soundknot.UI line 38, column 1 - line 39, column 1: "+[b.constructor.name]);p["=="](p.eqString)(b)(d.projectName);return new K.ExistingProject(a)})(a));b.projectListVisible=!0;return b}()))})),H=function(a){return function(b){return u.div([C["classA'"](C.btn),
u.draggableA,u.onMouseDown(function(a){return function(){G.stopPropagation(a)();var c={},e;for(e in d)d.hasOwnProperty(e)&&(c[e]=d[e]);c.appendingNode=l.Just.create(p.pure(y.applicativeEff)(b));return n(c)()}}),u.onDragStart(function(a){return function(){G.stopPropagation(a)();return G.setTransferData("text/plain")("")(a)()}})])(p["++"](g.markupSemigroup)(J.glyphicon(K.iconName(b)))(g.text(a)))}},N=function(a){return u.styleA(function(){var b=a(d.project);if(b)return"";if(!b)return"opacity: 0.3;";
throw Error("Failed pattern match at Soundknot.UI line 38, column 1 - line 39, column 1: "+[b.constructor.name]);}())};n(function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);a.displayAbout=!1;return a}());H=[H("Destination")(new K.DestinationFrame({gain:[new Q.ConstantValue(1)]})),H("Gain")(new K.GainFrame({gain:[new Q.ConstantValue(1)]})),H("Delay")(new K.DelayFrame({delayTime:[new Q.ConstantValue(0)]})),H("Buffer")(new K.AudioBufferFrame({file:l.Nothing.value})),H("Media")(new K.VideoFrame(l.Nothing.value)),
H("Panner")(new K.StereoPannerFrame({pan:[new Q.ConstantValue(0)]})),H("Convolver")(K.ConvolverFrame.value),H("Analyser")(new K.AnalyserFrame({handler:function(a){return p.pure(y.applicativeEff)(p.unit)}})),H("Splitter")(K.ChannelSplitterFrame.value),H("Merger")(K.ChannelMergerFrame.value),H("Compressor")(new K.DynamicsCompressorFrame({threshold:-24,knee:30,ratio:12,reduction:0,attack:.003,release:.25})),H("Filter")(new K.BiquadFilterFrame({type:aa.Lowpass.value,frequency:350,detune:0,q:1,gain:0})),
H("Oscillator")(new K.OscillatorFrame(c.initialOscillatorParams)),H("User")(K.MediaStreamFrame.value),H("Timeline")(new K.TimelineFrame(O.timelineInitialState))];return w.mconcat(w.foldableArray)(b.uiMonoid(g.markupMonoid))([b.withView(u.div([C["classA'"](C.groundLayer)]))(w.mconcat(w.foldableArray)(b.uiMonoid(g.markupMonoid))([b.withView(u.div([C["classA'"](C.topMenu)]))(w.mconcat(w.foldableArray)(b.uiMonoid(g.markupMonoid))([b.ui(u.div([C["classA'"](C.btn),u.onClick(function(a){return B})])(w.mconcat(w.foldableArray)(g.markupMonoid)([J.glyphicon("download-alt"),
g.text("File")]))),b.ui(u.div([u.classA("undo btn"),N(I.undoable),u.onClick(function(a){return q})])(w.mconcat(w.foldableArray)(g.markupMonoid)([J.glyphicon("circle-arrow-left"),g.text("Undo")]))),b.ui(u.div([C["classA'"](C.btn),N(I.redoable),u.onClick(function(a){return r})])(w.mconcat(w.foldableArray)(g.markupMonoid)([g.text("Redo"),J.glyphicon("circle-arrow-right")]))),b.ui(u.select([g.handle("change")(function(a){var b=u.getProp(ha.stringIsForeign)("value")(a);if(b instanceof l.Nothing)return p.pure(y.applicativeEff)(p.unit);
if(b instanceof l.Just)return function(){P.setItem(P.storageLocalStorage)(P.localStorage)("theme")(b.value0)();var a={},c;for(c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);c={};for(var e in d.config)d.config.hasOwnProperty(e)&&(c[e]=d.config[e]);c.theme=b.value0;a.config=c;n(a)();return p.unit};throw Error("Failed pattern match at Soundknot.UI line 38, column 1 - line 39, column 1: "+[b.constructor.name]);})])(w.foldMap(w.foldableArray)(g.markupMonoid)(function(a){return u.option(function(){var b=p["=="](p.eqString)(a)(d.config.theme);
if(b)return[g.attr("selected")("")];if(!b)return[];throw Error("Failed pattern match at Soundknot.UI line 38, column 1 - line 39, column 1: "+[b.constructor.name]);}())(g.text(a))})(["retro","snowscape","midnight"]))),b.ui(u.div([u.styleA("width:10px;flex-grow:1.0;")])(E.mempty(g.markupMonoid))),b.ui(J.iconButton("question-sign")(e.showSplash))])),b.withView(u.div([C["classA'"](C.bottomPane)]))(w.mconcat(w.foldableArray)(b.uiMonoid(g.markupMonoid))([b.ui(u.div([C["classA'"](C.leftPane)])(w.mconcat(w.foldableArray)(g.markupMonoid)(H))),
F.state(b.uiStrong)(f.lens(I.runHistorical)(I.overwrite)(b.uiStrong)(h.appCanvas(a)(d)(n))),b.ui(u.div([C["classA'"](C.projectName)])(g.text(function(){var a=p["=="](p.eqString)(d.projectName)("");if(a)return"(New Project)";if(!a)return d.projectName;throw Error("Failed pattern match at Soundknot.UI line 38, column 1 - line 39, column 1: "+[a.constructor.name]);}())))]))])),b.ui(u.div([u.classA("radialGrad")])(E.mempty(g.markupMonoid))),F.projectEntries(b.uiStrong)(m.projectsUI(d)(n)),b.ui(u.style([])(g.text(k.css(d.transition)(d.projectListVisible)+
Y(d.config.theme))))])}}};a.application=function(a){return b["with"](function(b){return function(c){return B(a)(b)(H.updateApplication(c))}})}})(d["Soundknot.UI"]=d["Soundknot.UI"]||{});(function(a){var e=d["Sound.AudioGraph.Core"],b=d["WebAudio.Core"],c=d["OpticUI.Run"],g=d.Prelude,f=d["Data.Maybe"],h=d["Control.Monad.Eff"],m=d["Soundknot.Types"],k=d["Soundknot.UI"],n=d["Browser.WebStorage"],q=g["void"](h.functorEff)(function(){var a=g["<$>"](h.functorEff)(f.fromMaybe("retro"))(n.getItem(n.storageLocalStorage)(n.localStorage)("theme"))(),
d=e.getAudioGraphContext(),d=b.getAudioContextSampleRate(d)(),q=c.animate(m.initialState("")(a))(k.application(d))();c.onLoad(q(function(a){var b=g.pure(h.applicativeEff),c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.driver=new f.Just(q);return b(c)}))();return g.unit});a.main=q})(d.Main=d.Main||{});d.Main.main()}).call(P,x(1)(I))},function(I,P){I.exports=function(x){x.webpackPolyfill||(x.deprecate=function(){},x.paths=[],x.children=[],x.webpackPolyfill=1);return x}},function(I,P,x){P=x(3);
I.exports=P},function(I,P,x){function H(f,h){var m=h?h.document||d:d,k=h?h.warn:null;f=g(f).a;if(c(f))return f.init();if(b(f))return m.createTextNode(f.text);if(!e(f))return k&&k("Item is not a valid virtual dom node",f),null;m=null===f.namespace?m.createElement(f.tagName):m.createElementNS(f.namespace,f.tagName);a(m,f.properties);for(var k=f.children,n=0;n<k.length;n++){var q=H(k[n],h);q&&m.appendChild(q)}return m}var d=x(4),a=x(6),e=x(9),b=x(11),c=x(12),g=x(13);I.exports=H},function(I,P,x){(function(H){H=
"undefined"!==typeof H?H:"undefined"!==typeof window?window:{};var d=x(5);if("undefined"!==typeof document)I.exports=document;else{var a=H["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=H["__GLOBAL_DOCUMENT_CACHE@4"]=d);I.exports=a}}).call(P,function(){return this}())},function(I,P){},function(I,P,x){function H(a,c,d,f){if(f)if(f=f[c],e(f))f.unhook&&f.unhook(a,c,d);else if("attributes"===c)for(var h in f)a.removeAttribute(h);else if("style"===c)for(var m in f)a.style[m]="";else a[c]="string"===typeof f?"":null}
function d(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var a=x(7),e=x(8);I.exports=function(b,c,g){for(var f in c){var h=c[f];if(void 0===h)H(b,f,h,g);else if(e(h))H(b,f,h,g),h.hook&&h.hook(b,f,g?g[f]:void 0);else if(a(h)){var m=b,k=f,n=g?g[k]:void 0;if("attributes"===k)for(k in k=void 0,h)n=h[k],void 0===n?m.removeAttribute(k):m.setAttribute(k,n);else if(n&&a(n)&&d(n)!==d(h))m[k]=h;else{a(m[k])||(m[k]=
{});var n="style"===k?"":void 0,q=void 0;for(q in h){var r=h[q];m[k][q]=void 0===r?n:r}}}else b[f]=h}}},function(I,P){I.exports=function(x){return"object"===typeof x&&null!==x}},function(I,P){I.exports=function(x){return x&&("function"===typeof x.hook&&!x.hasOwnProperty("hook")||"function"===typeof x.unhook&&!x.hasOwnProperty("unhook"))}},function(I,P,x){var H=x(10);I.exports=function(d){return d&&"VirtualNode"===d.type&&d.version===H}},function(I,P){I.exports="2"},function(I,P,x){var H=x(10);I.exports=
function(d){return d&&"VirtualText"===d.type&&d.version===H}},function(I,P){I.exports=function(x){return x&&"Widget"===x.type}},function(I,P,x){function H(b,g){var f=b.vnode;f||(f=b.vnode=b.render(g));if(!(d(f)||a(f)||e(f)))throw Error("thunk did not return a valid node");return f}var d=x(9),a=x(11),e=x(12),b=x(14);I.exports=function(a,d){var e=a,h=d;b(d)&&(h=H(d,a));b(a)&&(e=H(a,null));return{a:e,b:h}}},function(I,P){I.exports=function(x){return x&&"Thunk"===x.type}},function(I,P,x){P=x(16);I.exports=
P},function(I,P,x){function H(a,b){var c={a:a};d(a,b,c,0);return c}function d(h,l,p,z){if(h!==l){var y=p[z],x=!1;if(r(h)||r(l))e(h,l,p,z);else if(null==l)q(h)||(b(h,p,z),a(h,p,z),y=p[z]),y=f(y,new m(m.REMOVE,h,l));else if(k(l))if(k(h))if(h.tagName===l.tagName&&h.namespace===l.namespace&&h.key===l.key){var t=v(h.properties,l.properties);t&&(y=f(y,new m(m.PROPS,h,t)));var t=z,H=h.children;l=l.children;var u=g(l),K=u.keys,C=u.free;if(C.length===l.length)l={children:l,moves:null};else{var u=g(H),G=u.keys;
if(u.free.length===H.length)l={children:l,moves:null};else{for(var u=[],I=0,D=C.length,J=0,M=0;M<H.length;M++){var F=H[M];F.key?K.hasOwnProperty(F.key)?(F=K[F.key],u.push(l[F])):(J++,u.push(null)):I<D?(F=C[I++],u.push(l[F])):(J++,u.push(null))}C=I>=C.length?l.length:C[I];for(I=0;I<l.length;I++)D=l[I],D.key?G.hasOwnProperty(D.key)||u.push(D):I>=C&&u.push(D);G=u.slice();C=0;I=[];D=[];for(F=0;F<l.length;){for(var O=l[F],M=G[C];null===M&&G.length;)I.push(c(G,C,null)),M=G[C];M&&M.key===O.key?(C++,F++):
O.key?(M&&M.key?K[M.key]!==F+1?(I.push(c(G,C,M.key)),(M=G[C])&&M.key===O.key?C++:D.push({key:O.key,to:F})):D.push({key:O.key,to:F}):D.push({key:O.key,to:F}),F++):M&&M.key&&I.push(c(G,C,M.key))}for(;C<G.length;)M=G[C],I.push(c(G,C,M&&M.key));l=I.length!==J||D.length?{children:u,moves:{removes:I,inserts:D}}:{children:u,moves:null}}}K=l.children;u=H.length;J=K.length;u=u>J?u:J;for(J=0;J<u;J++)G=H[J],C=K[J],t+=1,G?d(G,C,p,t):C&&(y=f(y,new m(m.INSERT,null,C))),k(G)&&G.count&&(t+=G.count);l.moves&&(y=f(y,
new m(m.ORDER,h,l.moves)))}else y=f(y,new m(m.VNODE,h,l)),x=!0;else y=f(y,new m(m.VNODE,h,l)),x=!0;else n(l)?n(h)?h.text!==l.text&&(y=f(y,new m(m.VTEXT,h,l))):(y=f(y,new m(m.VTEXT,h,l)),x=!0):q(l)&&(q(h)||(x=!0),y=f(y,new m(m.WIDGET,h,l)));y&&(p[z]=y);x&&(b(h,p,z),a(h,p,z))}}function a(b,c,d){if(q(b))"function"===typeof b.destroy&&(c[d]=f(c[d],new m(m.REMOVE,b,null)));else if(k(b)&&(b.hasWidgets||b.hasThunks)){b=b.children;for(var g=b.length,h=0;h<g;h++){var n=b[h];d+=1;a(n,c,d);k(n)&&n.count&&(d+=
n.count)}}else r(b)&&e(b,null,c,d)}function e(a,b,c,d){a=p(a,b);a=H(a.a,a.b);var e;a:{for(e in a)if("a"!==e){e=!0;break a}e=!1}e&&(c[d]=new m(m.THUNK,null,a))}function b(a,c,d){if(k(a)){if(a.hooks){var g=c[d],h=m.PROPS,n=a.hooks,p={},q;for(q in n)p[q]=void 0;c[d]=f(g,new m(h,a,p))}if(a.descendantHooks||a.hasThunks)for(a=a.children,g=a.length,h=0;h<g;h++)n=a[h],d+=1,b(n,c,d),k(n)&&n.count&&(d+=n.count)}else r(a)&&e(a,null,c,d)}function c(a,b,c){a.splice(b,1);return{from:b,key:c}}function g(a){for(var b=
{},c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.key?b[f.key]=e:c.push(e)}return{keys:b,free:c}}function f(a,b){return a?(h(a)?a.push(b):a=[a,b],a):b}var h=x(17),m=x(18),k=x(9),n=x(11),q=x(12),r=x(14),p=x(13),v=x(19);I.exports=H},function(I,P){function x(d){return"[object Array]"===H.call(d)}var H=Object.prototype.toString;I.exports=Array.isArray||x},function(I,P,x){function H(d,a,e){this.type=Number(d);this.vNode=a;this.patch=e}P=x(10);H.NONE=0;H.VTEXT=1;H.VNODE=2;H.WIDGET=3;H.PROPS=4;H.ORDER=5;H.INSERT=
6;H.REMOVE=7;H.THUNK=8;I.exports=H;H.prototype.version=P;H.prototype.type="VirtualPatch"},function(I,P,x){function H(b,c){var g,f;for(f in b){f in c||(g=g||{},g[f]=void 0);var h=b[f],m=c[f];if(h!==m)if(a(h)&&a(m))if(d(m)!==d(h))g=g||{},g[f]=m;else if(e(m))g=g||{},g[f]=m;else{if(h=H(h,m))g=g||{},g[f]=h}else g=g||{},g[f]=m}for(var k in c)k in b||(g=g||{},g[k]=c[k]);return g}function d(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}
var a=x(7),e=x(8);I.exports=H},function(I,P,x){P=x(21);I.exports=P},function(I,P,x){function H(a,c,e){e=e||{};e.patch=e.patch&&e.patch!==H?e.patch:d;e.render=e.render||b;return e.patch(a,c,e)}function d(b,d,m){var k=[],n;for(n in d)"a"!==n&&k.push(Number(n));if(0===k.length)return b;n=c(b,d.a,k);var q=b.ownerDocument;m.document||q===a||(m.document=q);for(q=0;q<k.length;q++){var r=k[q];var p=n[r],r=d[r],v=m;if(p){var w=void 0;if(e(r))for(var l=0;l<r.length;l++)w=g(r[l],p,v),p===b&&(b=w);else w=g(r,
p,v),p===b&&(b=w)}}return b}var a=x(4),e=x(17),b=x(3),c=x(22),g=x(23);I.exports=H},function(I,P){function x(d,b,c,g,f){g=g||{};if(d){H(c,f,f)&&(g[f]=d);var h=b.children;if(h){d=d.childNodes;for(var m=0;m<b.children.length;m++){f+=1;var k=h[m]||a,n=f+(k.count||0);H(c,f,n)&&x(d[m],k,c,g,f);f=n}}}return g}function H(a,b,c){if(0===a.length)return!1;for(var d=0,f=a.length-1,h,m;d<=f;){h=(f+d)/2>>0;m=a[h];if(d===f)return m>=b&&m<=c;if(m<b)d=h+1;else if(m>c)f=h-1;else return!0}return!1}function d(a,b){return a>
b?1:-1}var a={};I.exports=function(a,b,c,g){return c&&0!==c.length?(c.sort(d),x(a,b,c,g,0)):{}}},function(I,P,x){function H(b,d){"function"===typeof d.destroy&&a(d)&&d.destroy(b)}var d=x(6),a=x(12),e=x(18),b=x(24);I.exports=function(a,g,f){var h=a.vNode,m=a.patch;switch(a.type){case e.REMOVE:return(m=g.parentNode)&&m.removeChild(g),H(g,h),null;case e.INSERT:return m=f.render(m,f),g&&g.appendChild(m),g;case e.VTEXT:return 3===g.nodeType?(g.replaceData(0,g.length,m.text),m=g):(h=g.parentNode,m=f.render(m,
f),h&&m!==g&&h.replaceChild(m,g)),m;case e.WIDGET:return m=(a=b(h,m))?m.update(h,g)||g:f.render(m,f),(f=g.parentNode)&&m!==g&&f.replaceChild(m,g),a||H(g,h),m;case e.VNODE:return h=g.parentNode,m=f.render(m,f),h&&m!==g&&h.replaceChild(m,g),m;case e.ORDER:h=g.childNodes;f={};for(var k,n=0;n<m.removes.length;n++)k=m.removes[n],a=h[k.from],k.key&&(f[k.key]=a),g.removeChild(a);for(var n=h.length,q=0;q<m.inserts.length;q++)k=m.inserts[q],a=f[k.key],g.insertBefore(a,k.to>=n++?null:h[k.to]);return g;case e.PROPS:return d(g,
m,h.properties),g;case e.THUNK:return m=f.patch(g,m,f),g&&m&&g!==m&&g.parentNode&&g.parentNode.replaceChild(m,g),m;default:return g}}},function(I,P,x){var H=x(12);I.exports=function(d,a){return H(d)&&H(a)?"name"in d&&"name"in a?d.id===a.id:d.init===a.init:!1}},function(I,P,x){function H(d){this.text=String(d)}P=x(10);I.exports=H;H.prototype.version=P;H.prototype.type="VirtualText"},function(I,P,x){function H(f,h,m,k,n){this.tagName=f;this.properties=h||c;this.children=m||g;this.key=null!=k?String(k):
void 0;this.namespace="string"===typeof n?n:null;f=m&&m.length||0;k=0;var q=n=!1,r=!1,p,v;for(v in h)if(h.hasOwnProperty(v)){var w=h[v];b(w)&&w.unhook&&(p||(p={}),p[v]=w)}for(h=0;h<f;h++)v=m[h],d(v)?(k+=v.count||0,!n&&v.hasWidgets&&(n=!0),!q&&v.hasThunks&&(q=!0),r||!v.hooks&&!v.descendantHooks||(r=!0)):!n&&a(v)?"function"===typeof v.destroy&&(n=!0):!q&&e(v)&&(q=!0);this.count=f+k;this.hasWidgets=n;this.hasThunks=q;this.hooks=p;this.descendantHooks=r}P=x(10);var d=x(9),a=x(12),e=x(14),b=x(8);I.exports=
H;var c={},g=[];H.prototype.version=P;H.prototype.type="VirtualNode"},function(I,P){function x(H){if(!(this instanceof x))return new x(H);this.value=H}I.exports=x;x.prototype.hook=function(x,d){x[d]!==this.value&&(x[d]=this.value)}}])});
