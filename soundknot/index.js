(function(M,O){if("object"===typeof exports&&"object"===typeof module)module.exports=O();else if("function"===typeof define&&define.amd)define([],O);else{var z=O(),F;for(F in z)("object"===typeof exports?exports:M)[F]=z[F]}})(this,function(){return function(M){function O(F){if(z[F])return z[F].exports;var c=z[F]={exports:{},id:F,loaded:!1};M[F].call(c.exports,c,c.exports,O);c.loaded=!0;return c.exports}var z={};O.m=M;O.c=z;O.p="";return O(0)}([function(M,O,z){(function(F){var c={};(function(a){a.localStorage=
window.localStorage;a.unsafeLength=function(a){return function(){return a.length}};a.unsafeKey=function(a,b,e){return function(){return a(b.key(e))}};a.unsafeGetItem=function(a,b,e){return function(){return a(b.getItem(e))}};a.unsafeSetItem=function(a,b,e){return function(){a.setItem(b,e);return{}}};a.unsafeRemoveItem=function(a,b){return function(){a.removeItem(b);return{}}};a.unsafeClear=function(a){return function(){a.clear();return{}}};a.null2MaybeImpl=function(a,b,e){return null==e?b:a(e)}})(c["Browser.WebStorage"]=
c["Browser.WebStorage"]||{});(function(a){a.arrayMap=function(a){return function(b){for(var e=b.length,c=Array(e),g=0;g<e;g++)c[g]=a(b[g]);return c}};a.arrayBind=function(a){return function(b){for(var e=[],c=0,g=a.length;c<g;c++)Array.prototype.push.apply(e,b(a[c]));return e}};a.concatString=function(a){return function(b){return a+b}};a.concatArray=function(a){return function(b){return a.concat(b)}};a.numAdd=function(a){return function(b){return a+b}};a.numMul=function(a){return function(b){return a*
b}};a.refEq=function(a){return function(b){return a===b}};a.eqArrayImpl=function(a){return function(b){return function(e){if(b.length!==e.length)return!1;for(var c=0;c<b.length;c++)if(!a(b[c])(e[c]))return!1;return!0}}};a.unsafeCompareImpl=function(a){return function(b){return function(e){return function(c){return function(g){return c<g?a:c>g?e:b}}}}};a.topInt=2147483647;a.bottomInt=-2147483648;a.boolOr=function(a){return function(b){return a||b}};a.boolAnd=function(a){return function(b){return a&&
b}};a.boolNot=function(a){return!a};a.showIntImpl=function(a){return a.toString()};a.showNumberImpl=function(a){return a===(a|0)?a+".0":a.toString()};a.showStringImpl=function(a){return JSON.stringify(a)};a.showArrayImpl=function(a){return function(b){for(var e=[],c=0,g=b.length;c<g;c++)e[c]=a(b[c]);return"["+e.join(",")+"]"}}})(c.Prelude=c.Prelude||{});(function(a){var d=c.Prelude,b=function(){function a(){}a.value=new a;return a}(),e=function(){function a(){}a.value=new a;return a}(),f=function(){function a(){}
a.value=new a;return a}(),g=function(a){this.compose=a},k=function(a,b){this["__superclass_Prelude.Semigroupoid_0"]=a;this.id=b},l=function(a){this.map=a},h=function(a,b){this["__superclass_Prelude.Functor_0"]=a;this.apply=b},q=function(a,b){this["__superclass_Prelude.Apply_0"]=a;this.pure=b},r=function(a,b){this["__superclass_Prelude.Apply_0"]=a;this.bind=b},m=function(a,b){this["__superclass_Prelude.Applicative_0"]=a;this["__superclass_Prelude.Bind_1"]=b},p=function(a){this.append=a},v=function(a,
b,d,e){this.add=a;this.mul=b;this.one=d;this.zero=e},t=function(a){this.eq=a},n=function(a,b){this["__superclass_Prelude.Eq_0"]=a;this.compare=b},C=function(a,b){this.bottom=a;this.top=b},B=function(a,b,d,e){this["__superclass_Prelude.Bounded_0"]=a;this.conj=b;this.disj=d;this.not=e},A=function(a){this.show=a},D=d.unsafeCompareImpl(b.value)(f.value)(e.value),u={},H=new A(d.showStringImpl),w=new A(d.showNumberImpl),P=new A(d.showIntImpl),x=new v(d.numAdd,d.numMul,1,0),L=new g(function(a){return function(b){return function(d){return a(b(d))}}}),
G=new p(d.concatString),y=new p(d.concatArray),I=function(a){return a.pure},Q=new l(d.arrayMap),T=function(a){return function(b){return function(d){return a(d)(b)}}},J=new t(d.refEq),N=new n(function(){return J},D),fa=new t(d.refEq),R=new n(function(){return fa},D),Y=new t(d.refEq),ea=new n(function(){return Y},D),U=new t(d.refEq),E=new n(function(){return U},D),ca=new t(d.refEq),z=new n(function(){return ca},D),Z=function(a){return function(b){return a}},da=new l(L.compose),V=new k(function(){return L},
function(a){return a}),ka=new C(d.bottomInt,d.topInt),ia=new C(!1,!0),S=new B(function(){return ia},d.boolAnd,d.boolOr,d.boolNot),ga=function(a){return a.bind},W=function(a){return a.apply},K=function(a){return function(b){return function(d){return ga(a["__superclass_Prelude.Bind_1"]())(b)(function(b){return ga(a["__superclass_Prelude.Bind_1"]())(d)(function(d){return I(a["__superclass_Prelude.Applicative_0"]())(b(d))})})}}},X=new m(function(){return O},function(){return F}),F=new r(function(){return M},
d.arrayBind),M=new h(function(){return Q},K(X)),O=new q(function(){return M},function(a){return[a]});a.LT=b;a.GT=e;a.EQ=f;a.Show=A;a.BooleanAlgebra=B;a.Bounded=C;a.Ord=n;a.Eq=t;a.Semiring=v;a.Semigroup=p;a.Monad=m;a.Bind=r;a.Applicative=q;a.Apply=h;a.Functor=l;a.Category=k;a.Semigroupoid=g;a.show=function(a){return a.show};a.not=function(a){return a.not};a.disj=function(a){return a.disj};a.conj=function(a){return a.conj};a.bottom=function(a){return a.bottom};a.top=function(a){return a.top};a.unsafeCompare=
D;a["<"]=function(a){return function(d){return function(e){return(0,a.compare)(d)(e)instanceof b?!0:!1}}};a.compare=function(a){return a.compare};a["/="]=function(a){return function(b){return function(d){return(0,S.not)((0,a.eq)(b)(d))}}};a["=="]=function(a){return a.eq};a.eq=function(a){return a.eq};a["+"]=function(a){return a.add};a.one=function(a){return a.one};a.mul=function(a){return a.mul};a.zero=function(a){return a.zero};a.add=function(a){return a.add};a["++"]=function(a){return a.append};
a["<>"]=function(a){return a.append};a.append=function(a){return a.append};a.ap=K;a.liftM1=function(a){return function(b){return function(d){return ga(a["__superclass_Prelude.Bind_1"]())(d)(function(d){return I(a["__superclass_Prelude.Applicative_0"]())(b(d))})}}};a["return"]=I;a[">>="]=function(a){return a.bind};a.bind=ga;a.liftA1=function(a){return function(b){return function(d){return W(a["__superclass_Prelude.Apply_0"]())((0,a.pure)(b))(d)}}};a.pure=function(a){return a.pure};a["<*>"]=W;a.apply=
function(a){return a.apply};a["void"]=function(a){return function(b){return(0,a.map)(Z(u))(b)}};a["<#>"]=function(a){return function(b){return function(d){return(0,a.map)(d)(b)}}};a["<$>"]=function(a){return a.map};a.map=function(a){return a.map};a.id=function(a){return a.id};a[">>>"]=function(a){return T(a.compose)};a.compose=function(a){return a.compose};a.otherwise=!0;a["const"]=Z;a.flip=T;a.$=function(a){return function(b){return a(b)}};a.unit=u;a.semigroupoidFn=L;a.categoryFn=V;a.functorFn=da;
a.functorArray=Q;a.applyArray=M;a.applicativeArray=O;a.bindArray=F;a.monadArray=X;a.semigroupString=G;a.semigroupArray=y;a.semiringNumber=x;a.eqBoolean=ca;a.eqInt=Y;a.eqNumber=fa;a.eqChar=U;a.eqString=J;a.eqArray=function(a){return new t(d.eqArrayImpl(a.eq))};a.ordBoolean=z;a.ordInt=ea;a.ordNumber=R;a.ordString=N;a.ordChar=E;a.boundedBoolean=ia;a.boundedInt=ka;a.booleanAlgebraBoolean=S;a.showInt=P;a.showNumber=w;a.showString=H;a.showArray=function(a){return new A(d.showArrayImpl(a.show))}})(c.Prelude=
c.Prelude||{});(function(a){a.returnE=function(a){return function(){return a}};a.bindE=function(a){return function(b){return function(){return b(a())()}}};a.runPure=function(a){return a()}})(c["Control.Monad.Eff"]=c["Control.Monad.Eff"]||{});(function(a){var d=c["Control.Monad.Eff"],b=c.Prelude,e=new b.Monad(function(){return k},function(){return f}),f=new b.Bind(function(){return g},d.bindE),g=new b.Apply(function(){return l},b.ap(e)),k=new b.Applicative(function(){return g},d.returnE),l=new b.Functor(b.liftA1(k));
a.functorEff=l;a.applyEff=g;a.applicativeEff=k;a.bindEff=f;a.monadEff=e;a.runPure=d.runPure})(c["Control.Monad.Eff"]=c["Control.Monad.Eff"]||{});(function(a){var d=c.Prelude,b=function(a,b){this["__superclass_Prelude.Functor_0"]=a;this.alt=b},e=new b(function(){return d.functorArray},d.append(d.semigroupArray));a.Alt=b;a["<|>"]=function(a){return a.alt};a.alt=function(a){return a.alt};a.altArray=e})(c["Control.Alt"]=c["Control.Alt"]||{});(function(a){var d=c["Control.Alt"],b=function(a,b){this["__superclass_Control.Alt.Alt_0"]=
a;this.empty=b},e=new b(function(){return d.altArray},[]);a.Plus=b;a.empty=function(a){return a.empty};a.plusArray=e})(c["Control.Plus"]=c["Control.Plus"]||{});(function(a){var d=c.Prelude,b=c["Control.Plus"],e=function(a,b){this["__superclass_Control.Plus.Plus_1"]=a;this["__superclass_Prelude.Applicative_0"]=b},f=new e(function(){return b.plusArray},function(){return d.applicativeArray});a.Alternative=e;a.alternativeArray=f})(c["Control.Alternative"]=c["Control.Alternative"]||{});(function(a){var d=
c.Prelude,b=function(a,b){this["__superclass_Prelude.Semigroup_0"]=a;this.mempty=b},e=new b(function(){return d.semigroupString},""),f=new b(function(){return d.semigroupArray},[]);a.Monoid=b;a.mempty=function(a){return a.mempty};a.monoidString=e;a.monoidArray=f})(c["Data.Monoid"]=c["Data.Monoid"]||{});(function(a){var d=c.Prelude,b=c["Control.Alt"],e=c["Data.Monoid"],f=function(){function a(){}a.value=new a;return a}(),g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),k=function(a){return new d.Semigroup(function(b){return function(e){if(b instanceof f)return e;if(e instanceof f)return b;if(b instanceof g&&e instanceof g)return new g(d["<>"](a)(b.value0)(e.value0));throw Error("Failed pattern match at Data.Maybe line 231, column 1 - line 236, column 1: "+[b.constructor.name,e.constructor.name]);}})},l=function(a){return function(b){return function(d){if(d instanceof f)return a;if(d instanceof g)return b(d.value0);throw Error("Failed pattern match at Data.Maybe line 26, column 1 - line 27, column 1: "+
[a.constructor.name,b.constructor.name,d.constructor.name]);}}},h=l(!1)(d["const"](!0)),q=new d.Functor(function(a){return function(b){return b instanceof g?new g(a(b.value0)):f.value}}),r=new d.Apply(function(){return q},function(a){return function(b){if(a instanceof g)return d["<$>"](q)(a.value0)(b);if(a instanceof f)return f.value;throw Error("Failed pattern match at Data.Maybe line 121, column 1 - line 145, column 1: "+[a.constructor.name,b.constructor.name]);}}),m=new d.Bind(function(){return r},
function(a){return function(b){if(a instanceof g)return b(a.value0);if(a instanceof f)return f.value;throw Error("Failed pattern match at Data.Maybe line 180, column 1 - line 199, column 1: "+[a.constructor.name,b.constructor.name]);}}),p=new d.Applicative(function(){return r},g.create),b=new b.Alt(function(){return q},function(a){return function(b){return a instanceof f?b:a}});a.Nothing=f;a.Just=g;a.isJust=h;a.fromMaybe=function(a){return l(a)(d.id(d.categoryFn))};a.maybe=l;a.functorMaybe=q;a.applyMaybe=
r;a.applicativeMaybe=p;a.altMaybe=b;a.bindMaybe=m;a.semigroupMaybe=k;a.monoidMaybe=function(a){return new e.Monoid(function(){return k(a)},f.value)};a.eqMaybe=function(a){return new d.Eq(function(b){return function(e){return b instanceof f&&e instanceof f?!0:b instanceof g&&e instanceof g?d["=="](a)(b.value0)(e.value0):!1}})}})(c["Data.Maybe"]=c["Data.Maybe"]||{});(function(a){a.runFn2=function(a){return function(b){return function(e){return a(b,e)}}};a.runFn4=function(a){return function(b){return function(e){return function(c){return function(g){return a(b,
e,c,g)}}}}}})(c["Data.Function"]=c["Data.Function"]||{});(function(a){var d=c["Data.Function"];a.on=function(a){return function(d){return function(c){return function(g){return a(d(c))(d(g))}}}};a.runFn4=d.runFn4;a.runFn2=d.runFn2})(c["Data.Function"]=c["Data.Function"]||{});(function(a){var d=c["Browser.WebStorage"],b=c["Data.Maybe"],e=function(a,b,d,e,c,f){this.clear=a;this.getItem=b;this.key=d;this.length=e;this.removeItem=c;this.setItem=f},f=function(a){return d.null2MaybeImpl(b.Just.create,b.Nothing.value,
a)},g=new e(function(a){return d.unsafeClear(d.localStorage)},function(a){return function(a){return d.unsafeGetItem(f,d.localStorage,a)}},function(a){return function(a){return d.unsafeKey(f,d.localStorage,a)}},function(a){return d.unsafeLength(d.localStorage)},function(a){return function(a){return d.unsafeRemoveItem(d.localStorage,a)}},function(a){return function(a){return function(b){return d.unsafeSetItem(d.localStorage,a,b)}}});a.Storage=e;a.setItem=function(a){return a.setItem};a.removeItem=function(a){return a.removeItem};
a.length=function(a){return a.length};a.key=function(a){return a.key};a.getItem=function(a){return a.getItem};a.clear=function(a){return a.clear};a.storageLocalStorage=g;a.localStorage=d.localStorage})(c["Browser.WebStorage"]=c["Browser.WebStorage"]||{});(function(a){a.foldrArray=function(a){return function(b){return function(e){for(var c=b,g=e.length-1;0<=g;g--)c=a(e[g])(c);return c}}};a.foldlArray=function(a){return function(b){return function(e){for(var c=b,g=e.length,k=0;k<g;k++)c=a(c)(e[k]);
return c}}}})(c["Data.Foldable"]=c["Data.Foldable"]||{});(function(a){var d=c.Prelude;a["*>"]=function(a){return function(e){return function(c){return d["<*>"](a)(d["<$>"](a["__superclass_Prelude.Functor_0"]())(d["const"](d.id(d.categoryFn)))(e))(c)}}};a["<*"]=function(a){return function(e){return function(c){return d["<*>"](a)(d["<$>"](a["__superclass_Prelude.Functor_0"]())(d["const"])(e))(c)}}}})(c["Control.Apply"]=c["Control.Apply"]||{});(function(a){var d=c["Data.Maybe"],b=c["Data.Monoid"],e=
new c.Prelude.Semigroup(function(a){return function(b){return a instanceof d.Just?a:b}}),b=new b.Monoid(function(){return e},d.Nothing.value);a.runFirst=function(a){return a};a.semigroupFirst=e;a.monoidFirst=b})(c["Data.Maybe.First"]=c["Data.Maybe.First"]||{});(function(a){var d=c.Prelude,b=c["Data.Monoid"],e=function(a){return new d.Semigroup(function(b){return function(e){return d.disj(a)(b)(e)}})};a.Disj=function(a){return a};a.runDisj=function(a){return a};a.semigroupDisj=e;a.monoidDisj=function(a){return new b.Monoid(function(){return e(a)},
d.bottom(a["__superclass_Prelude.Bounded_0"]()))}})(c["Data.Monoid.Disj"]=c["Data.Monoid.Disj"]||{});(function(a){var d=c["Data.Foldable"],b=c.Prelude,e=c["Control.Apply"],f=c["Data.Monoid"],g=c["Data.Monoid.Disj"],k=function(a,b,d){this.foldMap=a;this.foldl=b;this.foldr=d},l=function(a){return function(d){return function(c){return(0,d.foldr)(function(b){return e["*>"](a["__superclass_Prelude.Apply_0"]())(c(b))})(b.pure(a)(b.unit))}}},h=function(a){return function(d){return function(e){return function(c){return(0,a.foldr)(function(a){return function(c){return b["<>"](d["__superclass_Prelude.Semigroup_0"]())(e(a))(c)}})(f.mempty(d))(c)}}}},
q=new k(function(a){return h(q)(a)},d.foldlArray,d.foldrArray),r=function(a){return function(b){return function(d){return function(e){return g.runDisj((0,a.foldMap)(g.monoidDisj(b))(function(a){return g.Disj(d(a))})(e))}}}},m=function(a){return function(d){return function(e){return r(a)(b.booleanAlgebraBoolean)(b["=="](d)(e))}}};a.Foldable=k;a.notElem=function(a){return function(b){return function(d){return function(e){return!m(a)(b)(d)(e)}}}};a.elem=m;a.any=r;a.intercalate=function(a){return function(d){return function(e){return function(c){return(0,a.foldl)(function(a){return function(c){return a.init?
{init:!1,acc:c}:{init:!1,acc:b["<>"](d["__superclass_Prelude.Semigroup_0"]())(a.acc)(b["<>"](d["__superclass_Prelude.Semigroup_0"]())(e)(c))}}})({init:!0,acc:f.mempty(d)})(c).acc}}}};a.mconcat=function(a){return function(d){return(0,a.foldl)(b["<>"](d["__superclass_Prelude.Semigroup_0"]()))(f.mempty(d))}};a.for_=function(a){return function(d){return b.flip(l(a)(d))}};a.traverse_=l;a.foldMapDefaultR=h;a.foldMap=function(a){return a.foldMap};a.foldl=function(a){return a.foldl};a.foldr=function(a){return a.foldr};
a.foldableArray=q})(c["Data.Foldable"]=c["Data.Foldable"]||{});(function(a){a.traverseArrayImpl=function(){function a(b){this.fn=b}function b(a){return function(b){return new g(a,b)}}function e(a){for(var b=[];a!==c;)b.push(a.head),a=a.tail;return b}var c={},g=function(a,b){this.head=a;this.tail=b};return function(g){return function(l){return function(h){return function(q){var r=function(e,c,f){if(0===c)return e;var h=f[c-1];return new a(function(){var a=r,d;d=g(l(b)(q(h)))(e);return a(d,c-1,f)})};
return function(b){for(b=r(h(c),b.length,b);b instanceof a;)b=b.fn();return l(e)(b)}}}}}}()})(c["Data.Traversable"]=c["Data.Traversable"]||{});(function(a){var d=c["Data.Traversable"],b=c.Prelude,e=c["Data.Foldable"],f=function(a,b,d,e){this["__superclass_Data.Foldable.Foldable_1"]=a;this["__superclass_Prelude.Functor_0"]=b;this.sequence=d;this.traverse=e},g=function(a){return function(d){return function(e){return(0,a.traverse)(d)(b.id(b.categoryFn))(e)}}},k=new f(function(){return e.foldableArray},
function(){return b.functorArray},function(a){return g(k)(a)},function(a){return d.traverseArrayImpl(b.apply(a["__superclass_Prelude.Apply_0"]()))(b.map(a["__superclass_Prelude.Apply_0"]()["__superclass_Prelude.Functor_0"]()))(b.pure(a))});a.Traversable=f;a["for"]=function(a){return function(b){return function(d){return function(e){return(0,b.traverse)(a)(e)(d)}}}};a.sequenceDefault=g;a.sequence=function(a){return a.sequence};a.traverse=function(a){return a.traverse};a.traversableArray=k})(c["Data.Traversable"]=
c["Data.Traversable"]||{});(function(a){var d=c.Prelude,b=c["Control.Alt"],e=c["Data.Foldable"],f=function(){function a(b,d){this.value0=b;this.value1=d}a.create=function(b){return function(d){return new a(b,d)}};return a}(),g=f.create;a.NonEmpty=f;a.oneOf=function(a){return function(e){return b["<|>"](a["__superclass_Control.Plus.Plus_1"]()["__superclass_Control.Alt.Alt_0"]())(d.pure(a["__superclass_Prelude.Applicative_0"]())(e.value0))(e.value1)}};a.foldl1=function(a){return function(b){return function(d){return e.foldl(a)(b)(d.value0)(d.value1)}}};
a[":|"]=g;a.functorNonEmpty=function(a){return new d.Functor(function(b){return function(e){return new f(b(e.value0),d.map(a)(b)(e.value1))}})};a.foldableNonEmpty=function(a){return new e.Foldable(function(b){return function(c){return function(f){return d["<>"](b["__superclass_Prelude.Semigroup_0"]())(c(f.value0))(e.foldMap(a)(b)(c)(f.value1))}}},function(b){return function(d){return function(c){return e.foldl(a)(b)(b(d)(c.value0))(c.value1)}}},function(b){return function(d){return function(c){return b(c.value0)(e.foldr(a)(b)(d)(c.value1))}}})}})(c["Data.NonEmpty"]=
c["Data.NonEmpty"]||{});(function(a){var d=c.Prelude,b=function(a){this.dimap=a},e=new b(function(a){return function(b){return function(e){return d[">>>"](d.semigroupoidFn)(a)(d[">>>"](d.semigroupoidFn)(e)(b))}}});a.Profunctor=b;a.dimap=function(a){return a.dimap};a.profunctorFn=e})(c["Data.Profunctor"]=c["Data.Profunctor"]||{});(function(a){var d=c.Prelude,b=c["Data.Foldable"],e=c["Data.Maybe"],f=c["Data.Maybe.First"],g=function(){function a(b,d){this.value0=b;this.value1=d}a.create=function(b){return function(d){return new a(b,
d)}};return a}(),k=new d.Functor(function(a){return function(b){return new g(b.value0,a(b.value1))}});a.Tuple=g;a.lookup=function(a){return function(c){return function(g){return function(k){return f.runFirst(b.foldMap(a)(f.monoidFirst)(function(a){var b=d["=="](c)(g)(a.value0);if(b)return new e.Just(a.value1);if(!b)return e.Nothing.value;throw Error("Failed pattern match at Data.Tuple line 173, column 1 - line 174, column 1: "+[b.constructor.name]);})(k))}}}};a.uncurry=function(a){return function(b){return a(b.value0)(b.value1)}};
a.snd=function(a){return a.value1};a.fst=function(a){return a.value0};a.functorTuple=k})(c["Data.Tuple"]=c["Data.Tuple"]||{});(function(a){var d=c["Data.Profunctor"],b=c["Data.Tuple"],e=function(a,b,d){this["__superclass_Data.Profunctor.Profunctor_0"]=a;this.first=b;this.second=d},f=new e(function(){return d.profunctorFn},function(a){return function(d){return new b.Tuple(a(d.value0),d.value1)}},c.Prelude["<$>"](b.functorTuple));a.Strong=e;a.second=function(a){return a.second};a.first=function(a){return a.first};
a.strongFn=f})(c["Data.Profunctor.Strong"]=c["Data.Profunctor.Strong"]||{});(function(a){var d=c.Prelude,b=function(a){this.fromString=a},d=new b(d.id(d.categoryFn));a.IsString=b;a.fromString=function(a){return a.fromString};a.isStringString=d})(c["CSS.String"]=c["CSS.String"]||{});(function(a){var d=c.Prelude,b=c["Data.Foldable"],e=c["Data.Maybe"],f=c["Data.Profunctor.Strong"],g=c["Data.Tuple"],k=c["CSS.String"],l=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),
h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(a){return a},r=function(a){return a},m=function(a){this.value=a},p=new d.Semigroup(function(a){return function(b){if(a instanceof h&&b instanceof h)return h.create(a.value0+b.value0);if(a instanceof h&&b instanceof l)return l.create(d["<$>"](d.functorArray)(f.second(f.strongFn)(d["<>"](d.semigroupString)(a.value0)))(b.value0));if(a instanceof l&&b instanceof h)return l.create(d["<$>"](d.functorArray)(f.second(f.strongFn)(d["<>"](d.semigroupString)(b.value0)))(a.value0));
if(a instanceof l&&b instanceof l)return l.create(d["<>"](d.semigroupArray)(a.value0)(b.value0));throw Error("Failed pattern match at CSS.Property line 20, column 1 - line 26, column 1: "+[a.constructor.name,b.constructor.name]);}}),v=new d.Semigroup(function(a){return function(b){return q(d["<>"](p)(a)(b))}}),t=new k.IsString(h.create),n=new k.IsString(function(a){return q(k.fromString(t)(a))}),C=new m(function(a){return k.fromString(n)(d.show(d.showNumber)(a))}),B=new m(k.fromString(n)),A=new k.IsString(function(a){return r(k.fromString(t)(a))});
a.Value=q;a.Key=r;a.Prefixed=l;a.Plain=h;a.Val=m;a.value=function(a){return a.value};a.cast=function(a){return a};a.plain=function(a){if(a instanceof l)return e.fromMaybe("")(g.lookup(b.foldableArray)(d.eqString)("")(a.value0));if(a instanceof h)return a.value0;throw Error("Failed pattern match at CSS.Property line 29, column 1 - line 30, column 1: "+[a.constructor.name]);};a.isStringPrefixed=t;a.semigroupPrefixed=p;a.isStringKey=A;a.isStringValue=n;a.semigroupValue=v;a.valString=B;a.valTuple=function(a){return function(b){return new m(function(e){return d["<>"](v)((0,a.value)(e.value0))(d["<>"](v)(k.fromString(n)(" "))((0,b.value)(e.value1)))})}};
a.valNumber=C})(c["CSS.Property"]=c["CSS.Property"]||{});(function(a){var d=c.Prelude,b=c["Data.Foldable"],e=c["CSS.Property"],f=c["CSS.String"],g=c["Data.Monoid"],k=function(){function a(b,d,e,c){this.value0=b;this.value1=d;this.value2=e;this.value3=c}a.create=function(b){return function(d){return function(e){return function(c){return new a(b,d,e,c)}}}};return a}(),l=function(){function a(b,d,e,c){this.value0=b;this.value1=d;this.value2=e;this.value3=c}a.create=function(b){return function(d){return function(e){return function(c){return new a(b,
d,e,c)}}}};return a}(),h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=new e.Val(function(a){if(a instanceof k&&255===a.value3)return e.Value(f.fromString(e.isStringPrefixed)("rgb("+(b.intercalate(b.foldableArray)(g.monoidString)(", ")([d.show(d.showInt)(a.value0),d.show(d.showInt)(a.value1),d.show(d.showInt)(a.value2)])+")")));if(a instanceof k)return e.Value(f.fromString(e.isStringPrefixed)("rgba("+(b.intercalate(b.foldableArray)(g.monoidString)(", ")([d.show(d.showInt)(a.value0),
d.show(d.showInt)(a.value1),d.show(d.showInt)(a.value2),d.show(d.showInt)(a.value3)])+")")));if(a instanceof l&&1===a.value3)return e.Value(f.fromString(e.isStringPrefixed)("hsl("+(b.intercalate(b.foldableArray)(g.monoidString)(", ")([d.show(d.showNumber)(a.value0),d.show(d.showNumber)(a.value1),d.show(d.showNumber)(a.value2)])+")")));if(a instanceof l)return e.Value(f.fromString(e.isStringPrefixed)("hsla("+(b.intercalate(b.foldableArray)(g.monoidString)(", ")([d.show(d.showNumber)(a.value0),d.show(d.showNumber)(a.value1),
d.show(d.showNumber)(a.value2),d.show(d.showNumber)(a.value3)])+")")));if(a instanceof h)return a.value0;throw Error("Failed pattern match at CSS.Color line 17, column 1 - line 24, column 1: "+[a.constructor.name]);}),r=k.create,m=function(a){return function(b){return function(d){return new k(a,b,d,255)}}},p=m(255)(255)(255),v=new f.IsString(function(a){return h.create(f.fromString(e.isStringValue)(a))}),t=m(128)(128)(128),n=m(0)(0)(0);a.Rgba=k;a.Hsla=l;a.Other=h;a.white=p;a.grey=t;a.black=n;a.rgb=
m;a.rgba=r;a.isStringColor=v;a.valColor=q})(c["CSS.Color"]=c["CSS.Color"]||{});(function(a){var d=c.Prelude,b=c["Data.Tuple"];a.MonadWriter=function(a,b,d,c){this["__superclass_Prelude.Monad_0"]=a;this.listen=b;this.pass=d;this.writer=c};a.tell=function(a){return function(a){return function(a){return function(e){return(0,a.writer)(new b.Tuple(d.unit,e))}}}};a.pass=function(a){return a.pass};a.listen=function(a){return a.listen};a.writer=function(a){return a.writer}})(c["Control.Monad.Writer.Class"]=
c["Control.Monad.Writer.Class"]||{});(function(a){var d=c.Prelude,b=c["Control.Alt"],e=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=new d.Functor(function(a){return function(b){if(b instanceof e)return new e(b.value0);if(b instanceof f)return new f(a(b.value0));throw Error("Failed pattern match at Data.Either line 52, column 1 - line 56, column 1: "+[a.constructor.name,
b.constructor.name]);}}),k=function(a){return function(b){return function(d){if(d instanceof e)return a(d.value0);if(d instanceof f)return b(d.value0);throw Error("Failed pattern match at Data.Either line 28, column 1 - line 29, column 1: "+[a.constructor.name,b.constructor.name,d.constructor.name]);}}},l=new d.Apply(function(){return g},function(a){return function(b){if(a instanceof e)return new e(a.value0);if(a instanceof f)return d["<$>"](g)(a.value0)(b);throw Error("Failed pattern match at Data.Either line 92, column 1 - line 116, column 1: "+
[a.constructor.name,b.constructor.name]);}}),h=new d.Bind(function(){return l},k(function(a){return function(b){return new e(a)}})(function(a){return function(b){return b(a)}})),q=new d.Applicative(function(){return l},f.create),b=new b.Alt(function(){return g},function(a){return function(b){return a instanceof e?b:a}});a.Left=e;a.Right=f;a.either=k;a.functorEither=g;a.applyEither=l;a.applicativeEither=q;a.altEither=b;a.bindEither=h})(c["Data.Either"]=c["Data.Either"]||{});(function(a){a.MonadEff=
function(a,b){this["__superclass_Prelude.Monad_0"]=a;this.liftEff=b};a.liftEff=function(a){return a.liftEff}})(c["Control.Monad.Eff.Class"]=c["Control.Monad.Eff.Class"]||{});(function(a){a.MonadError=function(a,b,e){this["__superclass_Prelude.Monad_0"]=a;this.catchError=b;this.throwError=e};a.catchError=function(a){return a.catchError};a.throwError=function(a){return a.throwError}})(c["Control.Monad.Error.Class"]=c["Control.Monad.Error.Class"]||{});(function(a){a.newSTRef=function(a){return function(){return{value:a}}};
a.readSTRef=function(a){return function(){return a.value}};a.writeSTRef=function(a){return function(b){return function(){return a.value=b}}}})(c["Control.Monad.ST"]=c["Control.Monad.ST"]||{});(function(a){var d=c["Control.Monad.ST"];a.writeSTRef=d.writeSTRef;a.readSTRef=d.readSTRef;a.newSTRef=d.newSTRef})(c["Control.Monad.ST"]=c["Control.Monad.ST"]||{});(function(a){var d=c.Prelude,b=function(a){return a},e=new d.Functor(function(a){return function(b){return a(b)}}),f=new d.Apply(function(){return e},
function(a){return function(b){return a(b)}}),g=new d.Bind(function(){return f},function(a){return function(b){return b(a)}}),k=new d.Applicative(function(){return f},b),d=new d.Monad(function(){return k},function(){return g});a.Identity=b;a.runIdentity=function(a){return a};a.functorIdentity=e;a.applyIdentity=f;a.applicativeIdentity=k;a.bindIdentity=g;a.monadIdentity=d})(c["Data.Identity"]=c["Data.Identity"]||{});(function(a){var d=c["Data.Either"];a.tailRec=function(a){return function(e){a:b:for(e=
a(e);;){if(e instanceof d.Left){e=a(e.value0);continue b}if(e instanceof d.Right){e=e.value0;break a}throw Error("Failed pattern match at Control.Monad.Rec.Class line 63, column 1 - line 64, column 1: "+[e.constructor.name]);}return e}}})(c["Control.Monad.Rec.Class"]=c["Control.Monad.Rec.Class"]||{});(function(a){var d=c.Prelude,b=c["Data.Tuple"];a.MonadState=function(a,b){this["__superclass_Prelude.Monad_0"]=a;this.state=b};a.modify=function(a){return function(c){return(0,a.state)(function(a){return new b.Tuple(d.unit,
c(a))})}};a.gets=function(a){return function(d){return(0,a.state)(function(a){return new b.Tuple(d(a),a)})}};a.state=function(a){return a.state}})(c["Control.Monad.State.Class"]=c["Control.Monad.State.Class"]||{});(function(a){var d=c.Prelude,b=c["Data.Monoid"],e=c["Data.Tuple"],f=c["Control.Monad.Writer.Class"],g=function(a){return a},k=function(a){return a},l=function(a){return function(b){return g(a(b))}},h=function(a){return new d.Functor(function(b){return l(d["<$>"](a)(function(a){return new e.Tuple(b(a.value0),
a.value1)}))})},q=function(a){return function(b){return new d.Apply(function(){return h(b["__superclass_Prelude.Functor_0"]())},function(c){return function(f){return g(function(){return d["<*>"](b)(d["<$>"](b["__superclass_Prelude.Functor_0"]())(function(b){return function(c){return new e.Tuple(b.value0(c.value0),d["<>"](a)(b.value1)(c.value1))}})(c))(f)}())}})}},r=function(a){return function(b){return new d.Bind(function(){return q(a)(b["__superclass_Prelude.Bind_1"]()["__superclass_Prelude.Apply_0"]())},
function(c){return function(f){return g(d.bind(b["__superclass_Prelude.Bind_1"]())(c)(function(c){return d.bind(b["__superclass_Prelude.Bind_1"]())(k(f(c.value0)))(function(f){return d["return"](b["__superclass_Prelude.Applicative_0"]())(new e.Tuple(f.value0,d["<>"](a)(c.value1)(f.value1)))})}))}})}},m=function(a){return function(c){return new d.Applicative(function(){return q(a["__superclass_Prelude.Semigroup_0"]())(c["__superclass_Prelude.Apply_0"]())},function(f){return g(d.pure(c)(new e.Tuple(f,
b.mempty(a))))})}},p=function(a){return function(b){return new d.Monad(function(){return m(a)(b["__superclass_Prelude.Applicative_0"]())},function(){return r(a["__superclass_Prelude.Semigroup_0"]())(b)})}};a.WriterT=g;a.mapWriterT=l;a.runWriterT=k;a.functorWriterT=h;a.applyWriterT=q;a.applicativeWriterT=m;a.bindWriterT=r;a.monadWriterT=p;a.monadWriterWriterT=function(a){return function(b){return new f.MonadWriter(function(){return p(a)(b)},function(a){return g(d.bind(b["__superclass_Prelude.Bind_1"]())(a)(function(a){return d["return"](b["__superclass_Prelude.Applicative_0"]())(new e.Tuple(new e.Tuple(a.value0,
a.value1),a.value1))}))},function(a){return g(d.bind(b["__superclass_Prelude.Bind_1"]())(a)(function(a){return d["return"](b["__superclass_Prelude.Applicative_0"]())(new e.Tuple(a.value0.value0,a.value0.value1(a.value1)))}))},function(a){return g(d["return"](b["__superclass_Prelude.Applicative_0"]())(a))})}}})(c["Control.Monad.Writer.Trans"]=c["Control.Monad.Writer.Trans"]||{});(function(a){var d=c["Control.Monad.Writer.Trans"],b=c["Data.Identity"],e=c["Data.Tuple"],f=function(a){return b.runIdentity(d.runWriterT(a))};
a.execWriter=function(a){return e.snd(f(a))};a.runWriter=f})(c["Control.Monad.Writer"]=c["Control.Monad.Writer"]||{});(function(a){a.range=function(a){return function(b){for(var e=a>b?-1:1,c=[],g=a,k=0;g!==b;g+=e)c[k++]=g;c[k]=g;return c}};a.length=function(a){return a.length};a.cons=function(a){return function(b){return[a].concat(b)}};a.snoc=function(a){return function(b){var e=a.slice();e.push(b);return e}};a["uncons'"]=function(a){return function(b){return function(e){return 0===e.length?a({}):
b(e[0])(e.slice(1))}}};a.indexImpl=function(a){return function(b){return function(e){return function(c){return 0>c||c>=e.length?b:a(e[c])}}}};a.findIndexImpl=function(a){return function(b){return function(c){return function(f){for(var g=0,k=f.length;g<k;g++)if(c(f[g]))return a(g);return b}}}};a._deleteAt=function(a){return function(b){return function(c){return function(f){if(0>c||c>=f.length)return b;f=f.slice();f.splice(c,1);return a(f)}}}};a._updateAt=function(a){return function(b){return function(c){return function(f){return function(g){if(0>
c||c>=g.length)return b;g=g.slice();g[c]=f;return a(g)}}}}};a.concat=function(a){for(var b=[],c=0,f=a.length;c<f;c++)for(var g=a[c],k=0,l=g.length;k<l;k++)b.push(g[k]);return b};a.filter=function(a){return function(b){return b.filter(a)}};a.sortImpl=function(a){return function(b){return b.slice().sort(function(b,c){return a(b)(c)})}};a.slice=function(a){return function(b){return function(c){return c.slice(a,b)}}};a.drop=function(a){return function(b){return 1>a?b:b.slice(a)}};a.zipWith=function(a){return function(b){return function(c){for(var f=
b.length<c.length?b.length:c.length,g=Array(f),k=0;k<f;k++)g[k]=a(b[k])(c[k]);return g}}}})(c["Data.Array"]=c["Data.Array"]||{});(function(a){a.unsafeThrow=function(a){throw Error(a);}})(c["Data.Maybe.Unsafe"]=c["Data.Maybe.Unsafe"]||{});(function(a){var d=c["Data.Maybe.Unsafe"],b=c["Data.Maybe"];a.fromJust=function(a){if(a instanceof b.Just)return a.value0;if(a instanceof b.Nothing)return d.unsafeThrow("Data.Maybe.Unsafe.fromJust called on Nothing");throw Error("Failed pattern match at Data.Maybe.Unsafe line 10, column 1 - line 11, column 1: "+
[a.constructor.name]);}})(c["Data.Maybe.Unsafe"]=c["Data.Maybe.Unsafe"]||{});(function(a){var d=c["Data.Array"],b=c.Prelude,e=c["Data.Maybe"],f=c["Data.Tuple"],g=c["Data.Maybe.Unsafe"],k=d.cons,l=d.range,h=d._updateAt(e.Just.create)(e.Nothing.value),q=d["uncons'"](function(a){return new f.Tuple([],[])})(function(a){return function(b){b=q(b);return new f.Tuple(k(a.value0)(b.value0),k(a.value1)(b.value1))}}),r=d["uncons'"](b["const"](e.Nothing.value))(function(a){return function(b){return new e.Just({head:a,
tail:b})}}),m=d["uncons'"](b["const"](e.Nothing.value))(function(a){return function(a){return new e.Just(a)}}),p=function(a){return function(c){return d.sortImpl(function(d){return function(c){c=a(d)(c);if(c instanceof b.GT)return 1;if(c instanceof b.EQ)return 0;if(c instanceof b.LT)return-1;throw Error("Failed pattern match at Data.Array line 409, column 3 - line 414, column 1: "+[c.constructor.name]);}})(c)}},v=function(a){return[a]},t=function(a){return 0===d.length(a)},n=function(a){return function(b){var c=
r(b);if(c instanceof e.Just)return k(c.value0.head)(n(a)(d.filter(function(b){return!a(c.value0.head)(b)})(c.value0.tail)));if(c instanceof e.Nothing)return[];throw Error("Failed pattern match: "+[c.constructor.name]);}},C=d.indexImpl(e.Just.create)(e.Nothing.value),B=d["uncons'"](b["const"](e.Nothing.value))(function(a){return function(b){return new e.Just(a)}}),A=function(a){return function(c){return function(e){return d["uncons'"](function(d){return b["return"](a["__superclass_Prelude.Applicative_0"]())(e)})(function(d){return function(f){return b[">>="](a["__superclass_Prelude.Bind_1"]())(c(e)(d))(function(b){return A(a)(c)(b)(f)})}})}}},
D=d.findIndexImpl(e.Just.create)(e.Nothing.value),u=function(a){return function(b){return function(c){return d.filter(function(b){return e.isJust(D(a(b))(c))})(b)}}},H=d._deleteAt(e.Just.create)(e.Nothing.value),w=function(a){return function(b){return function(d){return 0===d.length?[]:e.maybe(d)(function(a){return g.fromJust(H(a)(d))})(D(a(b))(d))}}},P=function(a){return function(c){return function(e){if(t(c))return[];if(b.otherwise)return d["uncons'"](b["const"](c))(function(d){return function(e){return P(a)(w(b.eq(a))(d)(c))(e)}})(e);
throw Error("Failed pattern match: "+[c.constructor.name,e.constructor.name]);}}},x=b.flip(b.bind(b.bindArray)),L=function(a){return x(function(b){return e.maybe([])(v)(a(b))})},G=L(b.id(b.categoryFn));a.foldM=A;a.unzip=q;a.intersectBy=u;a.intersect=function(a){return u(b.eq(a))};a["\\\\"]=P;a.deleteBy=w;a.nubBy=n;a.nub=function(a){return n(b.eq(a))};a.sortBy=p;a.sort=function(a){return function(d){return p(b.compare(a))(d)}};a.catMaybes=G;a.mapMaybe=L;a.concatMap=x;a.modifyAt=function(a){return function(b){return function(d){return e.maybe(e.Nothing.value)(function(c){return h(a)(b(c))(d)})(C(d)(a))}}};
a.updateAt=h;a.deleteAt=H;a.findIndex=D;a.elemIndex=function(a){return function(d){return D(function(c){return b["=="](a)(c)(d)})}};a.index=C;a["!!"]=C;a.uncons=r;a.tail=m;a.head=B;a[":"]=k;a["null"]=t;a[".."]=l;a.singleton=v;a.zipWith=d.zipWith;a.drop=d.drop;a.filter=d.filter;a.concat=d.concat;a.snoc=d.snoc;a.length=d.length})(c["Data.Array"]=c["Data.Array"]||{});(function(a){a.zipAll=function(a){return function(b){return function(c){for(var f=b.length<c.length?b.length:c.length,g=0;g<f;g++)if(!a(b[g])(c[g]))return!1;
return!0}}};a.zipCompare=function(a){return function(b){return function(c){for(var f=0,g=b.length,k=c.length;f<g&&f<k;){var l=a(b[f])(c[f]);if(0!==l)return l;f++}return g===k?0:g>k?-1:1}}}})(c["Data.Generic"]=c["Data.Generic"]||{});(function(a){a._charAt=function(a){return function(b){return function(c){return function(f){return 0<=c&&c<f.length?a(f.charAt(c)):b}}}};a.fromCharArray=function(a){return a.join("")};a["_indexOf'"]=function(a){return function(b){return function(c){return function(f){return function(g){if(0>
f||f>g.length)return b;g=g.indexOf(c,f);return-1===g?b:a(g)}}}}};a.length=function(a){return a.length};a.replace=function(a){return function(b){return function(c){return c.replace(a,b)}}};a.take=function(a){return function(b){return b.substr(0,a)}};a.drop=function(a){return function(b){return b.substr(a)}};a.split=function(a){return function(b){return b.split(a)}};a.joinWith=function(a){return function(b){return b.join(a)}}})(c["Data.String"]=c["Data.String"]||{});(function(a){a.toString=function(a){return a}})(c["Data.Char"]=
c["Data.Char"]||{});(function(a){a.toString=c["Data.Char"].toString})(c["Data.Char"]=c["Data.Char"]||{});(function(a){var d=c["Data.String"],b=c["Data.Maybe"],e=d["_indexOf'"](b.Just.create)(b.Nothing.value),b=d._charAt(b.Just.create)(b.Nothing.value);a["indexOf'"]=e;a.charAt=b;a.joinWith=d.joinWith;a.split=d.split;a.drop=d.drop;a.take=d.take;a.replace=d.replace;a.length=d.length;a.fromCharArray=d.fromCharArray})(c["Data.String"]=c["Data.String"]||{});(function(a){var d=function(){function a(){}a.value=
new a;return a}();a.Proxy=d})(c["Type.Proxy"]=c["Type.Proxy"]||{});(function(a){var d=c["Data.Generic"],b=c.Prelude,e=c["Data.Maybe"],f=c["Data.Traversable"],g=c["Data.Array"],k=c["Type.Proxy"],l=function(){function a(b,d){this.value0=b;this.value1=d}a.create=function(b){return function(d){return new a(b,d)}};return a}(),h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),
r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),t=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=function(){function a(b,d){this.value0=b;this.value1=
d}a.create=function(b){return function(d){return new a(b,d)}};return a}(),C=function(){function a(){}a.value=new a;return a}(),B=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),A=function(a,b,d){this.fromSpine=a;this.toSignature=b;this.toSpine=d},D=new A(function(a){return a instanceof p?new e.Just(a.value0):e.Nothing.value},function(a){return C.value},function(a){return new p(a)}),u=new b.Eq(function(a){return function(c){if(a instanceof l&&c instanceof l)return b["=="](b.eqString)(a.value0)(c.value0)&&
g.length(a.value1)===g.length(c.value1)&&d.zipAll(function(a){return function(d){return b["=="](u)(a(b.unit))(d(b.unit))}})(a.value1)(c.value1);if(a instanceof h&&c instanceof h){var e=function(a){return function(d){return b["=="](b.eqString)(a.recLabel)(d.recLabel)&&b["=="](u)(a.recValue(b.unit))(d.recValue(b.unit))}};return g.length(a.value0)===g.length(c.value0)&&d.zipAll(e)(a.value0)(c.value0)}return a instanceof m&&c instanceof m||a instanceof q&&c instanceof q?a.value0===c.value0:a instanceof
r&&c instanceof r?b["=="](b.eqBoolean)(a.value0)(c.value0):a instanceof v&&c instanceof v?b["=="](b.eqChar)(a.value0)(c.value0):a instanceof p&&c instanceof p?b["=="](b.eqString)(a.value0)(c.value0):a instanceof t&&c instanceof t?g.length(a.value0)===g.length(c.value0)&&d.zipAll(function(a){return function(d){return b["=="](u)(a(b.unit))(d(b.unit))}})(a.value0)(c.value0):!1}}),H=new b.Ord(function(){return u},function(a){return function(c){if(a instanceof l&&c instanceof l){var e=b.compare(b.ordString)(a.value0)(c.value0);
return e instanceof b.EQ?b.compare(b.ordInt)(0)(d.zipCompare(function(a){return function(c){c=b.compare(H)(a(b.unit))(c(b.unit));if(c instanceof b.EQ)return 0;if(c instanceof b.LT)return 1;if(c instanceof b.GT)return-1;throw Error("Failed pattern match: "+[c.constructor.name]);}})(a.value1)(c.value1)):e}if(a instanceof l)return b.LT.value;if(c instanceof l)return b.GT.value;if(a instanceof h&&c instanceof h)return b.compare(b.ordInt)(0)(d.zipCompare(function(a){return function(c){var d=b.compare(b.ordString)(a.recLabel)(c.recLabel);
if(d instanceof b.EQ){c=b.compare(H)(a.recValue(b.unit))(c.recValue(b.unit));if(c instanceof b.EQ)return 0;if(c instanceof b.LT)return 1;if(c instanceof b.GT)return-1;throw Error("Failed pattern match at Data.Generic line 227, column 15 - line 234, column 5: "+[c.constructor.name]);}if(d instanceof b.LT)return 1;if(d instanceof b.GT)return-1;throw Error("Failed pattern match at Data.Generic line 227, column 15 - line 234, column 5: "+[d.constructor.name]);}})(a.value0)(c.value0));if(a instanceof h)return b.LT.value;
if(c instanceof h)return b.GT.value;if(a instanceof m&&c instanceof m)return b.compare(b.ordInt)(a.value0)(c.value0);if(a instanceof m)return b.LT.value;if(c instanceof m)return b.GT.value;if(a instanceof r&&c instanceof r)return b.compare(b.ordBoolean)(a.value0)(c.value0);if(a instanceof r)return b.LT.value;if(c instanceof r)return b.GT.value;if(a instanceof q&&c instanceof q)return b.compare(b.ordNumber)(a.value0)(c.value0);if(a instanceof q)return b.LT.value;if(c instanceof q)return b.GT.value;
if(a instanceof p&&c instanceof p)return b.compare(b.ordString)(a.value0)(c.value0);if(a instanceof p)return b.LT.value;if(c instanceof p)return b.GT.value;if(a instanceof v&&c instanceof v)return b.compare(b.ordChar)(a.value0)(c.value0);if(a instanceof v)return b.LT.value;if(c instanceof v)return b.GT.value;if(a instanceof t&&c instanceof t)return b.compare(b.ordInt)(0)(d.zipCompare(function(a){return function(c){c=b.compare(H)(a(b.unit))(c(b.unit));if(c instanceof b.EQ)return 0;if(c instanceof b.LT)return 1;
if(c instanceof b.GT)return-1;throw Error("Failed pattern match: "+[c.constructor.name]);}})(a.value0)(c.value0));throw Error("Failed pattern match: "+[a.constructor.name,c.constructor.name]);}}),w=k.Proxy.value;a.SigProd=n;a.SigString=C;a.SigArray=B;a.SProd=l;a.SRecord=h;a.SNumber=q;a.SBoolean=r;a.SInt=m;a.SString=p;a.SChar=v;a.SArray=t;a.Generic=A;a.gCompare=function(a){return function(c){return function(d){return b.compare(H)((0,a.toSpine)(c))((0,a.toSpine)(d))}}};a.gEq=function(a){return function(c){return function(d){return b["=="](u)((0,a.toSpine)(c))((0,a.toSpine)(d))}}};
a.fromSpine=function(a){return a.fromSpine};a.toSignature=function(a){return a.toSignature};a.toSpine=function(a){return a.toSpine};a.genericString=D;a.genericArray=function(a){return new A(function(c){return c instanceof t?f.traverse(f.traversableArray)(e.applicativeMaybe)(function(c){return(0,a.fromSpine)(c(b.unit))})(c.value0):e.Nothing.value},function(b){return new B(function(b){return(0,a.toSignature)(w)})},function(c){return new t(b["<$>"](b.functorArray)(function(b){return function(c){return(0,a.toSpine)(b)}})(c))})};
a.eqGeneric=u;a.ordGeneric=H})(c["Data.Generic"]=c["Data.Generic"]||{});(function(a){var d=c.Prelude,b=c["Data.Generic"],e=c["Data.String"],f=c["CSS.String"],g=c["Data.Maybe"],k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),l=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b,c){this.value0=b;this.value1=
c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),r=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),m=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),p=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),v=function(){function a(b,c){this.value0=
b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),t=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),C=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),B=function(){function a(){}a.value=new a;return a}(),A=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),D=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),u=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),H=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),w=function(){function a(b,c){this.value0=b;this.value1=c}a.create=
function(b){return function(c){return new a(b,c)}};return a}(),P=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),x=function(a){return function(b){return new P(d["++"](d.semigroupArray)(a.value0)(b),a.value1)}},L=new P([],B.value),f=new f.IsString(function(a){var b=e.take(1)(a);return"#"===b?new P([k.create(e.drop(1)(a))],B.value):"."===b?new P([l.create(e.drop(1)(a))],B.value):new P([],new A(a))}),G=new b.Generic(function(a){return a instanceof
b.SProd&&"CSS.Selector.Id"===a.value0&&1===a.value1.length?d.apply(g.applyMaybe)(new g.Just(k.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))):a instanceof b.SProd&&"CSS.Selector.Class"===a.value0&&1===a.value1.length?d.apply(g.applyMaybe)(new g.Just(l.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))):a instanceof b.SProd&&"CSS.Selector.Attr"===a.value0&&1===a.value1.length?d.apply(g.applyMaybe)(new g.Just(h.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))):a instanceof
b.SProd&&"CSS.Selector.AttrVal"===a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(q.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericString)(a.value1[1](d.unit))):a instanceof b.SProd&&"CSS.Selector.AttrBegins"===a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(r.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericString)(a.value1[1](d.unit))):a instanceof b.SProd&&
"CSS.Selector.AttrEnds"===a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(m.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericString)(a.value1[1](d.unit))):a instanceof b.SProd&&"CSS.Selector.AttrContains"===a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(p.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericString)(a.value1[1](d.unit))):a instanceof b.SProd&&"CSS.Selector.AttrSpace"===
a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(v.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericString)(a.value1[1](d.unit))):a instanceof b.SProd&&"CSS.Selector.AttrHyph"===a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(t.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericString)(a.value1[1](d.unit))):a instanceof b.SProd&&"CSS.Selector.Pseudo"===a.value0&&
1===a.value1.length?d.apply(g.applyMaybe)(new g.Just(n.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))):a instanceof b.SProd&&"CSS.Selector.PseudoFunc"===a.value0&&2===a.value1.length?d.apply(g.applyMaybe)(d.apply(g.applyMaybe)(new g.Just(C.create))(b.fromSpine(b.genericString)(a.value1[0](d.unit))))(b.fromSpine(b.genericArray(b.genericString))(a.value1[1](d.unit))):g.Nothing.value},function(a){return new b.SigProd("CSS.Selector.Predicate",[{sigConstructor:"CSS.Selector.Id",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},
{sigConstructor:"CSS.Selector.Class",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.Attr",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrVal",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrBegins",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},
function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrEnds",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrContains",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrSpace",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},
function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.AttrHyph",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.Pseudo",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)}]},{sigConstructor:"CSS.Selector.PseudoFunc",sigValues:[function(a){return b.toSignature(b.genericString)(b.anyProxy)},function(a){return b.toSignature(b.genericArray(b.genericString))(b.anyProxy)}]}])},
function(a){if(a instanceof k)return new b.SProd("CSS.Selector.Id",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof l)return new b.SProd("CSS.Selector.Class",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof h)return new b.SProd("CSS.Selector.Attr",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof q)return new b.SProd("CSS.Selector.AttrVal",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);
if(a instanceof r)return new b.SProd("CSS.Selector.AttrBegins",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof m)return new b.SProd("CSS.Selector.AttrEnds",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof p)return new b.SProd("CSS.Selector.AttrContains",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);
if(a instanceof v)return new b.SProd("CSS.Selector.AttrSpace",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof t)return new b.SProd("CSS.Selector.AttrHyph",[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericString)(a.value1)}]);if(a instanceof n)return new b.SProd("CSS.Selector.Pseudo",[function(c){return b.toSpine(b.genericString)(a.value0)}]);if(a instanceof C)return new b.SProd("CSS.Selector.PseudoFunc",
[function(c){return b.toSpine(b.genericString)(a.value0)},function(c){return b.toSpine(b.genericArray(b.genericString))(a.value1)}]);throw Error("Failed pattern match at CSS.Selector line 22, column 1 - line 24, column 1: "+[a.constructor.name]);}),y=new d.Eq(b.gEq(G)),I=new d.Ord(function(){return y},b.gCompare(G)),Q=function(a){return function(b){return new P([],new u(a,b))}},T=function(a){return function(b){return new P([],new D(a,b))}};a.Selector=P;a.Star=B;a.Elem=A;a.PathChild=D;a.Deep=u;a.Adjacent=
H;a.Combined=w;a.Id=k;a.Class=l;a.Attr=h;a.AttrVal=q;a.AttrBegins=r;a.AttrEnds=m;a.AttrContains=p;a.AttrSpace=v;a.AttrHyph=t;a.Pseudo=n;a.PseudoFunc=C;a["##"]=x;a["with"]=x;a["|>"]=T;a.child=T;a["**"]=Q;a.deep=Q;a.element=function(a){return new P([],new A(a))};a.star=L;a.genericPredicate=G;a.eqPredicate=y;a.ordPredicate=I;a.isStringSelector=f})(c["CSS.Selector"]=c["CSS.Selector"]||{});(function(a){var d=c.Prelude,b=c["Control.Monad.Writer"],e=c["Control.Monad.Writer.Class"],f=c["Data.Array"],g=c["CSS.Property"],
k=c["Data.Monoid"],l=c["Control.Monad.Writer.Trans"],h=c["Data.Identity"],q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),t=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),n=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),C=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),B=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),A=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),D=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),u=function(a){return a},H=function(a){return b.execWriter(a)},w=function(a){return u(e.tell(k.monoidArray)(l.monadWriterT(k.monoidArray)(h.monadIdentity))(l.monadWriterWriterT(k.monoidArray)(h.monadIdentity))(f.singleton(a)))},P=new d.Functor(function(a){return function(b){return u(d["<$>"](l.functorWriterT(h.functorIdentity))(a)(b))}}),x=new d.Apply(function(){return P},
function(a){return function(b){return u(d["<*>"](l.applyWriterT(d.semigroupArray)(h.applyIdentity))(a)(b))}}),L=new d.Bind(function(){return x},function(a){return function(b){return u(d[">>="](l.bindWriterT(d.semigroupArray)(h.monadIdentity))(a)(function(a){return b(a)}))}}),G=new d.Applicative(function(){return x},function(a){return u(d.pure(l.applicativeWriterT(k.monoidArray)(h.applicativeIdentity))(a))}),y=new d.Monad(function(){return G},function(){return L});a.S=u;a.Property=t;a.Nested=n;a.Query=
C;a.Face=B;a.Keyframe=A;a.Import=D;a.Self=q;a.Root=r;a.Pop=m;a.Child=p;a.Sub=v;a["?"]=function(a){return function(b){return w(new n(new v(a),H(b)))}};a.key=function(a){return function(b){return function(c){return w(new t(g.cast(b),g.value(a)(c)))}}};a.rule=w;a.runS=H;a.functorStyleM=P;a.applyStyleM=x;a.bindStyleM=L;a.applicativeStyleM=G;a.monadStyleM=y})(c["CSS.Stylesheet"]=c["CSS.Stylesheet"]||{});(function(a){var d=c["CSS.Property"],b=c["CSS.String"],d=c["CSS.Stylesheet"].key(c["CSS.Color"].valColor)(b.fromString(d.isStringKey)("background-color"));
a.backgroundColor=d})(c["CSS.Background"]=c["CSS.Background"]||{});(function(a){var d=c["Data.Tuple"];a.tuple4=function(a){return function(c){return function(f){return function(g){return new d.Tuple(new d.Tuple(new d.Tuple(a,c),f),g)}}}};a.tuple3=function(a){return function(c){return function(f){return new d.Tuple(new d.Tuple(a,c),f)}}}})(c["Data.Tuple.Nested"]=c["Data.Tuple.Nested"]||{});(function(a){var d=c.Prelude,b=c["CSS.Property"],e=c["CSS.String"],f=new b.Val(function(a){return a});a.pct=function(a){return d["<>"](b.semigroupValue)(b.value(b.valNumber)(a))(e.fromString(b.isStringValue)("%"))};
a.em=function(a){return d["<>"](b.semigroupValue)(b.value(b.valNumber)(a))(e.fromString(b.isStringValue)("em"))};a.px=function(a){return d["<>"](b.semigroupValue)(b.value(b.valNumber)(a))(e.fromString(b.isStringValue)("px"))};a.valSize=f})(c["CSS.Size"]=c["CSS.Size"]||{});(function(a){var d=c["Data.Tuple.Nested"],b=c["CSS.Color"],e=c["CSS.Property"],f=c["CSS.Size"],g=c["CSS.String"],k=c["CSS.Stylesheet"],l=function(a){return a},h=new e.Val(function(a){return a}),q=l(g.fromString(e.isStringValue)("solid"));
a.Stroke=l;a.borderRadius=function(a){return function(b){return function(c){return function(h){return k.key(e.valTuple(e.valTuple(e.valTuple(f.valSize)(f.valSize))(f.valSize))(f.valSize))(g.fromString(e.isStringKey)("border-radius"))(d.tuple4(a)(b)(c)(h))}}}};a.border=function(a){return function(c){return function(l){return k.key(e.valTuple(e.valTuple(h)(f.valSize))(b.valColor))(g.fromString(e.isStringKey)("border"))(d.tuple3(a)(c)(l))}}};a.solid=q;a.valStroke=h})(c["CSS.Border"]=c["CSS.Border"]||
{});(function(a){var d=c["CSS.Property"],b=c["CSS.String"],e=c["CSS.Stylesheet"],f=function(a){return a},g=function(a){return a},k=new d.Val(function(a){return a}),l=new d.Val(function(a){return a}),h=f(b.fromString(d.isStringValue)("relative")),q=e.key(k)(b.fromString(d.isStringKey)("position")),r=g(b.fromString(d.isStringValue)("flex")),e=e.key(l)(b.fromString(d.isStringKey)("display")),d=f(b.fromString(d.isStringValue)("absolute"));a.Display=g;a.Position=f;a.display=e;a.flex=r;a.relative=h;a.absolute=
d;a.position=q;a.valPosition=k;a.valDisplay=l})(c["CSS.Display"]=c["CSS.Display"]||{});(function(a){var d=c["CSS.Property"],b=c["CSS.String"],d=c["CSS.Stylesheet"].key(c["CSS.Color"].valColor)(b.fromString(d.isStringKey)("color"));a.color=d})(c["CSS.Font"]=c["CSS.Font"]||{});(function(a){var d=c["Data.Tuple.Nested"],b=c["CSS.Size"],e=c["CSS.String"],f=c["CSS.Stylesheet"],g=c["CSS.Property"],k=f.key(b.valSize)(e.fromString(g.isStringKey)("width")),l=f.key(b.valSize)(e.fromString(g.isStringKey)("top")),
h=f.key(b.valSize)(e.fromString(g.isStringKey)("right")),q=f.key(b.valSize)(e.fromString(g.isStringKey)("left")),r=f.key(b.valSize)(e.fromString(g.isStringKey)("height")),m=f.key(b.valSize)(e.fromString(g.isStringKey)("bottom"));a.margin=function(a){return function(c){return function(h){return function(m){return f.key(g.valTuple(g.valTuple(g.valTuple(b.valSize)(b.valSize))(b.valSize))(b.valSize))(e.fromString(g.isStringKey)("margin"))(d.tuple4(a)(c)(h)(m))}}}};a.padding=function(a){return function(c){return function(h){return function(m){return f.key(g.valTuple(g.valTuple(g.valTuple(b.valSize)(b.valSize))(b.valSize))(b.valSize))(e.fromString(g.isStringKey)("padding"))(d.tuple4(a)(c)(h)(m))}}}};
a.right=h;a.left=q;a.bottom=m;a.top=l;a.height=r;a.width=k})(c["CSS.Geometry"]=c["CSS.Geometry"]||{});(function(a){var d=c["Data.Maybe"],b=c.Prelude,e=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}();a.This=e;a.That=f;a.Both=g;a.theseRight=function(a){return a instanceof
g?new d.Just(a.value1):a instanceof f?new d.Just(a.value0):d.Nothing.value};a.theseLeft=function(a){return a instanceof g||a instanceof e?new d.Just(a.value0):d.Nothing.value};a.semigroupThese=function(a){return function(c){return new b.Semigroup(function(d){return function(q){if(d instanceof e&&q instanceof e)return new e(b["<>"](a)(d.value0)(q.value0));if(d instanceof e&&q instanceof f)return new g(d.value0,q.value0);if(d instanceof e&&q instanceof g)return new g(b["<>"](a)(d.value0)(q.value0),
q.value1);if(d instanceof f&&q instanceof e)return new g(q.value0,d.value0);if(d instanceof f&&q instanceof f)return new f(b["<>"](c)(d.value0)(q.value0));if(d instanceof f&&q instanceof g)return new g(q.value0,b["<>"](c)(d.value0)(q.value1));if(d instanceof g&&q instanceof e)return new g(b["<>"](a)(d.value0)(q.value0),d.value1);if(d instanceof g&&q instanceof f)return new g(d.value0,b["<>"](c)(d.value1)(q.value0));if(d instanceof g&&q instanceof g)return new g(b["<>"](a)(d.value0)(q.value0),b["<>"](c)(d.value1)(q.value1));
throw Error("Failed pattern match at Data.These line 30, column 1 - line 41, column 1: "+[d.constructor.name,q.constructor.name]);}})}}})(c["Data.These"]=c["Data.These"]||{});(function(a){var d=c.Prelude,b=c["Data.Array"],e=c["Data.Either"],f=c["Data.Foldable"],g=c["Data.Maybe"],k=c["Data.Monoid"],l=c["Data.NonEmpty"],h=c["Data.These"],q=c["Data.Tuple"],r=c["CSS.Property"],m=c["CSS.Selector"],p=c["CSS.String"],v=c["CSS.Stylesheet"],t=c["Control.Alternative"],n=function(a){return a},C=function(a){return a},
B=function(a){return function(b){return function(c){return b+(a+c)}}},A=new d.Semigroup(function(a){return function(b){return a+b}}),D=new d.Semigroup(function(a){return function(b){return a+b}}),u=function(a){var b=e.either(function(a){return k.mempty(k.monoidString)})(function(a){return f.mconcat(f.foldableArray)(k.monoidString)([a.value0,": ",a.value1])});return f.intercalate(f.foldableArray)(k.monoidString)("; ")(d["<$>"](d.functorArray)(b)(a))},H=function(a){if(a instanceof m.Id)return"#"+a.value0;
if(a instanceof m.Class)return"."+a.value0;if(a instanceof m.Attr)return"["+(a.value0+"]");if(a instanceof m.AttrVal)return"["+(a.value0+("='"+(a.value1+"']")));if(a instanceof m.AttrBegins)return"["+(a.value0+("^='"+(a.value1+"']")));if(a instanceof m.AttrEnds)return"["+(a.value0+("$='"+(a.value1+"']")));if(a instanceof m.AttrContains)return"["+(a.value0+("*='"+(a.value1+"']")));if(a instanceof m.AttrSpace)return"["+(a.value0+("~='"+(a.value1+"']")));if(a instanceof m.AttrHyph)return"["+(a.value0+
("|='"+(a.value1+"']")));if(a instanceof m.Pseudo)return":"+a.value0;if(a instanceof m.PseudoFunc)return":"+(a.value0+("("+(f.intercalate(f.foldableArray)(k.monoidString)(",")(a.value1)+")")));throw Error("Failed pattern match at CSS.Render line 145, column 1 - line 146, column 1: "+[a.constructor.name]);},w=function(a){return function(b){if(0===a.length&&b instanceof m.Star)return["*"];if(b instanceof m.Star)return[""];if(b instanceof m.Elem)return[b.value0];if(b instanceof m.PathChild)return d["<*>"](d.applyArray)(d["<$>"](d.functorArray)(B(" > "))(P(b.value0)))(P(b.value1));
if(b instanceof m.Deep)return d["<*>"](d.applyArray)(d["<$>"](d.functorArray)(B(" "))(P(b.value0)))(P(b.value1));if(b instanceof m.Adjacent)return d["<*>"](d.applyArray)(d["<$>"](d.functorArray)(B(" + "))(P(b.value0)))(P(b.value1));if(b instanceof m.Combined)return d["<>"](d.semigroupArray)(P(b.value0))(P(b.value1));throw Error("Failed pattern match: "+[a.constructor.name,b.constructor.name]);}},P=function(a){return d["<$>"](d.functorArray)(function(c){return c+f.foldMap(f.foldableArray)(k.monoidString)(H)(b.sort(m.ordPredicate)(a.value0))})(w(a.value0)(a.value1))},
x=function(a){return f.intercalate(f.foldableArray)(k.monoidString)(", ")(P(a))},L=function(a){return 0===a.length?g.Nothing.value:d["<$>"](g.functorMaybe)(function(a){return l[":|"](a.head)(a.tail)})(b.uncons(a))},G=function(a){if(a.value0 instanceof v.Child)return g.maybe(a.value0.value0)(function(b){return m["|>"](G(b))(a.value0.value0)})(L(a.value1));if(a.value0 instanceof v.Sub)return g.maybe(a.value0.value0)(function(b){return m["**"](G(b))(a.value0.value0)})(L(a.value1));if(a.value0 instanceof
v.Root)return g.maybe(a.value0.value0)(function(b){return m["**"](a.value0.value0)(G(b))})(L(a.value1));if(a.value0 instanceof v.Pop)return g.maybe(m.element("TODO"))(G)(L(b.drop(a.value0.value0)(b[":"](a.value0)(a.value1))));if(a.value0 instanceof v.Self)return g.maybe(m["with"](m.star)(a.value0.value0))(function(b){return m["with"](G(b))(a.value0.value0)})(L(a.value1));throw Error("Failed pattern match: "+[a.value0.constructor.name]);},y=function(a){return r.plain(a)},I=function(a){return g.Just.create(h.That.create(n(p.fromString(p.isStringString)("@import url("+
(a+");\n")))))},Q=function(a){return a},T=function(a){return d[">>="](g.bindMaybe)(a)(function(a){return d.map(g.functorMaybe)(Q)(h.theseRight(a))})},J=function(a){return a},N=function(a){return d[">>="](g.bindMaybe)(a)(function(a){return d.map(g.functorMaybe)(J)(h.theseLeft(a))})},fa=function(a){return g.maybe(a.value0)(function(b){return"("+(a.value0+(": "+(r.plain(b)+")")))})(a.value1)},R=function(a){return"@media "+(y(a.value1)+l.foldl1(f.foldableArray)(d["<>"](d.semigroupString))(d["<$>"](l.functorNonEmpty(d.functorArray))(function(a){return" and "+
fa(a)})(a.value2)))},Y=function(a){return function(b){if(a instanceof r.Plain&&b instanceof r.Plain)return[new e.Right(new q.Tuple(a.value0,b.value0))];if(a instanceof r.Prefixed&&b instanceof r.Plain)return d["<$>"](d.functorArray)(function(a){return e.Right.create(new q.Tuple(a.value0+a.value1,b.value0))})(a.value0);if(a instanceof r.Plain&&b instanceof r.Prefixed)return d["<$>"](d.functorArray)(function(b){return e.Right.create(new q.Tuple(a.value0,b.value0+b.value1))})(b.value0);if(a instanceof
r.Prefixed&&b instanceof r.Prefixed)return d["<$>"](d.functorArray)(function(a){return g.maybe(new e.Left(a.value0+a.value1))(function(b){return e.Right.create(q.Tuple.create(a.value0+a.value1)(a.value0+b))})(q.lookup(f.foldableArray)(d.eqString)(a.value0)(b.value0))})(a.value0);throw Error("Failed pattern match at CSS.Render line 126, column 1 - line 127, column 1: "+[a.constructor.name,b.constructor.name]);}},ea=function(a){return Y(a.value0)(a.value1)},U=function(a){return function(b){var c=d[">>="](d.bindArray)(b)(ea);
b=d["<$>"](g.functorMaybe)(function(a){return h.This.create(C(u(l.oneOf(t.alternativeArray)(a))))})(L(c));return g.maybe(b)(function(a){return g.Just.create(h.That.create(n(f.intercalate(f.foldableArray)(k.monoidString)(" ")([x(G(a)),"{",u(c),"}"]))))})(L(a))}},E=function(a){return function(c){var e=f.foldMap(f.foldableArray)(g.monoidMaybe(h.semigroupThese(A)(D)))(q.uncurry(d.flip(ca)(a)))(b.mapMaybe(function(a){return a instanceof v.Query?new g.Just(new q.Tuple(a.value0,a.value1)):g.Nothing.value})(c)),
m=U(a)(b.mapMaybe(function(a){return a instanceof v.Property?new g.Just(new q.Tuple(a.value0,a.value1)):g.Nothing.value})(c)),k=f.foldMap(f.foldableArray)(g.monoidMaybe(h.semigroupThese(A)(D)))(function(a){return d["<>"](g.semigroupMaybe(h.semigroupThese(A)(D)))(a)(g.Just.create(h.That.create("\n")))})(d["<$>"](d.functorArray)(q.uncurry(function(c){return E(b[":"](c)(a))}))(b.mapMaybe(function(a){return a instanceof v.Nested?new g.Just(new q.Tuple(a.value0,a.value1)):g.Nothing.value})(c))),n=f.foldMap(f.foldableArray)(g.monoidMaybe(h.semigroupThese(A)(D)))(z)(b.mapMaybe(function(a){return a instanceof
v.Keyframe?new g.Just(a.value0):g.Nothing.value})(c)),l=f.foldMap(f.foldableArray)(g.monoidMaybe(h.semigroupThese(A)(D)))(I)(b.mapMaybe(function(a){return a instanceof v.Import?new g.Just(a.value0):g.Nothing.value})(c));c=f.foldMap(f.foldableArray)(g.monoidMaybe(h.semigroupThese(A)(D)))(da)(b.mapMaybe(function(a){return a instanceof v.Face?new g.Just(a.value0):g.Nothing.value})(c));return d["<>"](g.semigroupMaybe(h.semigroupThese(A)(D)))(m)(d["<>"](g.semigroupMaybe(h.semigroupThese(A)(D)))(l)(d["<>"](g.semigroupMaybe(h.semigroupThese(A)(D)))(n)(d["<>"](g.semigroupMaybe(h.semigroupThese(A)(D)))(c)(d["<>"](g.semigroupMaybe(h.semigroupThese(A)(D)))(k)(e)))))}},
ca=function(a){return function(b){return function(c){return g.Just.create(h.That.create(n(R(a)+(" { "+(g.fromMaybe("")(T(E(b)(c)))+" }\n")))))}}},z=function(a){return g.Just.create(h.That.create(n("@-webkit-keyframes "+(a.value0+(" { "+(f.intercalate(l.foldableNonEmpty(f.foldableArray))(k.monoidString)(" ")(d["<$>"](l.functorNonEmpty(d.functorArray))(q.uncurry(Z))(a.value1))+" }\n"))))))},Z=function(a){return function(b){b=g.fromMaybe("")(N(E([])(b)));return d.show(d.showNumber)(a)+("% { "+(b+" }"))}},
da=function(a){return g.Just.create(h.That.create(n("@font-face { "+(g.fromMaybe("")(N(E([])(a)))+" }\n"))))};a.Sheet=n;a.Inline=C;a.nel=L;a.predicate=H;a.merger=G;a.properties=u;a.collect=ea;a.sepWith=B;a.selector=x;a.imp=I;a.rules=E;a.face=da;a.feature=fa;a.mediaType=y;a.mediaQuery=R;a.frame=Z;a.kframe=z;a.render=function(a){return E([])(v.runS(a))};a.renderedSheet=T;a.renderedInline=N;a.getSheet=Q;a.getInline=J;a.semigroupInline=A;a.semigroupFile=D})(c["CSS.Render"]=c["CSS.Render"]||{});(function(a){var d=
c["CSS.Property"],b=c["CSS.String"],e=c["CSS.Stylesheet"],f=new d.Val(function(a){return a}),d=e.key(f)(b.fromString(d.isStringKey)("transform"));a.Transformation=function(a){return a};a.transform=d;a.valTransformation=f})(c["CSS.Transform"]=c["CSS.Transform"]||{});(function(a){var d=c.Prelude,b=function(a){return function(b){return function(c){return d[">>="](a)(c)(b)}}};a["<=<"]=function(a){return function(c){return function(d){return function(k){return b(a)(c)(d(k))}}}};a[">=>"]=function(a){return function(b){return function(c){return function(k){return d[">>="](a)(b(k))(c)}}}}})(c["Control.Bind"]=
c["Control.Bind"]||{});(function(a){var d=c.Prelude;a.when=function(a){return function(c){return function(f){if(c)return f;if(!c)return d["return"](a["__superclass_Prelude.Applicative_0"]())(d.unit);throw Error("Failed pattern match at Control.Monad line 8, column 1 - line 9, column 1: "+[c.constructor.name,f.constructor.name]);}}}})(c["Control.Monad"]=c["Control.Monad"]||{});(function(a){a._makeAff=function(a){return function(b,c){return a(function(a){return function(){c(a)}})(function(a){return function(){try{b(a)}catch(d){c(d)}}})()}};
a._pure=function(a,b){return function(c,f){try{c(b)}catch(g){f(g)}return a}};a._throwError=function(a,b){return function(c,f){f(b);return a}};a._fmap=function(a,b){return function(c,f){return b(function(b){try{c(a(b))}catch(k){f(k)}},f)}};a._bind=function(a,b,c){return function(f,g){var k,l,h=!1,q=!1,r=function(){};k=b(function(b){if(q)return h=!0,a;l=c(b)(f,g);r(l);return l},g);return function(a){return function(b,c){q=!0;return void 0!==l?l(a)(b,c):k(a)(function(d){if(d||h)try{b(!0)}catch(e){c(e)}else r=
function(d){d(a)(b,c)}},c)}}}};a._attempt=function(a,b,c){return function(f,g){return c(function(a){try{f(b(a))}catch(c){g(c)}},function(b){try{f(a(b))}catch(c){g(c)}})}};a._runAff=function(a,b,c){return function(){return c(function(c){try{b(c)()}catch(e){a(e)()}},function(b){a(b)()})}};a._liftEff=function(a,b){return function(c,f){try{c(b())}catch(g){f(g)}return a}}})(c["Control.Monad.Aff"]=c["Control.Monad.Aff"]||{});(function(a){a.showErrorImpl=function(a){return a.stack||a.toString()};a.error=
function(a){return Error(a)};a.throwException=function(a){return function(){throw a;}};a.catchException=function(a){return function(b){return function(){try{return b()}catch(c){return c instanceof Error||"[object Error]"===Object.prototype.toString.call(c)?a(c)():a(Error(c.toString()))()}}}}})(c["Control.Monad.Eff.Exception"]=c["Control.Monad.Eff.Exception"]||{});(function(a){var d=c["Control.Monad.Eff.Exception"],b=new c.Prelude.Show(d.showErrorImpl);a.showError=b;a.catchException=d.catchException;
a.throwException=d.throwException;a.error=d.error})(c["Control.Monad.Eff.Exception"]=c["Control.Monad.Eff.Exception"]||{});(function(a){var d=c["Control.Monad.Aff"],b=c.Prelude,e=c["Control.Monad.Eff"],f=c["Control.Monad.Eff.Class"],g=c["Control.Monad.Error.Class"],k=c["Data.Either"],l=function(a){return d._makeAff(a)},h=new b.Functor(function(a){return function(b){return d._fmap(a,b)}}),q=function(a){return d._attempt(k.Left.create,k.Right.create,a)},r=new b.Apply(function(){return h},function(a){return function(c){return d._bind(v,
a,function(a){return b["<$>"](h)(a)(c)})}}),m=new b.Applicative(function(){return r},function(a){return d._pure(p,a)}),p=b["const"](b.pure(m)(!1)),v=b["const"](b.pure(m)(!0)),t=new b.Bind(function(){return r},function(a){return function(b){return d._bind(v,a,b)}}),n=new b.Monad(function(){return m},function(){return t}),f=new f.MonadEff(function(){return n},function(a){return d._liftEff(p,a)}),g=new g.MonadError(function(){return n},function(a){return function(c){return b[">>="](t)(q(a))(k.either(c)(b.pure(m)))}},
function(a){return d._throwError(p,a)});a.runAff=function(a){return function(b){return function(c){return d._runAff(a,b,c)}}};a.nonCanceler=p;a["makeAff'"]=l;a.makeAff=function(a){return l(function(c){return function(d){return b["<$>"](e.functorEff)(b["const"](p))(a(c)(d))}})};a.attempt=q;a.functorAff=h;a.applyAff=r;a.applicativeAff=m;a.bindAff=t;a.monadAff=n;a.monadEffAff=f;a.monadErrorAff=g})(c["Control.Monad.Aff"]=c["Control.Monad.Aff"]||{});(function(a){a.log=function(a){return function(){console.log(a);
return{}}}})(c["Control.Monad.Eff.Console"]=c["Control.Monad.Eff.Console"]||{});(function(a){var d=c["Control.Monad.Eff.Console"],b=c.Prelude;a.print=function(a){return function(c){return d.log(b.show(a)(c))}};a.log=d.log})(c["Control.Monad.Eff.Console"]=c["Control.Monad.Eff.Console"]||{});(function(a){a.newRef=function(a){return function(){return{value:a}}};a.readRef=function(a){return function(){return a.value}};a.writeRef=function(a){return function(b){return function(){a.value=b;return{}}}}})(c["Control.Monad.Eff.Ref"]=
c["Control.Monad.Eff.Ref"]||{});(function(a){var d=c["Control.Monad.Eff.Ref"];a.writeRef=d.writeRef;a.readRef=d.readRef;a.newRef=d.newRef})(c["Control.Monad.Eff.Ref"]=c["Control.Monad.Eff.Ref"]||{});(function(a){var d=c.Prelude,b=c["Data.Tuple"],e=c["Control.Monad.State.Class"],f=function(a){return a},g=function(a){return a},k=function(a){return new d.Monad(function(){return r(a)},function(){return h(a)})},l=function(a){return new d.Functor(d.liftM1(k(a)))},h=function(a){return new d.Bind(function(){return q(a)},
function(b){return function(c){return function(e){return d.bind(a["__superclass_Prelude.Bind_1"]())(b(e))(function(a){return g(c(a.value0))(a.value1)})}}})},q=function(a){return new d.Apply(function(){return l(a)},d.ap(k(a)))},r=function(a){return new d.Applicative(function(){return q(a)},function(c){return f(function(e){return d["return"](a["__superclass_Prelude.Applicative_0"]())(new b.Tuple(c,e))})})};a.StateT=f;a.runStateT=g;a.functorStateT=l;a.applyStateT=q;a.applicativeStateT=r;a.bindStateT=
h;a.monadStateT=k;a.monadStateStateT=function(a){return new e.MonadState(function(){return k(a)},function(b){return f(function(c){return d["return"](a["__superclass_Prelude.Applicative_0"]())(b(c))})})}})(c["Control.Monad.State.Trans"]=c["Control.Monad.State.Trans"]||{});(function(a){var d=c["Control.Monad.State.Trans"],b=c["Data.Identity"],e=c["Data.Tuple"],f=function(a){return function(c){return b.runIdentity(d.runStateT(a)(c))}};a.evalState=function(a){return function(b){return e.fst(f(a)(b))}};
a.runState=f})(c["Control.Monad.State"]=c["Control.Monad.State"]||{});(function(a){a.preventDefault=function(a){return function(){return a.preventDefault()}};a.stopPropagation=function(a){return function(){return a.stopPropagation()}}})(c["DOM.Event.Event"]=c["DOM.Event.Event"]||{});(function(a){var d=c["DOM.Event.Event"];a.stopPropagation=d.stopPropagation;a.preventDefault=d.preventDefault})(c["DOM.Event.Event"]=c["DOM.Event.Event"]||{});(function(a){a.eventListener=function(a){return function(b){return a(b)()}};
a.addEventListener=function(a){return function(b){return function(c){return function(f){return function(){f.addEventListener(a,b,c);return{}}}}}}})(c["DOM.Event.EventTarget"]=c["DOM.Event.EventTarget"]||{});(function(a){var d=c["DOM.Event.EventTarget"];a.addEventListener=d.addEventListener;a.eventListener=d.eventListener})(c["DOM.Event.EventTarget"]=c["DOM.Event.EventTarget"]||{});(function(a){a.load="load"})(c["DOM.Event.EventTypes"]=c["DOM.Event.EventTypes"]||{});(function(a){a.window=function(){return window}})(c["DOM.HTML"]=
c["DOM.HTML"]||{});(function(a){a.parseJSONImpl=function(a,b,c){try{return b(JSON.parse(c))}catch(f){return a(f.toString())}};a.toForeign=function(a){return a};a.unsafeFromForeign=function(a){return a};a.typeOf=function(a){return typeof a};a.tagOf=function(a){return Object.prototype.toString.call(a).slice(8,-1)};a.isNull=function(a){return null===a};a.isUndefined=function(a){return void 0===a};a.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}})(c["Data.Foreign"]=
c["Data.Foreign"]||{});(function(a){a.fromNumberImpl=function(a){return function(b){return function(c){return(c|0)===c?a(c):b}}};a.toNumber=function(a){return a}})(c["Data.Int"]=c["Data.Int"]||{});(function(a){a.ceil=Math.ceil;a.floor=Math.floor;a.max=function(a){return function(b){return Math.max(a,b)}};a.min=function(a){return function(b){return Math.min(a,b)}};a.pow=function(a){return function(b){return Math.pow(a,b)}}})(c.Math=c.Math||{});(function(a){var d=c.Math;a.pow=d.pow;a.min=d.min;a.max=
d.max;a.floor=d.floor;a.ceil=d.ceil})(c.Math=c.Math||{});(function(a){var d=c["Data.Int"],b=c.Prelude,e=c["Data.Maybe"],f=c["Data.Maybe.Unsafe"],g=c.Math,k=d.fromNumberImpl(e.Just.create)(e.Nothing.value),l=function(a){if(a>=d.toNumber(b.top(b.boundedInt)))return b.top(b.boundedInt);if(a<=d.toNumber(b.bottom(b.boundedInt)))return b.bottom(b.boundedInt);if(b.otherwise)return f.fromJust(k(a));throw Error("Failed pattern match at Data.Int line 48, column 1 - line 49, column 1: "+[a.constructor.name]);
};a.floor=function(a){return l(g.floor(a))};a.ceil=function(a){return l(g.ceil(a))};a.fromNumber=k;a.toNumber=d.toNumber})(c["Data.Int"]=c["Data.Int"]||{});(function(a){var d=c["Data.Foreign"],b=c.Prelude,e=c["Data.Either"],f=c["Data.Maybe"],g=c["Data.Int"],k=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),l=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};
return a}(),h=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),r=function(a){return function(c){return b["=="](b.eqString)(d.tagOf(c))(a)?b.pure(e.applicativeEither)(d.unsafeFromForeign(c)):new e.Left(new k(a,d.tagOf(c)))}},m=new b.Show(function(a){if(a instanceof k)return"Type mismatch: expected "+(a.value0+(", found "+a.value1));
if(a instanceof l)return"Error at array index "+(b.show(b.showInt)(a.value0)+(": "+b.show(m)(a.value1)));if(a instanceof h)return"Error at property "+(b.show(b.showString)(a.value0)+(": "+b.show(m)(a.value1)));if(a instanceof q)return"JSON error: "+a.value0;throw Error("Failed pattern match: "+[a.constructor.name]);}),p=r("String"),v=r("Number");a.TypeMismatch=k;a.ErrorAtIndex=l;a.ErrorAtProperty=h;a.JSONError=q;a.readArray=function(a){return d.isArray(a)?b.pure(e.applicativeEither)(d.unsafeFromForeign(a)):
new e.Left(new k("array",d.tagOf(a)))};a.readInt=function(a){var c=e.Left.create(new k("Int",d.tagOf(a)));return e.either(b["const"](c))(function(a){return f.maybe(c)(b.pure(e.applicativeEither))(g.fromNumber(a))})(v(a))};a.readNumber=v;a.readString=p;a.unsafeReadTagged=r;a.parseJSON=function(a){return d.parseJSONImpl(function(a){return e.Left.create(q.create(a))},e.Right.create,a)};a.showForeignError=m;a.isUndefined=d.isUndefined;a.isNull=d.isNull;a.typeOf=d.typeOf;a.toForeign=d.toForeign})(c["Data.Foreign"]=
c["Data.Foreign"]||{});(function(a){a.unsafeReadPropImpl=function(a,b,c,f){return null==f?a:b(f[c])};a.unsafeHasOwnProperty=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)};a.unsafeHasProperty=function(a,b){return a in b}})(c["Data.Foreign.Index"]=c["Data.Foreign.Index"]||{});(function(a){var d=c["Data.Foreign.Index"],b=c.Prelude,e=c["Data.Either"],f=c["Data.Foreign"],g=function(a,b,c,d){this.errorAt=a;this.hasOwnProperty=b;this.hasProperty=c;this.ix=d},k=function(a){return function(c){return d.unsafeReadPropImpl(new e.Left(new f.TypeMismatch("object",
f.typeOf(c))),b.pure(e.applicativeEither),a,c)}},l=new g(f.ErrorAtProperty.create,function(a){return function(c){return f.isNull(c)||f.isUndefined(c)?!1:b["=="](b.eqString)(f.typeOf(c))("object")||b["=="](b.eqString)(f.typeOf(c))("function")?d.unsafeHasOwnProperty(a,c):!1}},function(a){return function(c){return f.isNull(c)||f.isUndefined(c)?!1:b["=="](b.eqString)(f.typeOf(c))("object")||b["=="](b.eqString)(f.typeOf(c))("function")?d.unsafeHasProperty(a,c):!1}},b.flip(k));a.Index=g;a.errorAt=function(a){return a.errorAt};
a.hasOwnProperty=function(a){return a.hasOwnProperty};a.hasProperty=function(a){return a.hasProperty};a["!"]=function(a){return a.ix};a.ix=function(a){return a.ix};a.prop=k;a.indexString=l})(c["Data.Foreign.Index"]=c["Data.Foreign.Index"]||{});(function(a){var d=c.Prelude,b=c["Data.Maybe"],e=c["Data.Foreign"],f=c["Data.Either"],g=function(a){return a};a.Null=g;a.readNull=function(a){return function(c){return e.isNull(c)?d.pure(f.applicativeEither)(b.Nothing.value):d["<$>"](f.functorEither)(function(a){return g(b.Just.create(a))})(a(c))}};
a.runNull=function(a){return a}})(c["Data.Foreign.Null"]=c["Data.Foreign.Null"]||{});(function(a){var d=c.Prelude,b=c["Data.Either"],e=c["Data.Foreign"],f=c["Data.Foreign.Index"],g=function(a){this.read=a},k=new g(e.readString),l=function(a){return function(c){return function(d){return b.either(function(a){return b.Left.create(c(a))})(b.Right.create)((0,a.read)(d))}}},h=new g(e.readNumber),e=new g(e.readInt),q=new g(function(a){return d["return"](b.applicativeEither)(a)});a.IsForeign=g;a.readProp=
function(a){return function(c){return function(e){return function(g){return d[">>="](b.bindEither)(f["!"](c)(g)(e))(l(a)(f.errorAt(c)(e)))}}}};a.readWith=l;a.read=function(a){return a.read};a.foreignIsForeign=q;a.stringIsForeign=k;a.numberIsForeign=h;a.intIsForeign=e})(c["Data.Foreign.Class"]=c["Data.Foreign.Class"]||{});(function(a){a.unsafeCoerce=function(a){return a}})(c["Unsafe.Coerce"]=c["Unsafe.Coerce"]||{});(function(a){a.unsafeCoerce=c["Unsafe.Coerce"].unsafeCoerce})(c["Unsafe.Coerce"]=c["Unsafe.Coerce"]||
{});(function(a){var d=c["Unsafe.Coerce"],b=d.unsafeCoerce,e=d.unsafeCoerce;a.htmlElementToNode=d.unsafeCoerce;a.htmlDocumentToNonElementParentNode=e;a.windowToEventTarget=b})(c["DOM.HTML.Types"]=c["DOM.HTML.Types"]||{});(function(a){a.window=c["DOM.HTML"].window})(c["DOM.HTML"]=c["DOM.HTML"]||{});(function(a){a.body=function(a){return function(){return a.body}}})(c["DOM.HTML.Document"]=c["DOM.HTML.Document"]||{});(function(a){a["null"]=null;a.nullable=function(a,b,c){return null==a?b:c(a)};a.notNull=
function(a){return a}})(c["Data.Nullable"]=c["Data.Nullable"]||{});(function(a){var d=c["Data.Nullable"],b=c["Data.Maybe"],e=b.maybe(d["null"])(d.notNull);a.toNullable=e;a.toMaybe=function(a){return d.nullable(a,b.Nothing.value,b.Just.create)}})(c["Data.Nullable"]=c["Data.Nullable"]||{});(function(a){a.body=c["DOM.HTML.Document"].body})(c["DOM.HTML.Document"]=c["DOM.HTML.Document"]||{});(function(a){a.document=function(a){return function(){return a.document}}})(c["DOM.HTML.Window"]=c["DOM.HTML.Window"]||
{});(function(a){a.document=c["DOM.HTML.Window"].document})(c["DOM.HTML.Window"]=c["DOM.HTML.Window"]||{});(function(a){a.appendChild=function(a){return function(b){return function(){return b.appendChild(a)}}}})(c["DOM.Node.Node"]=c["DOM.Node.Node"]||{});(function(a){a.appendChild=c["DOM.Node.Node"].appendChild})(c["DOM.Node.Node"]=c["DOM.Node.Node"]||{});(function(a){a.getElementById=function(a){return function(b){return function(){return b.getElementById(a)}}}})(c["DOM.Node.NonElementParentNode"]=
c["DOM.Node.NonElementParentNode"]||{});(function(a){a.getElementById=c["DOM.Node.NonElementParentNode"].getElementById})(c["DOM.Node.NonElementParentNode"]=c["DOM.Node.NonElementParentNode"]||{});(function(a){a.runSTArray=function(a){return a};a.emptySTArray=function(){return[]};a.pushAllSTArray=function(a){return function(b){return function(){return a.push.apply(a,b)}}}})(c["Data.Array.ST"]=c["Data.Array.ST"]||{});(function(a){var d=c["Data.Array.ST"];a.pushSTArray=function(a){return function(c){return d.pushAllSTArray(a)([c])}};
a.emptySTArray=d.emptySTArray;a.runSTArray=d.runSTArray})(c["Data.Array.ST"]=c["Data.Array.ST"]||{});(function(a){a.Contravariant=function(a){this.cmap=a};a.cmap=function(a){return a.cmap}})(c["Data.Functor.Contravariant"]=c["Data.Functor.Contravariant"]||{});(function(a){var d=new c.Prelude.Functor(function(a){return function(a){return a}});a.Const=function(a){return a};a.getConst=function(a){return a};a.functorConst=d})(c["Data.Const"]=c["Data.Const"]||{});(function(a){a.mkExists=function(a){return a};
a.runExists=function(a){return function(b){return a(b)}}})(c["Data.Exists"]=c["Data.Exists"]||{});(function(a){var d=c["Data.Exists"];a.runExists=d.runExists;a.mkExists=d.mkExists})(c["Data.Exists"]=c["Data.Exists"]||{});(function(a){a.unsafeForeignProcedure=function(a){return function(b){function c(){return a.length?"return function ("+a.shift()+") { "+c()+" };":b}return Function(c(a.slice()))()}}})(c["Data.Foreign.EasyFFI"]=c["Data.Foreign.EasyFFI"]||{});(function(a){a.unsafeForeignProcedure=c["Data.Foreign.EasyFFI"].unsafeForeignProcedure})(c["Data.Foreign.EasyFFI"]=
c["Data.Foreign.EasyFFI"]||{});(function(a){var d=c.Prelude,b=c["Data.Tuple"],e=c["Data.Profunctor"],f=c["Data.Profunctor.Strong"],g=function(a){return new e.Profunctor(function(b){return function(c){return function(e){return d[">>>"](d.semigroupoidFn)(b)(d[">>>"](d.semigroupoidFn)(e)(d.map(a)(c)))}}})};a.runStar=function(a){return a};a.profunctorStar=g;a.strongStar=function(a){return new f.Strong(function(){return g(a)},function(c){return function(e){return d.map(a)(function(a){return new b.Tuple(a,
e.value1)})(c(e.value0))}},function(c){return function(e){return d.map(a)(b.Tuple.create(e.value0))(c(e.value1))}})}})(c["Data.Profunctor.Star"]=c["Data.Profunctor.Star"]||{});(function(a){var d=c["Data.Const"],b=c["Data.Profunctor.Star"];a.view=function(a){return function(c){return d.getConst(b.runStar(a(d.Const))(c))}}})(c["Data.Lens.Getter"]=c["Data.Lens.Getter"]||{});(function(a){var d=c["Data.Profunctor"],b=c["Data.Profunctor.Strong"],e=c["Data.Tuple"],f=function(a){return function(c){return function(e){return d.dimap(c["__superclass_Data.Profunctor.Profunctor_0"]())(a)(function(a){return a.value1(a.value0)})(b.first(c)(e))}}};
a.lens=function(a){return function(b){return function(c){return f(function(c){return new e.Tuple(a(c),function(a){return b(c)(a)})})(c)}}}})(c["Data.Lens.Lens"]=c["Data.Lens.Lens"]||{});(function(a){var d=c.Prelude;a.set=function(a){return function(c){return a(d["const"](c))}};a.over=function(a){return a}})(c["Data.Lens.Setter"]=c["Data.Lens.Setter"]||{});(function(a){var d=c.Prelude,b=c["Data.Maybe"],e=c["Data.Array.ST"],f=c["Control.Monad.Eff"],g=c["Control.Monad.ST"],k=function(a){this.unfoldr=
a},l=new k(function(a){return function(c){return f.runPure(e.runSTArray(function(){var k=e.emptySTArray(),m=g.newSTRef(c)();(function(){for(;!function(){var c=g.readSTRef(m)();return function(){var l=a(c);if(l instanceof b.Nothing)return d["return"](f.applicativeEff)(!0);if(l instanceof b.Just)return function(){e.pushSTArray(k)(l.value0.value0)();g.writeSTRef(m)(l.value0.value1)();return d["return"](f.applicativeEff)(!1)()};throw Error("Failed pattern match at Data.Unfoldable line 29, column 1 - line 49, column 1: "+
[l.constructor.name]);}()()}(););return{}})();return d["return"](f.applicativeEff)(k)()}))}});a.Unfoldable=k;a.unfoldr=function(a){return a.unfoldr};a.unfoldableArray=l})(c["Data.Unfoldable"]=c["Data.Unfoldable"]||{});(function(a){var d=c.Prelude,b=c["Data.Foldable"],e=c["Data.Maybe"],f=c["Data.Monoid"],g=c["Data.Tuple"],k=c["Data.Unfoldable"],l=function(){function a(){}a.value=new a;return a}(),h=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,
c)}};return a}(),q=h.create,r=function(a){if(a instanceof l)return e.Nothing.value;if(a instanceof h)return new e.Just({head:a.value0,tail:a.value1});throw Error("Failed pattern match at Data.List line 270, column 1 - line 271, column 1: "+[a.constructor.name]);},m=function(a){return k.unfoldr(a)(function(a){return d["<$>"](e.functorMaybe)(function(a){return new g.Tuple(a.head,a.tail)})(r(a))})},p=new d.Semigroup(function(a){return function(b){if(a instanceof l)return b;if(a instanceof h)return new h(a.value0,
d["<>"](p)(a.value1)(b));throw Error("Failed pattern match: "+[a.constructor.name,b.constructor.name]);}}),v=function(){return function(a){return function(b){var c=a;a:for(;;){var d=c;if(b instanceof l)return d;if(b instanceof h){c=new h(b.value0,c);b=b.value1;continue a}throw Error("Failed pattern match at Data.List line 368, column 1 - line 369, column 1: "+[c.constructor.name,b.constructor.name]);}}}(l.value)}(),t=function(){return function(a){return function(b){return function(c){var d=a,e=b;
a:for(;;){var f=d;if(0===e)return v(f);f=d;if(c instanceof l)return v(f);if(c instanceof h){d=new h(c.value0,d);--e;c=c.value1;continue a}throw Error("Failed pattern match at Data.List line 490, column 1 - line 491, column 1: "+[d.constructor.name,e.constructor.name,c.constructor.name]);}}}}(l.value)}(),n=new d.Functor(function(a){return function(b){return v(function(b){return function(c){var d=b,e=c;a:for(;;){if(d instanceof l)return e;if(d instanceof h){c=d.value1;e=new h(a(d.value0),e);d=c;continue a}throw Error("Failed pattern match at Data.List line 731, column 1 - line 738, column 1: "+
[d.constructor.name,e.constructor.name]);}}}(b)(l.value))}}),C=function(a){return b.foldr(a)(h.create)(l.value)},B=new b.Foldable(function(a){return function(c){return b.foldl(B)(function(b){return function(e){return d.append(a["__superclass_Prelude.Semigroup_0"]())(b)(c(e))}})(f.mempty(a))}},function(){return function(a){return function(b){return function(c){var d=a,e=b;a:for(;;){var f=e;if(c instanceof l)return f;if(c instanceof h){f=d;e=d(e)(c.value0);c=c.value1;d=f;continue a}throw Error("Failed pattern match: "+
[d.constructor.name,e.constructor.name,c.constructor.name]);}}}}}(),function(a){return function(c){return function(d){if(d instanceof l)return c;if(d instanceof h)return a(d.value0)(b.foldr(B)(a)(c)(d.value1));throw Error("Failed pattern match: "+[a.constructor.name,c.constructor.name,d.constructor.name]);}}}),A=function(a){return function(b){if(b instanceof l)return l.value;if(b instanceof h)return d["<>"](p)(a(b.value0))(A(a)(b.value1));throw Error("Failed pattern match: "+[a.constructor.name,b.constructor.name]);
}};a.Nil=l;a.Cons=h;a.fromList=function(a){return m(a)};a.toList=function(a){return C(a)};a.take=t;a.concatMap=A;a.reverse=v;a.findIndex=function(a){return function(b){return function(c){var f=b;a:for(;;){if(c instanceof h){if(a(c.value0))return new e.Just(f);if(d.otherwise){c=c.value1;f=f+1|0;continue a}}if(c instanceof l)return e.Nothing.value;throw Error("Failed pattern match at Data.List line 301, column 1 - line 302, column 1: "+[f.constructor.name,c.constructor.name]);}}}(0)};a.index=function(a){return function(b){var c=
a;a:for(;;){if(c instanceof l)return e.Nothing.value;if(c instanceof h&&0===b)return new e.Just(c.value0);if(c instanceof h){--b;c=c.value1;continue a}throw Error("Failed pattern match: "+[c.constructor.name,b.constructor.name]);}}};a.uncons=r;a.tail=function(a){if(a instanceof l)return e.Nothing.value;if(a instanceof h)return new e.Just(a.value1);throw Error("Failed pattern match at Data.List line 251, column 1 - line 252, column 1: "+[a.constructor.name]);};a.head=function(a){if(a instanceof l)return e.Nothing.value;
if(a instanceof h)return new e.Just(a.value0);throw Error("Failed pattern match at Data.List line 236, column 1 - line 237, column 1: "+[a.constructor.name]);};a[":"]=q;a["null"]=function(a){return a instanceof l?!0:!1};a.fromFoldable=C;a.toUnfoldable=m;a.semigroupList=p;a.functorList=n;a.foldableList=B})(c["Data.List"]=c["Data.List"]||{});(function(a){var d=c.Prelude;a.max=function(a){return function(c){return function(f){var g=d.compare(a)(c)(f);if(g instanceof d.LT)return f;if(g instanceof d.EQ||
g instanceof d.GT)return c;throw Error("Failed pattern match at Data.Ord line 67, column 1 - line 68, column 1: "+[g.constructor.name]);}}};a.min=function(a){return function(c){return function(f){var g=d.compare(a)(c)(f);if(g instanceof d.LT||g instanceof d.EQ)return c;if(g instanceof d.GT)return f;throw Error("Failed pattern match at Data.Ord line 58, column 1 - line 59, column 1: "+[g.constructor.name]);}}}})(c["Data.Ord"]=c["Data.Ord"]||{});(function(a){function c(a){return function(c){var d=[],
g;for(g in c)c.hasOwnProperty(g)&&d.push(a(g)(c[g]));return d}}a._copyEff=function(a){return function(){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c}};a.empty={};a.runST=function(a){return a};a._foldM=function(a){return function(c){return function(d){return function(g){function k(a){return function(b){return c(b)(a)(g[a])}}for(var l in g)g.hasOwnProperty(l)&&(d=a(d)(k(l)));return d}}}};a._lookup=function(a,c,d,g){return d in g?c(g[d]):a};a._collect=c;a.keys=Object.keys||c(function(a){return function(){return a}})})(c["Data.StrMap"]=
c["Data.StrMap"]||{});(function(a){a["new"]=function(){return{}};a.poke=function(a){return function(b){return function(c){return function(){a[b]=c;return a}}}}})(c["Data.StrMap.ST"]=c["Data.StrMap.ST"]||{});(function(a){var d=c["Data.StrMap.ST"];a.poke=d.poke;a["new"]=d["new"]})(c["Data.StrMap.ST"]=c["Data.StrMap.ST"]||{});(function(a){var d=c["Data.StrMap"],b=c.Prelude,e=c["Control.Monad.Eff"],f=c["Data.Foldable"],g=c["Data.Function"],k=c["Data.Maybe"],l=c["Data.Tuple"],h=c["Data.List"],q=c["Data.StrMap.ST"],
r=d._copyEff,m=function(a){return e.runPure(d.runST(a))},p=function(a){return function(c){return m(function(){var d=r(c)();a(d)();return b["return"](e.applicativeEff)(d)()})}},v=g.runFn4(d._lookup)(!1)(b["const"](!0)),g=g.runFn4(d._lookup)(k.Nothing.value)(k.Just.create),k=function(a){return function(c){return m(function(){var d=q["new"]();f.for_(e.applicativeEff)(a)(c)(function(a){return q.poke(d)(a.value0)(a.value1)})();return b["return"](e.applicativeEff)(d)()})}},t=k(h.foldableList);a.thawST=
r;a.foldM=function(a){return function(c){return function(e){return d._foldM(b[">>="](a["__superclass_Prelude.Bind_1"]()))(c)(b.pure(a["__superclass_Prelude.Applicative_0"]())(e))}}};a.values=function(a){return h.toList(f.foldableArray)(d._collect(function(a){return function(a){return a}})(a))};a.member=v;a.fromList=t;a.fromFoldable=k;a.toList=function(a){return h.toList(f.foldableArray)(d._collect(l.Tuple.create)(a))};a.lookup=g;a.insert=function(a){return function(b){return p(function(c){return q.poke(c)(a)(b)})}};
a.keys=d.keys;a.empty=d.empty})(c["Data.StrMap"]=c["Data.StrMap"]||{});(function(a){a.readFloat=parseFloat})(c.Global=c.Global||{});(function(a){a.readFloat=c.Global.readFloat})(c.Global=c.Global||{});(function(a){var c=new AudioContext,b=null;a._readFromAudioGraph=function(){b||(b={rnodes:[],graph:[]});return b};a._writeToAudioGraph=function(a){return function(){b=a}};a.getAudioGraphContext=function(){return c}})(c["Sound.AudioGraph.Core"]=c["Sound.AudioGraph.Core"]||{});(function(a){a.getAudioContextSampleRate=
function(a){return function(){return a.sampleRate}};a.decodeAudioData=function(a){return function(b){return function(c){return function(f){return function(){console.log("[webaudio] decodedAudioData decoding ");return b.decodeAudioData(a,function(a){console.log("[webaudio] decodedAudioData successed ");f(a)()},function(a){console.log("[webaudio] decodedAudioData failed ");c(a)()})}}}}};a.getDestinationNode=function(a){return function(){console.log("[webaudio] getDestinationNode ");return a.destination}};
a.connect=function(a){return function(b){return function(c){return function(f){return function(){a.connect(b,c,f);console.log("[webaudio] connect "+a+"["+c+"] - "+b+"["+f+"]")}}}}};a.disconnect=function(a){return function(b){return function(c){return function(f){return function(){a.disconnect(b,c,f);console.log("[webaudio] disconnect "+a+"["+c+"] - "+b+"["+f+"]")}}}}};a.currentTime=function(a){return function(){return a.currentTime}};a.getChannelData=function(a){return function(b){return b.getChannelData(a)}};
a.audioBufferLength=function(a){return a.length};a.sampleRate=function(a){return a.sampleRate};a.createOfflineAudioContext=function(a){return function(b){return function(c){return function(){return new OfflineAudioContext(a,b,c)}}}};a._startRendering=function(a){return function(b){return function(c){return function(){a.oncomplete=function(a){a.renderedBuffer.getChannelData(0);c(a.renderedBuffer)()};a.onerror=function(a){b(a)()};a.startRendering()}}}}})(c["WebAudio.Core"]=c["WebAudio.Core"]||{});(function(a){var d=
c["WebAudio.Core"],b=c.Prelude,e=c["Unsafe.Coerce"],f=c["Data.Traversable"],g=c["Data.Either"],k=c["Data.Foreign"],l=c["Data.Foreign.Class"],h=c["Control.Monad.Aff"],q=c["Data.Foreign.Index"],r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),m=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),p=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,
c)}};return a}(),v=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),t=function(){function a(b,c,d){this.value0=b;this.value1=c;this.value2=d}a.create=function(b){return function(c){return function(d){return new a(b,c,d)}}};return a}(),n=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),e=e.unsafeCoerce,C=new l.IsForeign(function(a){return b.bind(g.bindEither)(k.readNumber(a))(function(a){return b.pure(g.applicativeEither)(a)})}),
B=new l.IsForeign(function(a){return b.bind(g.bindEither)(l.readProp(l.stringIsForeign)(q.indexString)("type")(a))(function(c){return"ConstantValue"===c?b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("value")(a))(function(a){return b.pure(g.applicativeEither)(new r(a))}):"SetValueAtTime"===c?b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("value")(a))(function(c){return b.bind(g.bindEither)(l.readProp(C)(q.indexString)("time")(a))(function(a){return b.pure(g.applicativeEither)(new m(c,
a))})}):"LinearRampToValueAtTime"===c?b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("value")(a))(function(c){return b.bind(g.bindEither)(l.readProp(C)(q.indexString)("time")(a))(function(a){return b.pure(g.applicativeEither)(new p(c,a))})}):"ExponentialRampToValueAtTime"===c?b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("value")(a))(function(c){return b.bind(g.bindEither)(l.readProp(C)(q.indexString)("time")(a))(function(a){return b.pure(g.applicativeEither)(new v(c,
a))})}):"SetTargetAtTime"===c?b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("value")(a))(function(c){return b.bind(g.bindEither)(l.readProp(C)(q.indexString)("time")(a))(function(d){return b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("constant")(a))(function(a){return b.pure(g.applicativeEither)(new t(c,d,a))})})}):"SetValueCurveAtTime"===c?b.bind(g.bindEither)(l.readProp(l.numberIsForeign)(q.indexString)("value")(a))(function(c){return b.bind(g.bindEither)(l.readProp(C)(q.indexString)("time")(a))(function(a){return b.pure(g.applicativeEither)(new n(c,
a))})}):new g.Left(new k.JSONError("Unknown AudioParam type: "+c))})}),A=function(a){if(a instanceof r)return k.toForeign({type:"ConstantValue",value:a.value0});if(a instanceof m)return k.toForeign({type:"SetValueAtTime",value:a.value0,time:a.value1});if(a instanceof p)return k.toForeign({type:"LinearRampToValueAtTime",value:a.value0,time:a.value1});if(a instanceof v)return k.toForeign({type:"ExponentialRampToValueAtTime",value:a.value0,time:a.value1});if(a instanceof t)return k.toForeign({type:"SetTargetAtTime",
value:a.value0,time:a.value1,constant:a.value2});if(a instanceof n)return k.toForeign({type:"SetValueCurveAtTime",value:a.value0,time:a.value1});throw Error("Failed pattern match at WebAudio.Core line 104, column 1 - line 105, column 1: "+[a.constructor.name]);};a.ConstantValue=r;a.SetValueAtTime=m;a.LinearRampToValueAtTime=p;a.ExponentialRampToValueAtTime=v;a.SetTargetAtTime=t;a.SetValueCurveAtTime=n;a.AudioTime=function(a){return a};a.startRendering=function(a){return h.makeAff(d._startRendering(a))};
a.offlineAudioContextToAudioContext=e;a.audioParamToForeign=A;a.audioParamsToForeign=function(a){return k.toForeign(b.map(b.functorArray)(A)(a))};a.readAudioParams=function(a){return b[">>="](g.bindEither)(k.readArray(a))(f.traverse(f.traversableArray)(g.applicativeEither)(l.read(B)))};a.decodeAudioFile=function(a){return function(b){return h.makeAff(d.decodeAudioData(a)(b))}};a.isForeign_AudioTime=C;a.isForeign_AudioParam=B;a.createOfflineAudioContext=d.createOfflineAudioContext;a.audioBufferLength=
d.audioBufferLength;a.currentTime=d.currentTime;a.getDestinationNode=d.getDestinationNode;a.getAudioContextSampleRate=d.getAudioContextSampleRate;a.disconnect=d.disconnect;a.connect=d.connect})(c["WebAudio.Core"]=c["WebAudio.Core"]||{});(function(a){a.createGain=function(a){return function(){console.log("[webaudio] createGain");return a.createGain()}};a._setGain=function(a){return function(b){return function(){b.gain.value=a}}};a.getGainAudioParam=function(a){return function(){return a.gain}};a.linearRampToValueAtTime=
function(a){return function(b){return function(c){return function(){c.linearRampToValueAtTime(a,b)}}}};a.exponentialRampToValueAtTime=function(a){return function(b){return function(c){return function(){c.exponentialRampToValueAtTime(a,b)}}}};a.setTargetAtTime=function(a){return function(b){return function(c){return function(f){return function(){f.setTargetAtTime(a,b,c)}}}}}})(c["WebAudio.Gain"]=c["WebAudio.Gain"]||{});(function(a){var d=c["WebAudio.Gain"],b=c.Prelude,e=c["Data.Foldable"],f=c["Data.Foreign"],
g=c["Data.Foreign.Class"],k=c["Control.Monad.Eff"],l=c["WebAudio.Core"],h=c["Data.Either"],q=c["Data.Foreign.Index"],r=c["Unsafe.Coerce"].unsafeCoerce;a.readGainParams=function(a){return b.bind(h.bindEither)(b[">>="](h.bindEither)(g.readProp(g.foreignIsForeign)(q.indexString)("gain")(a))(l.readAudioParams))(function(a){return b.pure(h.applicativeEither)({gain:a})})};a.writeGainParams=function(a){return f.toForeign({gain:l.audioParamsToForeign(a.gain)})};a.gainToAudioNode=r;a.setGain=function(a){return function(c){return e.for_(k.applicativeEff)(e.foldableArray)(a)(function(a){return a instanceof
l.ConstantValue?d._setGain(a.value0)(c):a instanceof l.LinearRampToValueAtTime?function(){var b=d.getGainAudioParam(c)();return d.linearRampToValueAtTime(a.value0)(a.value1)(b)()}:a instanceof l.ExponentialRampToValueAtTime?function(){var b=d.getGainAudioParam(c)();return d.exponentialRampToValueAtTime(a.value0)(a.value1)(b)()}:a instanceof l.SetTargetAtTime?function(){var b=d.getGainAudioParam(c)();return d.setTargetAtTime(a.value0)(a.value1)(a.value2)(b)()}:b.pure(k.applicativeEff)(b.unit)})}};
a.createGain=d.createGain})(c["WebAudio.Gain"]=c["WebAudio.Gain"]||{});(function(a){a.createDelay=function(a){return function(){console.log("[webaudio] createDelay");return a.createDelay()}};a._setDelayTime=function(a){return function(b){return function(){b.delayTime.value=a}}}})(c["WebAudio.Delay"]=c["WebAudio.Delay"]||{});(function(a){var d=c["WebAudio.Delay"],b=c.Prelude,e=c["Data.Foldable"],f=c["Data.Foreign"],g=c["Data.Foreign.Class"],k=c["Control.Monad.Eff"],l=c["WebAudio.Core"],h=c["Data.Either"],
q=c["Data.Foreign.Index"];a.writeDelayParams=function(a){return f.toForeign({delayTime:l.audioParamsToForeign(a.delayTime)})};a.readDelayParams=function(a){return b.bind(h.bindEither)(b[">>="](h.bindEither)(g.readProp(g.foreignIsForeign)(q.indexString)("delayTime")(a))(l.readAudioParams))(function(a){return b.pure(h.applicativeEither)({delayTime:a})})};a.setDelayTime=function(a){return function(c){return e.for_(k.applicativeEff)(e.foldableArray)(a)(function(a){return a instanceof l.ConstantValue?
d._setDelayTime(a.value0)(c):b.pure(k.applicativeEff)(b.unit)})}};a.createDelay=d.createDelay})(c["WebAudio.Delay"]=c["WebAudio.Delay"]||{});(function(a){a.createBufferSource=function(a){return function(b){return function(){console.log("[webaudio] createBufferSource ");var c=b.createBufferSource(a);c.buffer=a;return c}}};a.startAudioBufferSource=function(a){return function(b){return function(c){return function(f){return function(){null!=a&&null!=b&&null!=c?f.start(a,b,f):null!=a&&null!=b?f.start(a,
b):null!=a?f.start(a):f.start()}}}}};a.detune=function(a){return function(b){return function(){b.detune.value=a}}}})(c["WebAudio.AudioBufferSource"]=c["WebAudio.AudioBufferSource"]||{});(function(a){var d=c["WebAudio.AudioBufferSource"];a.audioBufferSourceToAudioNode=c["Unsafe.Coerce"].unsafeCoerce;a.detune=d.detune;a.startAudioBufferSource=d.startAudioBufferSource;a.createBufferSource=d.createBufferSource})(c["WebAudio.AudioBufferSource"]=c["WebAudio.AudioBufferSource"]||{});(function(a){a.createBiquadFilter=
function(a){return function(){return a.createBiquadFilter()}};a.biquadFilterToAudioNode=function(a){return a};a._setBiquadFilterType=function(a){return function(b){return function(){b.type=a}}}})(c["WebAudio.BiquadFilter"]=c["WebAudio.BiquadFilter"]||{});(function(a){var d=c["WebAudio.BiquadFilter"],b=c.Prelude,e=c["Data.Either"],f=c["Data.Foreign"],g=c["Data.Foreign.Class"],k=c["Data.Foreign.Index"],l=function(){function a(){}a.value=new a;return a}(),h=function(){function a(){}a.value=new a;return a}(),
q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),m=function(){function a(){}a.value=new a;return a}(),p=function(){function a(){}a.value=new a;return a}(),v=function(){function a(){}a.value=new a;return a}(),t=function(){function a(){}a.value=new a;return a}(),n=new b.Show(function(a){if(a instanceof l)return"lowpass";if(a instanceof h)return"highpass";if(a instanceof q)return"bandpass";if(a instanceof r)return"lowshelf";if(a instanceof m)return"highshelf";
if(a instanceof p)return"peaking";if(a instanceof v)return"notch";if(a instanceof t)return"allpass";throw Error("Failed pattern match at WebAudio.BiquadFilter line 41, column 1 - line 51, column 1: "+[a.constructor.name]);}),C=function(a){return"lowpass"===a?new e.Right(l.value):"highpass"===a?new e.Right(h.value):"bandpass"===a?new e.Right(q.value):"lowshelf"===a?new e.Right(r.value):"highshelf"===a?new e.Right(m.value):"peaking"===a?new e.Right(p.value):"notch"===a?new e.Right(v.value):"allpass"===
a?new e.Right(t.value):e.Left.create(new f.JSONError(a))},B=new g.IsForeign(function(a){return b.bind(e.bindEither)(f.readString(a))(function(a){return C(a)})}),A=new b.Eq(function(a){return function(c){return b["=="](b.eqString)(b.show(n)(a))(b.show(n)(c))}}),D=[l.value,h.value,q.value,r.value,m.value,p.value,v.value,t.value];a.Lowpass=l;a.Highpass=h;a.Bandpass=q;a.Lowshelf=r;a.Highshelf=m;a.Peaking=p;a.Notch=v;a.Allpass=t;a.foreignToBiquadFilterParams=function(a){return b["<*>"](e.applyEither)(b["<*>"](e.applyEither)(b["<*>"](e.applyEither)(b["<*>"](e.applyEither)(b["<$>"](e.functorEither)(function(a){return function(b){return function(c){return function(d){return function(e){return{type:a,
frequency:b,detune:c,q:d,gain:e}}}}}})(g.readProp(B)(k.indexString)("type")(a)))(g.readProp(g.numberIsForeign)(k.indexString)("frequency")(a)))(g.readProp(g.numberIsForeign)(k.indexString)("detune")(a)))(g.readProp(g.numberIsForeign)(k.indexString)("q")(a)))(g.readProp(g.numberIsForeign)(k.indexString)("gain")(a))};a.biquadFilterParamsToForeign=function(a){return f.toForeign({type:b.show(n)(a.type),frequency:a.frequency,detune:a.detune,q:a.q,gain:a.gain})};a.enumBiquadFilterType=D;a.readBiquadFilterType=
C;a.setBiquadFilterType=function(a){return function(c){return d._setBiquadFilterType(b.show(n)(a))(c)}};a.isForeign_BiquadFilterType=B;a.show_BiquadFilterType=n;a.eq_BiquadFilterType=A;a.biquadFilterToAudioNode=d.biquadFilterToAudioNode;a.createBiquadFilter=d.createBiquadFilter})(c["WebAudio.BiquadFilter"]=c["WebAudio.BiquadFilter"]||{});(function(a){a.createMediaElementSource=function(a){return function(b){return function(){if(a["PS.WebAudio.createMediaElementSource"])return a["PS.WebAudio.createMediaElementSource"];
var c=b.createMediaElementSource(a);return a["PS.WebAudio.createMediaElementSource"]=c}}};a.mediaElementSourceToAudioNode=function(a){return a}})(c["WebAudio.MediaElementSource"]=c["WebAudio.MediaElementSource"]||{});(function(a){var d=c["WebAudio.MediaElementSource"];a.mediaElementSourceToAudioNode=d.mediaElementSourceToAudioNode;a.createMediaElementSource=d.createMediaElementSource})(c["WebAudio.MediaElementSource"]=c["WebAudio.MediaElementSource"]||{});(function(a){a.createStereoPanner=function(a){return function(){console.log("[webaudio] createStereoPanner");
return a.createStereoPanner()}};a._setPan=function(a){return function(b){return function(){b.pan.value=a}}}})(c["WebAudio.StereoPanner"]=c["WebAudio.StereoPanner"]||{});(function(a){var d=c["WebAudio.StereoPanner"],b=c.Prelude,e=c["Data.Foldable"],f=c["Control.Monad.Eff"],g=c["WebAudio.Core"];a.setPan=function(a){return function(c){return e.for_(f.applicativeEff)(e.foldableArray)(a)(function(a){return a instanceof g.ConstantValue?d._setPan(a.value0)(c):b.pure(f.applicativeEff)(b.unit)})}};a.createStereoPanner=
d.createStereoPanner})(c["WebAudio.StereoPanner"]=c["WebAudio.StereoPanner"]||{});(function(a){a.createConvolver=function(a){return function(){return a.createConvolver()}};a.setBuffer=function(a){return function(b){return function(){b.buffer!=a&&(b.buffer=a)}}}})(c["WebAudio.Convolver"]=c["WebAudio.Convolver"]||{});(function(a){var d=c["WebAudio.Convolver"];a.setBuffer=d.setBuffer;a.createConvolver=d.createConvolver})(c["WebAudio.Convolver"]=c["WebAudio.Convolver"]||{});(function(a){a.createChannelSplitter=
function(a){return function(){console.log("[webaudio] createChannelSplitter");return a.createChannelSplitter()}}})(c["WebAudio.Splitter"]=c["WebAudio.Splitter"]||{});(function(a){var d=c["WebAudio.Splitter"];a.channelSplitterToAudioNode=c["Unsafe.Coerce"].unsafeCoerce;a.createChannelSplitter=d.createChannelSplitter})(c["WebAudio.Splitter"]=c["WebAudio.Splitter"]||{});(function(a){a.createChannelMerger=function(a){return function(){console.log("[webaudio] createChannelMerger");return a.createChannelMerger()}}})(c["WebAudio.Merger"]=
c["WebAudio.Merger"]||{});(function(a){var d=c["WebAudio.Merger"];a.channelMergerToAudioNode=c["Unsafe.Coerce"].unsafeCoerce;a.createChannelMerger=d.createChannelMerger})(c["WebAudio.Merger"]=c["WebAudio.Merger"]||{});(function(a){a.createDynamicsCompressor=function(a){return function(){return a.createDynamicsCompressor()}}})(c["WebAudio.Compressor"]=c["WebAudio.Compressor"]||{});(function(a){var d=c["WebAudio.Compressor"],b=c.Prelude,e=c["Data.Foreign"],f=c["Data.Foreign.Class"],g=c["Data.Either"],
k=c["Data.Foreign.Index"],l=c["Unsafe.Coerce"].unsafeCoerce;a.readDynamicsCompressorParams=function(a){return b.bind(g.bindEither)(f.readProp(f.numberIsForeign)(k.indexString)("threshold")(a))(function(c){return b.bind(g.bindEither)(f.readProp(f.numberIsForeign)(k.indexString)("knee")(a))(function(d){return b.bind(g.bindEither)(f.readProp(f.numberIsForeign)(k.indexString)("ratio")(a))(function(e){return b.bind(g.bindEither)(f.readProp(f.numberIsForeign)(k.indexString)("reduction")(a))(function(l){return b.bind(g.bindEither)(f.readProp(f.numberIsForeign)(k.indexString)("attack")(a))(function(v){return b.bind(g.bindEither)(f.readProp(f.numberIsForeign)(k.indexString)("release")(a))(function(a){return b.pure(g.applicativeEither)({threshold:c,
knee:d,ratio:e,reduction:l,attack:v,release:a})})})})})})})};a.writeDynamicsCompressorParams=function(a){return e.toForeign(a)};a.dynamicsCompressorToAudioNode=l;a.createDynamicsCompressor=d.createDynamicsCompressor})(c["WebAudio.Compressor"]=c["WebAudio.Compressor"]||{});(function(a){a.createOscillator=function(a){return function(){return a.createOscillator()}};a.startOscillator=function(a){return function(b){return function(c){return function(){c.start(a,b)}}}}})(c["WebAudio.Oscillator"]=c["WebAudio.Oscillator"]||
{});(function(a){var d=c["WebAudio.Oscillator"],b=c.Prelude,e=c["Data.Either"],f=c["Data.Foreign"],g=c["Data.Foreign.Class"],k=c["Control.Bind"],l=c["Data.Foreign.Index"],h=function(){function a(){}a.value=new a;return a}(),q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),m=function(){function a(){}a.value=new a;return a}(),p=function(){function a(){}a.value=new a;return a}(),v=new b.Show(function(a){if(a instanceof h)return"sine";if(a instanceof
q)return"square";if(a instanceof r)return"sawtooth";if(a instanceof m)return"triangle";if(a instanceof p)return"custom";throw Error("Failed pattern match at WebAudio.Oscillator line 33, column 1 - line 40, column 1: "+[a.constructor.name]);}),t=function(a){return"sine"===a?new e.Right(h.value):"square"===a?new e.Right(q.value):"sawtooth"===a?new e.Right(r.value):"triangle"===a?new e.Right(m.value):"custom"===a?new e.Right(p.value):e.Left.create(new f.JSONError(a))},n=new g.IsForeign(k[">=>"](e.bindEither)(f.readString)(t)),
k={type:h.value,frequency:440,detune:0},C=new b.Eq(function(a){return function(c){return b["=="](b.eqString)(b.show(v)(a))(b.show(v)(c))}}),B=[h.value,q.value,r.value,m.value,p.value];a.Sine=h;a.Square=q;a.Sawtooth=r;a.Triangle=m;a.Custom=p;a.foreignToOscillatorParams=function(a){return b["<*>"](e.applyEither)(b["<*>"](e.applyEither)(b["<$>"](e.functorEither)(function(a){return function(b){return function(c){return{type:a,frequency:b,detune:c}}}})(g.readProp(n)(l.indexString)("type")(a)))(g.readProp(g.numberIsForeign)(l.indexString)("frequency")(a)))(g.readProp(g.numberIsForeign)(l.indexString)("detune")(a))};
a.oscillatorParamsToForeign=function(a){return f.toForeign({type:b.show(v)(a.type),frequency:a.frequency,detune:a.detune})};a.enumOscillatorType=B;a.readOscillatorType=t;a.initialOscillatorParams=k;a.show_OscillatorType=v;a.eq_OscillatorType=C;a.isForeign_OscillatorType=n;a.startOscillator=d.startOscillator;a.createOscillator=d.createOscillator})(c["WebAudio.Oscillator"]=c["WebAudio.Oscillator"]||{});(function(a){a.createAnalyser=function(a){return function(){console.log("[webaudio] createAnalyser");
return a.createAnalyser()}}})(c["WebAudio.Analyser"]=c["WebAudio.Analyser"]||{});(function(a){a.createAnalyser=c["WebAudio.Analyser"].createAnalyser})(c["WebAudio.Analyser"]=c["WebAudio.Analyser"]||{});(function(a){a.createMediaStreamSource=function(a){return function(b){return function(){console.log("[webaudio] createMediaStreamSource");return b.createMediaStreamSource(a)}}}})(c["WebAudio.MediaStream"]=c["WebAudio.MediaStream"]||{});(function(a){a._getUserMedia=function(a){return function(b){return function(c){return function(){return(navigator.getUserMedia||
navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia).bind(navigator)(a,function(a){c(a)()},function(a){b(a)()})}}}}})(c.MediaStream=c.MediaStream||{});(function(a){var d=c.MediaStream,b=c["Control.Monad.Aff"];a.getUserMedia=function(a){return b.makeAff(d._getUserMedia(a))}})(c.MediaStream=c.MediaStream||{});(function(a){a.createMediaStreamSource=c["WebAudio.MediaStream"].createMediaStreamSource})(c["WebAudio.MediaStream"]=c["WebAudio.MediaStream"]||{});(function(a){var d=
c.Prelude,b=function(){function a(){}a.value=new a;return a}(),e=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),k=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),l=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),h=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),r=function(){function a(){}a.value=new a;return a}(),m=function(){function a(){}a.value=new a;return a}(),p=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),t=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),n=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),C=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),B=new d.Eq(function(a){return function(b){return d["=="](d.eqString)(a)(b)}}),A=new d.Eq(function(a){return function(b){return d["=="](B)(a.value0.key)(b.value0.key)}}),D=new d.Eq(function(a){return function(b){return d["=="](A)(a.output)(b.output)&&d["=="](A)(a.input)(b.input)&&
a.outputIndex===b.outputIndex&&a.inputIndex===b.inputIndex}});a.VDestination=b;a.VGain=e;a.VDelay=f;a.VAudioBufferSource=g;a.VBiquadFilter=k;a.VVideoElement=l;a.VStereoPanner=h;a.VConvolver=q;a.VChannelSplitter=r;a.VChannelMerger=m;a.VDynamicsCompressor=p;a.VOscillator=v;a.VAnalyser=t;a.VMediaStream=n;a.VNode=C;a.eq_vNode=A;a.eq_VNodeName=B;a.eq_VConnection=D})(c["Sound.AudioGraph.Types"]=c["Sound.AudioGraph.Types"]||{});(function(a){var d=c["Sound.AudioGraph.Core"],b=c["WebAudio.Core"],e=c["WebAudio.Gain"],
f=c["WebAudio.Delay"],g=c["WebAudio.AudioBufferSource"],k=c["WebAudio.BiquadFilter"],l=c["WebAudio.MediaElementSource"],h=c["WebAudio.StereoPanner"],q=c["WebAudio.Convolver"],r=c["WebAudio.Splitter"],m=c["WebAudio.Merger"],p=c["WebAudio.Compressor"],v=c["WebAudio.Oscillator"],t=c["WebAudio.Analyser"],n=c["WebAudio.MediaStream"],C=c["Data.Int"],B=c.Prelude,A=c["Unsafe.Coerce"],D=c["Data.Maybe"],u=c["Data.Either"],H=c["Data.Array"],w=c["Data.Traversable"],P=c["Control.Monad"],x=c["Control.Monad.Eff"],
L=c["Control.Monad.Eff.Class"],G=c["Control.Monad.Eff.Console"],y=c["Control.Monad.Error.Class"],I=c["Control.Monad.Eff.Exception"],Q=c["Control.Monad.Aff"],T=c["Data.Foreign.EasyFFI"],J=c["Sound.AudioGraph.Types"],N=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),fa=function(a){return function(c){return function(d){var G=function(a){return function(b){b=H.head(H.filter(function(b){return B["=="](J.eq_VNodeName)(b.value0.name)(a)})(b));if(b instanceof D.Nothing)return new u.Left(a);
if(b instanceof D.Just)return new u.Right(b.value0);throw Error("Failed pattern match at Sound.AudioGraph.Core line 172, column 5 - line 173, column 5: "+[b.constructor.name]);}},E=H.nub(J.eq_VConnection)(c.graph),y=H.nub(J.eq_vNode)(H.concatMap(function(a){return[a.output,a.input]})(d)),C=H.nub(J.eq_vNode)(H.concatMap(function(a){return[a.output,a.input]})(E));return function(){w["for"](x.applicativeEff)(w.traversableArray)(H["\\\\"](J.eq_VConnection)(E)(d))(function(a){return u.either(function(a){return I.throwException(I.error("remove conns"))})(B.id(B.categoryFn))(B.bind(u.bindEither)(G(a.output.value0.key)(c.rnodes))(function(d){return B.bind(u.bindEither)(G(a.input.value0.key)(c.rnodes))(function(c){return B.pure(u.applicativeEither)(b.disconnect(d.value0.node)(c.value0.node)(a.outputIndex)(a.inputIndex))})}))})();
w["for"](x.applicativeEff)(w.traversableArray)(H["\\\\"](J.eq_vNode)(C)(y))(function(a){return u.either(function(a){return I.throwException(I.error("remove nodes"))})(B.id(B.categoryFn))(B.bind(u.bindEither)(G(a.value0.key)(c.rnodes))(function(a){return B.pure(u.applicativeEither)(B.pure(x.applicativeEff)(new N(a.value0)))}))})();var D=w["for"](x.applicativeEff)(w.traversableArray)(H.intersect(J.eq_vNode)(y)(C))(function(a){return u.either(function(a){return I.throwException(I.error("remaining"))})(B.id(B.categoryFn))(B.bind(u.bindEither)(G(a.value0.key)(c.rnodes))(function(a){return B.pure(u.applicativeEither)(B.pure(x.applicativeEff)(new N(a.value0)))}))})(),
L=w["for"](x.applicativeEff)(w.traversableArray)(H["\\\\"](J.eq_vNode)(y)(C))(function(c){return function(){var d=function(){if(c.value0.node instanceof J.VDestination)return b.getDestinationNode(a);if(c.value0.node instanceof J.VGain)return B["<$>"](x.functorEff)(e.gainToAudioNode)(e.createGain(a));if(c.value0.node instanceof J.VDelay)return B["<$>"](x.functorEff)(A.unsafeCoerce)(f.createDelay(a));if(c.value0.node instanceof J.VAudioBufferSource)return function(){var b=g.createBufferSource(c.value0.node.value0.buffer)(a)();
P.when(x.monadEff)(c.value0.node.value0.playing)(g.startAudioBufferSource(c.value0.node.value0.when)(c.value0.node.value0.offset)(c.value0.node.value0.duration)(b))();g.detune(c.value0.node.value0.detune)(b)();return g.audioBufferSourceToAudioNode(b)};if(c.value0.node instanceof J.VBiquadFilter)return B["<$>"](x.functorEff)(k.biquadFilterToAudioNode)(k.createBiquadFilter(a));if(c.value0.node instanceof J.VVideoElement)return B["<$>"](x.functorEff)(l.mediaElementSourceToAudioNode)(l.createMediaElementSource(c.value0.node.value0.element)(a));
if(c.value0.node instanceof J.VStereoPanner)return B["<$>"](x.functorEff)(A.unsafeCoerce)(h.createStereoPanner(a));if(c.value0.node instanceof J.VConvolver)return B["<$>"](x.functorEff)(A.unsafeCoerce)(q.createConvolver(a));if(c.value0.node instanceof J.VChannelSplitter)return B["<$>"](x.functorEff)(r.channelSplitterToAudioNode)(r.createChannelSplitter(a));if(c.value0.node instanceof J.VChannelMerger)return B["<$>"](x.functorEff)(m.channelMergerToAudioNode)(m.createChannelMerger(a));if(c.value0.node instanceof
J.VDynamicsCompressor)return B["<$>"](x.functorEff)(p.dynamicsCompressorToAudioNode)(p.createDynamicsCompressor(a));if(c.value0.node instanceof J.VOscillator)return function(){var b=v.createOscillator(a)();v.startOscillator(0)(0)(b)();return A.unsafeCoerce(b)};if(c.value0.node instanceof J.VAnalyser)return function(){var b=t.createAnalyser(a)();return A.unsafeCoerce(b)};if(c.value0.node instanceof J.VMediaStream)return function(){var b=n.createMediaStreamSource(c.value0.node.value0)(a)();return A.unsafeCoerce(b)};
throw Error("Failed pattern match at Sound.AudioGraph.Core line 53, column 1 - line 54, column 1: "+[c.value0.node.constructor.name]);}()();return new N({name:c.value0.key,node:d})}})();return function(){var a=B["++"](B.semigroupArray)(D)(L);return function(){w["for"](x.applicativeEff)(w.traversableArray)(y)(function(b){var c=G(b.value0.key)(a);if(c instanceof u.Left)return I.throwException(I.error(c.value0));if(c instanceof u.Right)return b.value0.node instanceof J.VDestination?B.pure(x.applicativeEff)(B.unit):
b.value0.node instanceof J.VGain?e.setGain(b.value0.node.value0.gain)(A.unsafeCoerce(c.value0.value0.node)):b.value0.node instanceof J.VDelay?f.setDelayTime(b.value0.node.value0.delayTime)(A.unsafeCoerce(c.value0.value0.node)):b.value0.node instanceof J.VAudioBufferSource?B.pure(x.applicativeEff)(B.unit):b.value0.node instanceof J.VBiquadFilter?function(){k.setBiquadFilterType(b.value0.node.value0.type)(A.unsafeCoerce(c.value0.value0.node))();T.unsafeForeignProcedure(["n","v",""])("n.frequency.value = v;")(c.value0.value0.node)(b.value0.node.value0.frequency)();
T.unsafeForeignProcedure(["n","v",""])("n.detune.value = v;")(c.value0.value0.node)(b.value0.node.value0.detune)();T.unsafeForeignProcedure(["n","v",""])("n.Q.value = v;")(c.value0.value0.node)(b.value0.node.value0.q)();T.unsafeForeignProcedure(["n","v",""])("n.gain.value = v;")(c.value0.value0.node)(b.value0.node.value0.gain)();return B.unit}:b.value0.node instanceof J.VVideoElement?B.pure(x.applicativeEff)(B.unit):b.value0.node instanceof J.VStereoPanner?h.setPan(b.value0.node.value0.pan)(A.unsafeCoerce(c.value0.value0.node)):
b.value0.node instanceof J.VConvolver?q.setBuffer(b.value0.node.value0.buffer)(A.unsafeCoerce(c.value0.value0.node)):b.value0.node instanceof J.VDynamicsCompressor?B["void"](x.functorEff)(function(){T.unsafeForeignProcedure(["n","v",""])("n.threshold.value = v;")(c.value0.value0.node)(b.value0.node.value0.threshold)();T.unsafeForeignProcedure(["n","v",""])("n.knee.value = v;")(c.value0.value0.node)(b.value0.node.value0.knee)();T.unsafeForeignProcedure(["n","v",""])("n.ratio.value = v;")(c.value0.value0.node)(b.value0.node.value0.ratio)();
T.unsafeForeignProcedure(["n","v",""])("n.reduction.value = v;")(c.value0.value0.node)(b.value0.node.value0.reduction)();T.unsafeForeignProcedure(["n","v",""])("n.attack.value = v;")(c.value0.value0.node)(b.value0.node.value0.attack)();return T.unsafeForeignProcedure(["n","v",""])("n.release.value = v;")(c.value0.value0.node)(b.value0.node.value0.release)()}):b.value0.node instanceof J.VOscillator?B["void"](x.functorEff)(function(){T.unsafeForeignProcedure(["n","v",""])("n.type = v;")(c.value0.value0.node)(B.show(v.show_OscillatorType)(b.value0.node.value0.type))();
T.unsafeForeignProcedure(["n","v",""])("n.frequency.value = v;")(c.value0.value0.node)(b.value0.node.value0.frequency)();return T.unsafeForeignProcedure(["n","v",""])("n.detune.value = v;")(c.value0.value0.node)(b.value0.node.value0.detune)()}):b.value0.node instanceof J.VAnalyser?B["void"](x.functorEff)(B.pure(x.applicativeEff)(B.unit)):B.pure(x.applicativeEff)(B.unit);throw Error("Failed pattern match at Sound.AudioGraph.Core line 53, column 1 - line 54, column 1: "+[c.constructor.name]);})();w["for"](x.applicativeEff)(w.traversableArray)(H["\\\\"](J.eq_VConnection)(d)(E))(function(c){return u.either(function(a){return I.throwException(I.error("add conns"))})(B.id(B.categoryFn))(B.bind(u.bindEither)(G(c.output.value0.key)(a))(function(d){return B.bind(u.bindEither)(G(c.input.value0.key)(a))(function(a){return B.pure(u.applicativeEither)(b.connect(d.value0.node)(a.value0.node)(c.outputIndex)(c.inputIndex))})}))})();
var g={},m;for(m in c)c.hasOwnProperty(m)&&(g[m]=c[m]);g.graph=d;g.rnodes=a;return g}}()()}}}};a.renderOfflineAudio=function(a){return function(c){return function(d){return function(e){return B.bind(Q.bindAff)(L.liftEff(Q.monadEffAff)(b.createOfflineAudioContext(a)(C.floor(d*c))(d)))(function(a){return B.bind(Q.bindAff)(L.liftEff(Q.monadEffAff)(I.catchException(function(a){return B.pure(x.applicativeEff)(u.Left.create(a))})(B["<$>"](x.functorEff)(u.Right.create)(fa(b.offlineAudioContextToAudioContext(a))({graph:[],
rnodes:[]})(e)))))(function(c){if(c instanceof u.Left)return y.throwError(Q.monadErrorAff)(c.value0);if(c instanceof u.Right)return b.startRendering(a);throw Error("Failed pattern match at Sound.AudioGraph.Core line 183, column 1 - line 184, column 1: "+[c.constructor.name]);})})}}}};a.update=function(a){return I.catchException(G.print(I.showError))(function(){var b=d._readFromAudioGraph(),c=d.getAudioGraphContext(),b=fa(c)(b)(a)();return d._writeToAudioGraph(b)()})};a.getAudioGraphContext=d.getAudioGraphContext})(c["Sound.AudioGraph.Core"]=
c["Sound.AudioGraph.Core"]||{});(function(a){a.createElement=function(){var a=z(2);return function(b){return a(b)}}();a.diff=function(){var a=z(15);return function(b){return function(c){return a(b,c)}}}();a.patch=function(){var a=z(20);return function(b){return function(c){return function(){return a(c,b)}}}}();a.vtext=function(){var a=z(25);return function(b){return new a(b)}}();a.vnode=function(){var a=z(26),b=z(27);return function(c){return function(f){return function(g){return function(k){return function(l){"input"===
f&&void 0!==k.value&&(k.value=new b(k.value));return new a(f,k,l,g,c)}}}}}}();a.prop=function(a,b){var c={};c[a]=b;return c};a.attrProp=function(a,b){var c={attributes:{}};c.attributes[a]=b;return c};a.handlerProp=function(a,b){var c=function(){},f={};c.prototype.callback=function(a){b(a)()};c.prototype.hook=function(b){b.addEventListener(a,this.callback)};c.prototype.unhook=function(b){b.removeEventListener(a,this.callback)};f["opticui-hook-"+a]=new c(b);return f};a.concatProps=function(){var a=
Object.prototype.hasOwnProperty,b=function(b,c){for(var g in b)if(a.call(b,g))if("attributes"===g){var k=b[g],l=c[g],h;for(h in k)a.call(k,h)&&(l[h]=k[h])}else c[g]=b[g];return c};return function(a,c){return b(a,b(c,{attributes:{}}))}}();a.emptyProps={};a.initializer=function(a,b){var c=function(){};c.prototype.hook=function(a){a.initialized||(a.initialized=!0,b(a)())};var f={};f[a]=new c(b);return f};a.finalizer=function(a,b){var c=function(){};c.prototype.unhook=function(a){b(a)()};var f={};f[a]=
new c(b);return f}})(c["OpticUI.Internal.VirtualDOM"]=c["OpticUI.Internal.VirtualDOM"]||{});(function(a){var d=c["OpticUI.Internal.VirtualDOM"],b=c["Data.Monoid"],e=new c.Prelude.Semigroup(c["Data.Function"].runFn2(d.concatProps)),b=new b.Monoid(function(){return e},d.emptyProps);a.semigroupProps=e;a.monoidProps=b;a.finalizer=d.finalizer;a.initializer=d.initializer;a.handlerProp=d.handlerProp;a.attrProp=d.attrProp;a.prop=d.prop;a.vnode=d.vnode;a.vtext=d.vtext;a.patch=d.patch;a.diff=d.diff;a.createElement=
d.createElement})(c["OpticUI.Internal.VirtualDOM"]=c["OpticUI.Internal.VirtualDOM"]||{});(function(a){var d=c.Prelude,b=c["Data.Exists"],e=c["Data.Monoid"],f=c["Unsafe.Coerce"],g=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),k=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),l=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,
c)}};return a}(),h=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),q=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),r=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),v=function(){function a(b,c,d,e){this.value0=b;this.value1=c;this.value2=d;this.value3=e}a.create=function(b){return function(c){return function(d){return function(e){return new a(b,c,d,e)}}}};return a}(),t=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),n=f.unsafeCoerce,C=f.unsafeCoerce,B=new d.Semigroup(function(a){return function(b){return new t(d["++"](d.semigroupArray)(a.value0)(b.value0))}}),e=new e.Monoid(function(){return B},
new t([])),A=m.create;a.PropE=g;a.AttrP=k;a.PropP=l;a.HandlerP=h;a.InitializerP=q;a.FinalizerP=r;a.KeyP=m;a.Text=p;a.Element=v;a.Markup=t;a.runFinalizer=function(a){return function(b){return a(f.unsafeCoerce(b))}};a.initializer=function(a){return function(b){return new q(a,n(b))}};a.runInitializer=function(a){return function(b){return a(f.unsafeCoerce(b))}};a.mkInitializer=n;a.runEventHandler=function(a){return function(b){return a(f.unsafeCoerce(b))}};a.mkEventHandler=C;a.key=A;a.handle=function(a){return function(b){return new h(a,
C(b))}};a.prop=function(a){return function(c){return new l(a,b.mkExists(new g(c)))}};a.attr=function(a){return function(b){return new k(a,b)}};a.text=function(a){return new t([new p(a)])};a.element=function(a){return function(b){return function(c){return function(d){return new t([new v(a,b,c,d)])}}}};a.markupSemigroup=B;a.markupMonoid=e})(c["OpticUI.Markup"]=c["OpticUI.Markup"]||{});(function(a){var d=c["Control.Monad.State.Class"],b=c.Prelude,e=c["Data.Profunctor"],f=c["Data.Profunctor.Strong"],
g=c["Control.Monad.State"],k=c["Control.Monad.Eff"],l=c["Data.Monoid"],h=c["Data.Traversable"],q=c["Data.Tuple"],r=c["Data.Functor.Contravariant"],m=c["Control.Monad.State.Trans"],p=c["Data.Identity"],v=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),t=function(a){return new b.Semigroup(function(c){return function(d){return function(e){return function(f){return b["<*>"](k.applyEff)(b["<$>"](k.functorEff)(b.append(a))(c(e)(f)))(d(e)(f))}}}})},
n=function(a){return function(b){return new v(b,a(b))}},C=new r.Contravariant(function(a){return function(b){return function(c){return b(a(c))}}}),B=new b.Functor(function(a){return function(b){return new v(a(b.value0),function(c){return b.value1(r.cmap(C)(a)(c))})}}),A=function(a){return new b.Apply(function(){return B},function(c){return function(d){return new v(c.value0(d.value0),function(e){return b["<*>"](k.applyEff)(b["<$>"](k.functorEff)(b.append(a))(c.value1(r.cmap(C)(function(a){return a(d.value0)})(e))))(d.value1(r.cmap(C)(b.$(c.value0))(e)))})}})},
D=function(a){return new b.Applicative(function(){return A(a["__superclass_Prelude.Semigroup_0"]())},function(c){return new v(c,function(c){return b.pure(k.applicativeEff)(l.mempty(a))})})},u=new e.Profunctor(function(a){return function(b){return function(c){return function(d){return function(e){return c(a(d))(r.cmap(C)(b)(e))}}}}}),e=new f.Strong(function(){return u},function(a){return function(b){return function(c){return a(b.value0)(r.cmap(C)(function(a){return new q.Tuple(a,b.value1)})(c))}}},
function(a){return function(b){return function(c){return a(b.value1)(r.cmap(C)(function(a){return new q.Tuple(b.value0,a)})(c))}}}),H=function(a){return function(b){return a(b).value1}};a.Handler=function(a){return a};a.foreach=function(a){return function(b){return function(c){var e=function(a){return function(c){return g.evalState(h.traverse(b)(m.applicativeStateT(p.monadIdentity))(function(b){return d.state(m.monadStateStateT(p.monadIdentity))(function(c){return new q.Tuple(a(c)(b),c+1|0)})})(c))(0)}};
return H(function(d){return h.sequence(b)(D(a))(e(function(a){return n(c(a))})(d))})}}};a.withView=function(a){return function(c){return function(d){return function(e){return b.map(k.functorEff)(a)(c(d)(e))}}}};a["with"]=function(a){return function(b){return function(c){return a(b)(c)(b)(c)}}};a.ui=function(a){return function(c){return function(c){return b.pure(k.applicativeEff)(a)}}};a.runUI=function(a){return a};a.runHandler=function(a){return a};a.uiProfunctor=u;a.uiStrong=e;a.uiSemigroup=t;a.uiMonoid=
function(a){return new l.Monoid(function(){return t(a["__superclass_Prelude.Semigroup_0"]())},function(c){return function(c){return b.pure(k.applicativeEff)(l.mempty(a))}})};a.handlerContravariant=C})(c["OpticUI.Core"]=c["OpticUI.Core"]||{});(function(a){var d=c.Prelude,b=c["OpticUI.Internal.VirtualDOM"],e=c["OpticUI.Markup"],f=c["OpticUI.Core"],g=c["Control.Monad"],k=c["Control.Monad.Eff"],l=c["Control.Monad.Eff.Ref"],h=c["Control.Monad.State"],q=c["Control.Monad.State.Class"],r=c["Data.Exists"],
m=c["Data.Maybe"],p=c["Data.Nullable"],v=c["Data.Monoid"],t=c["Data.Tuple"],n=c["Data.Traversable"],C=c["Data.Foldable"],B=c["Data.Array"],A=c["Data.StrMap"],D=c["DOM.Event.EventTarget"],u=c["DOM.Event.EventTypes"],H=c["DOM.HTML"],w=c["DOM.HTML.Document"],P=c["DOM.HTML.Types"],x=c["DOM.HTML.Window"],L=c["DOM.Node.Node"],G=c["Control.Monad.State.Trans"],y=c["Data.Identity"],I=function(a){return function(){var b=H.window();return function(){var c=P.windowToEventTarget(b);return D.addEventListener(u.load)(D.eventListener(function(b){return a}))(!1)(c)}()()}},
Q=function(a){return function(b){return function(c){return function(e){return d.bind(G.bindStateT(y.monadIdentity))(q.gets(G.monadStateStateT(y.monadIdentity))(a))(function(a){var f=A.lookup(c)(a);if(f instanceof m.Nothing)return d.bind(G.bindStateT(y.monadIdentity))(q.modify(G.monadStateStateT(y.monadIdentity))(b(A.insert(c)(e)(a))))(function(){return d["return"](G.applicativeStateT(y.monadIdentity))(e)});if(f instanceof m.Just)return d["return"](G.applicativeStateT(y.monadIdentity))(f.value0);throw Error("Failed pattern match at OpticUI.Run line 109, column 1 - line 114, column 1: "+
[f.constructor.name]);})}}}},T=function(a){if(a instanceof e.AttrP)return d.pure(G.applicativeStateT(y.monadIdentity))(b.attrProp(a.value0,a.value1));if(a instanceof e.HandlerP)return d.pure(G.applicativeStateT(y.monadIdentity))(e.runEventHandler(function(c){return b.handlerProp(a.value0,c)})(a.value1));if(a instanceof e.PropP)return d.pure(G.applicativeStateT(y.monadIdentity))(r.runExists(function(c){return b.prop(a.value0,c.value0)})(a.value1));if(a instanceof e.InitializerP)return Q(function(a){return a.initializers})(function(a){return function(b){var c=
{},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.initializers=a;return c}})(a.value0)(e.runInitializer(function(c){return b.initializer(a.value0,c)})(a.value1));if(a instanceof e.FinalizerP)return Q(function(a){return a.finalizers})(function(a){return function(b){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.finalizers=a;return c}})(a.value0)(e.runFinalizer(function(c){return b.finalizer(a.value0,c)})(a.value1));if(a instanceof e.KeyP)return d.pure(G.applicativeStateT(y.monadIdentity))(v.mempty(b.monoidProps));
throw Error("Failed pattern match at OpticUI.Run line 96, column 1 - line 97, column 1: "+[a.constructor.name]);},J=function(a){return function(b){return b instanceof e.KeyP?new m.Just(b.value0):a}},N=function(a){if(a instanceof e.Text)return d["return"](G.applicativeStateT(y.monadIdentity))(b.vtext(a.value0));if(a instanceof e.Element)return d.bind(G.bindStateT(y.monadIdentity))(B.foldM(G.monadStateT(y.monadIdentity))(function(a){return function(c){return d["<$>"](G.functorStateT(y.monadIdentity))(d.append(b.semigroupProps)(a))(T(c))}})(v.mempty(b.monoidProps))(a.value2))(function(c){var e=
C.foldl(C.foldableArray)(J)(m.Nothing.value)(a.value2);return d.bind(G.bindStateT(y.monadIdentity))(n.traverse(n.traversableArray)(G.applicativeStateT(y.monadIdentity))(N)(a.value3.value0))(function(f){return d["return"](G.applicativeStateT(y.monadIdentity))(b.vnode(p.toNullable(a.value0))(a.value1)(p.toNullable(e))(c)(f))})});throw Error("Failed pattern match: "+[a.constructor.name]);},fa=function(a){return function(c){var d=p.toNullable(m.Nothing.value);c=h.runState(n.traverse(n.traversableArray)(G.applicativeStateT(y.monadIdentity))(N)(a.value0))(c);
return new t.Tuple(b.vnode(d)("div")(d)(v.mempty(b.monoidProps))(c.value0),c.value1)}},z=function(a){return function(){var b=H.window(),b=x.document(b)(),b=d["<$>"](k.functorEff)(p.toMaybe)(w.body(b))();if(b instanceof m.Nothing)b=d.pure(k.applicativeEff)(d.unit);else if(b instanceof m.Just)b=d["void"](k.functorEff)(L.appendChild(P.htmlElementToNode(a))(P.htmlElementToNode(b.value0)));else throw Error("Failed pattern match at OpticUI.Run line 130, column 1 - line 131, column 1: "+[b.constructor.name]);
return b()}};a.appendToBody=z;a.onLoad=I;a.findProp=Q;a.toVProp=T;a.findKey=J;a.toVTree=N;a.buildVTree=fa;a.animate=function(a){return function(c){var e=b.vtext(""),h=b.createElement(e);return function(){var m=l.newRef(e)(),n=l.newRef(h)(),p=l.newRef(a)(),q=l.newRef(0)(),r=l.newRef({initializers:A.empty,finalizers:A.empty})();return function(){var e=function(a){return function(b){return function(){var c=l.readRef(q)();return g.when(k.monadEff)(a===c)(function(){l.writeRef(q)(c+1|0)();return b()})()}}},
t=function(a){return function(g){return e(a)(function(){var e=l.readRef(m)(),h=l.readRef(r)(),q=d["<$>"](k.functorEff)(function(a){return fa(a)(h)})(f.runUI(c)(g)(f.Handler(t(a+1|0))))();l.writeRef(r)(q.value1)();l.writeRef(m)(q.value0)();l.writeRef(p)(g)();var v=l.readRef(n)(),e=b.patch(b.diff(e)(q.value0))(v)();return l.writeRef(n)(e)()})}},v=function(a){return function(){var b=l.readRef(q)(),c=l.readRef(p)(),c=a(c)();return t(b)(c)()}};return function(){I(function(){z(h)();return t(0)(a)()})();
return d["return"](k.applicativeEff)(v)()}}()()}}}})(c["OpticUI.Run"]=c["OpticUI.Run"]||{});(function(a){a.onWebMidiLink=function(a){return function(){window.addEventListener("message",function(b){(b=/^midi,(\w\w),(\w\w),(\w\w)$/.exec(b.data))&&a([parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)])()})}}})(c["Soundknot.WebMidiLink"]=c["Soundknot.WebMidiLink"]||{});(function(a){a.onWebMidiLink=c["Soundknot.WebMidiLink"].onWebMidiLink})(c["Soundknot.WebMidiLink"]=c["Soundknot.WebMidiLink"]||{});
(function(a){a._requestMIDIAccess=function(a){return function(b){return function(){navigator.requestMIDIAccess({sysex:!1}).then(function(a){b(a)()},function(b){a(b)()})}}};a.inputs=function(a){return function(){return a.inputs}};a.maplikeToStrMap=function(a){return function(){var b={};a.forEach(function(a,c){b[c]=a});return b}};a.onMidiMessage=function(a){return function(b){return function(){b.onmidimessage=function(b){a(b)()}}}};a.midiData=function(a){return a.data};a.manufacturer=function(a){return a.manufacturer};
a.name=function(a){return a.name};a.version=function(a){return a.version};a.state=function(a){return a.state};a.id=function(a){return a.id};a.onStateChange=function(a){return function(b){return function(){b.onstatechange=function(b){a(b)()}}}}})(c.WebMidi=c.WebMidi||{});(function(a){var d=c.WebMidi,b=c["Control.Monad.Aff"].makeAff(d._requestMIDIAccess);a.requestMIDIAccess=b;a.onStateChange=d.onStateChange;a.id=d.id;a.state=d.state;a.version=d.version;a.name=d.name;a.manufacturer=d.manufacturer;a.midiData=
d.midiData;a.onMidiMessage=d.onMidiMessage;a.maplikeToStrMap=d.maplikeToStrMap;a.inputs=d.inputs})(c.WebMidi=c.WebMidi||{});(function(a){var d=c.Prelude,b=c["Control.Alt"],e=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),g=function(a){return a.value0},k=new d.Show(function(a){return a.value0}),l=new d.Functor(function(a){return function(b){return new f(function(c){return function(d){return function(e){return(0,b.value0)(c)(d)(function(b){return function(c){return e(a(b))(c)}})}}})}}),
h=new d.Apply(function(){return l},function(a){return function(b){return new f(function(c){return function(d){return function(e){return(0,a.value0)(c)(d)(function(a){return function(c){return(0,b.value0)(c)(d)(function(b){return function(c){return e(a(b))(c)}})}})}}})}}),q=new d.Bind(function(){return h},function(a){return function(b){return new f(function(c){return function(d){return function(e){return(0,a.value0)(c)(d)(function(a){return function(c){return g(b(a))(c)(d)(e)}})}}})}}),d=new d.Applicative(function(){return h},
function(a){return new f(function(b){return function(c){return function(c){return c(a)(b)}}})}),b=new b.Alt(function(){return l},function(a){return function(b){return new f(function(c){return function(d){return function(e){return(0,a.value0)(c)(function(a){return function(f){var g=c.pos===a;if(g)return(0,b.value0)(c)(d)(e);if(!g)return d(a)(f);throw Error("Failed pattern match at Text.Parsing.StringParser line 60, column 1 - line 68, column 1: "+[g.constructor.name]);}})(e)}}})}});a.Parser=f;a.ParseError=
e;a["try"]=function(a){return new f(function(b){return function(c){return function(d){return(0,a.value0)(b)(function(a){return c(b.pos)})(d)}}})};a.fail=function(a){return new f(function(b){return function(c){return function(d){return c(b.pos)(new e(a))}}})};a.unParser=g;a.showParseError=k;a.functorParser=l;a.applyParser=h;a.applicativeParser=d;a.altParser=b;a.bindParser=q})(c["Text.Parsing.StringParser"]=c["Text.Parsing.StringParser"]||{});(function(a){a._many=function(a){return function(b){return function(c){return function(c){var e=
[],k;do a(b)(function(a){return function(a){k=a}})(function(a){return function(c){b=c;e.push(a)}});while(!k);return c(e)(b)}}}}})(c["Text.Parsing.StringParser.Combinators"]=c["Text.Parsing.StringParser.Combinators"]||{});(function(a){var d=c["Text.Parsing.StringParser.Combinators"],b=c.Prelude,e=c["Data.List"],f=c["Data.Foldable"],g=c["Control.Alt"],k=c["Text.Parsing.StringParser"],l=function(a){return new k.Parser(function(b){return function(c){return function(g){return d._many(a.value0)(b)(c)(function(a){return g(e.toList(f.foldableArray)(a))})}}})};
a.optional=function(a){return g["<|>"](k.altParser)(b[">>="](k.bindParser)(a)(function(a){return b["return"](k.applicativeParser)(b.unit)}))(b["return"](k.applicativeParser)(b.unit))};a.many1=function(a){return b.bind(k.bindParser)(a)(function(c){return b.bind(k.bindParser)(l(a))(function(a){return b["return"](k.applicativeParser)(new e.Cons(c,a))})})};a.many=l})(c["Text.Parsing.StringParser.Combinators"]=c["Text.Parsing.StringParser.Combinators"]||{});(function(a){var d=c.Prelude,b=c["Data.Maybe"],
e=c["Data.String"],f=c["Data.Char"],g=c["Data.Foldable"],k=c["Text.Parsing.StringParser"],l=new k.Parser(function(a){return function(b){return function(c){return a.pos<e.length(a.str)?b(a.pos)(new k.ParseError("Expected EOF")):c(d.unit)(a)}}}),h=new k.Parser(function(a){return function(c){return function(d){var f=e.charAt(a.pos)(a.str);if(f instanceof b.Just)return d(f.value0)({str:a.str,pos:a.pos+1|0});if(f instanceof b.Nothing)return c(a.pos)(new k.ParseError("Unexpected EOF"));throw Error("Failed pattern match at Text.Parsing.StringParser.String line 35, column 1 - line 36, column 1: "+
[f.constructor.name]);}}}),q=function(a){return k["try"](d.bind(k.bindParser)(h)(function(b){var c=a(b);if(c)return d["return"](k.applicativeParser)(b);if(!c)return k.fail("Character "+(f.toString(b)+" did not satisfy predicate"));throw Error("Failed pattern match at Text.Parsing.StringParser.String line 61, column 1 - line 62, column 1: "+[c.constructor.name]);}))};a.noneOf=function(a){return function(b){return q(d.flip(g.notElem(a)(d.eqChar))(b))}};a.satisfy=q;a.string=function(a){return new k.Parser(function(c){return function(f){return function(g){return d["=="](b.eqMaybe(d.eqInt))(e["indexOf'"](a)(c.pos)(c.str))(new b.Just(c.pos))?
g(a)({str:c.str,pos:c.pos+e.length(a)|0}):f(c.pos)(k.ParseError.create("Expected '"+(a+"'.")))}}})};a.anyChar=h;a.eof=l})(c["Text.Parsing.StringParser.String"]=c["Text.Parsing.StringParser.String"]||{});(function(a){var d=c.Prelude,b=c["Data.Either"],e=c["Data.Maybe"],f=c["Data.List"],g=c["Data.String"],k=c["Data.StrMap"],l=c["Data.Tuple"],h=c["Data.Foldable"],q=c["Control.Alt"],r=c["Control.Apply"],m=c["Text.Parsing.StringParser"],p=c["Text.Parsing.StringParser.String"],v=c["Text.Parsing.StringParser.Combinators"],
t=c["Data.Unfoldable"],n=p.satisfy(function(a){return d["/="](d.eqChar)(a)("\r")&&d["/="](d.eqChar)(a)("\n")}),C=d["<$>"](m.functorParser)(function(a){return g.fromCharArray(f.fromList(t.unfoldableArray)(a))})(v.many(n)),n=d["<$>"](m.functorParser)(function(a){return g.fromCharArray(f.fromList(t.unfoldableArray)(a))})(v.many1(n)),B=q["<|>"](m.altParser)(q["<|>"](m.altParser)(m["try"](p.string("\r\n")))(p.string("\r")))(p.string("\n")),A=function(a){return"c-1"===a?0:"c#-1"===a?1:"d-1"===a?2:"d#-1"===
a?3:"e-1"===a?4:"f-1"===a?5:"f#-1"===a?6:"g-1"===a?7:"g#-1"===a?8:"a-1"===a?9:"a#-1"===a?10:"b-1"===a?11:"c0"===a?12:"c#0"===a?13:"d0"===a?14:"d#0"===a?15:"e0"===a||"f0"===a?16:"f#0"===a?18:"g0"===a?19:"g#0"===a?20:"a0"===a?21:"a#0"===a?22:"b0"===a?23:"c1"===a?24:"c#1"===a?25:"d1"===a?26:"d#1"===a?27:"e1"===a?28:"f1"===a?29:"f#1"===a?30:"g1"===a?31:"g#1"===a?32:"a1"===a?33:"a#1"===a?34:"b1"===a?35:"c2"===a?36:"c#2"===a?37:"d2"===a?38:"d#2"===a?39:"e2"===a?40:"f2"===a?41:"f#2"===a?42:"g2"===a?43:"g#2"===
a?44:"a2"===a?45:"a#2"===a?46:"b2"===a?47:"c3"===a?48:"c#3"===a?49:"d3"===a?50:"d#3"===a?51:"e3"===a?52:"f3"===a?53:"f#3"===a?54:"g3"===a?55:"g#3"===a?56:"a3"===a?57:"a#3"===a?58:"b3"===a?59:"c4"===a?60:"c#4"===a?61:"d4"===a?62:"d#4"===a?63:"e4"===a?64:"f4"===a?65:"f#4"===a?66:"g4"===a?67:"g#4"===a?68:"a4"===a?69:"a#4"===a?70:"b4"===a?71:"c5"===a?72:"c#5"===a?73:"d5"===a?74:"d#5"===a?75:"e5"===a?76:"f5"===a?77:"f#5"===a?78:"g5"===a?79:"g#5"===a?80:"a5"===a?81:"a#5"===a?82:"b5"===a?83:"c6"===a?84:
"c#6"===a?85:"d6"===a?86:"d#6"===a?87:"e6"===a?88:"f6"===a?89:"f#6"===a?90:"g6"===a?91:"g#6"===a?92:"a6"===a?93:"a#6"===a?94:"b6"===a?95:"c7"===a?96:"c#7"===a?97:"d7"===a?98:"d#7"===a?99:"e7"===a?100:"f7"===a?101:"f#7"===a?102:"g7"===a?103:"g#7"===a?104:"a7"===a?105:"a#7"===a?106:"b7"===a?107:"c8"===a?108:"c#8"===a?109:"d8"===a?110:"d#8"===a?111:"e8"===a?112:"f8"===a?113:"f#8"===a?114:"g8"===a?115:"g#8"===a?116:"a8"===a?117:"a#8"===a?118:"b8"===a?119:"c9"===a?120:"c#9"===a?121:"d9"===a?122:"d#9"===
a?123:"e9"===a?124:"f9"===a?125:"f#9"===a?126:"g9"===a?127:60},D=d["void"](m.functorParser)(d.bind(m.bindParser)(p.string("//"))(function(){return d.bind(m.bindParser)(C)(function(){return B})})),u=d["<$>"](m.functorParser)(function(a){return g.fromCharArray(f.fromList(t.unfoldableArray)(a))})(v.many1(p.noneOf(h.foldableArray)(["=","\r","\n","<"]))),H=d["void"](m.functorParser)(v.many(q["<|>"](m.altParser)(d["void"](m.functorParser)(B))(D))),w=function(a){return d.bind(m.bindParser)(a)(function(a){return d.bind(m.bindParser)(H)(function(){return d.pure(m.applicativeParser)(a)})})},
P=v.many1(w(d["<*>"](m.applyParser)(r["<*"](m.applyParser)(d["<$>"](m.functorParser)(l.Tuple.create)(u))(p.string("=")))(n))),x=d.bind(m.bindParser)(v.optional(w(p.string("<group>"))))(function(){return d.bind(m.bindParser)(P)(function(a){return d.bind(m.bindParser)(v.many1(d.bind(m.bindParser)(w(p.string("<region>")))(function(){return P})))(function(b){return d.pure(m.applicativeParser)({pairs:a,regions:b})})})}),L=d.bind(m.bindParser)(H)(function(){return d.bind(m.bindParser)(v.many1(x))(function(a){return d.bind(m.bindParser)(p.eof)(function(){return d.pure(m.applicativeParser)(a)})})});
a.hasNote=function(a){return function(b){return h.any(f.foldableList)(d.booleanAlgebraBoolean)(function(a){return e.fromMaybe(!1)(d.bind(e.bindMaybe)(k.lookup("lokey")(a))(function(c){return d.bind(e.bindMaybe)(k.lookup("hikey")(a))(function(a){return d.pure(e.applicativeMaybe)(A(c)<=b&&b<=A(a))})}))})(a)}};a.keyCenter=function(a){return function(b){return d.bind(e.bindMaybe)(f.index(a)(b))(function(a){return q["<|>"](e.altMaybe)(k.lookup("pitch_keycenter")(a))(d.pure(e.applicativeMaybe)("c4"))})}};
a.findBuffer=function(a){return function(b){return function(c){return function(h){return d.bind(e.bindMaybe)(f.index(a)(h))(function(a){return d.bind(e.bindMaybe)(q["<|>"](e.altMaybe)(k.lookup("pitch_keycenter")(a))(d.pure(e.applicativeMaybe)("c4")))(function(f){return d.bind(e.bindMaybe)(k.lookup("sample")(a))(function(a){return k.lookup(b+g.replace("#")("%23")(a))(c)})})})}}}};a.regionIndex=function(a){return function(b){return f.findIndex(function(a){return e.fromMaybe(!1)(d.bind(e.bindMaybe)(k.lookup("lokey")(a))(function(c){return d.bind(e.bindMaybe)(k.lookup("hikey")(a))(function(a){return d.pure(e.applicativeMaybe)(A(c)<=
b&&b<=A(a))})}))})(a)}};a.flattenSFZ=function(a){return f.concatMap(function(a){return d.map(f.functorList)(function(b){return k.fromList(d["++"](f.semigroupList)(b)(a.pairs))})(a.regions)})(a)};a.nameToIndex=A;a.parseSFZ=function(a){return m.unParser(L)({str:a,pos:0})(function(a){return function(c){return new b.Left({pos:a,err:c})}})(function(a){return function(c){return new b.Right(a)}})}})(c.SoundFont=c.SoundFont||{});(function(a){a[".*="]=function(a){return function(b){return{x:a*b.x,y:a*b.y}}};
a["=-="]=function(a){return function(b){return{x:a.x-b.x,y:a.y-b.y}}};a["=+="]=function(a){return function(b){return{x:a.x+b.x,y:a.y+b.y}}}})(c["Soundknot.Linear"]=c["Soundknot.Linear"]||{});(function(a){var d=c.Prelude,b=c["Data.List"];a.redoList=function(a){return a.redoList};a.undoList=function(a){return a.undoList};a.overwrite=function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.state=b;return c}};a.record=function(a){return function(a){return function(c){if(d.otherwise){var e=
{},l;for(l in a)a.hasOwnProperty(l)&&(e[l]=a[l]);e.state=c;e.undoList=b[":"](a.state)(a.undoList);e.redoList=b.Nil.value;return e}throw Error("Failed pattern match at Soundknot.Historical line 43, column 1 - line 45, column 1: "+[a.constructor.name,c.constructor.name]);}}};a.redoable=function(a){return!b["null"](a.redoList)};a.undoable=function(a){return!b["null"](a.undoList)};a.redo=function(a){if(a.redoList instanceof b.Nil)return a;if(a.redoList instanceof b.Cons){var c={},d;for(d in a)a.hasOwnProperty(d)&&
(c[d]=a[d]);c.state=a.redoList.value0;c.undoList=b[":"](a.state)(a.undoList);c.redoList=a.redoList.value1;return c}throw Error("Failed pattern match at Soundknot.Historical line 34, column 1 - line 35, column 1: "+[a.redoList.constructor.name]);};a.undo=function(a){if(a.undoList instanceof b.Nil)return a;if(a.undoList instanceof b.Cons){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.state=a.undoList.value0;c.undoList=a.undoList.value1;c.redoList=b[":"](a.state)(a.redoList);return c}throw Error("Failed pattern match at Soundknot.Historical line 25, column 1 - line 26, column 1: "+
[a.undoList.constructor.name]);};a.runHistorical=function(a){return a.state};a.historical=function(a){return{state:a,undoList:b.Nil.value,redoList:b.Nil.value}}})(c["Soundknot.Historical"]=c["Soundknot.Historical"]||{});(function(a){var d=c.Math,b=c["Data.Ord"],e=c["WebAudio.Core"],f=c.Prelude,g=c["Unsafe.Coerce"],k=c["Data.Nullable"],l=c["Data.Maybe"],h=c["Data.Foldable"],q=c["Data.Int"],r=c["Data.StrMap"],m=c["Data.Either"],p={bpm:120,tracks:[{clips:[],selected:!1}],markers:[{name:"start",position:0},
{name:"end",position:8}],translation:-2,scale:16,width:640,cursor:0,start:k.toNullable(l.Nothing.value),scrolling:!1,mouseDownPoint:k.toNullable(l.Nothing.value)},v=function(a){return a},t=function(a){return function(b){return q.toNumber(b)/a}},n=new f.Eq(function(a){return function(b){return f.eq(f.eqNumber)(a)(b)}}),C=new f.Ord(function(){return n},function(a){return function(b){return f.compare(f.ordNumber)(a)(b)}});a.Beats=function(a){return a};a.Seconds=function(a){return a};a.audioClipLengthInSeconds=
function(a){return function(b){return function(c){c=f.map(f.functorArray)(function(c){var d=k.toMaybe(c.length);if(d instanceof l.Just)return new l.Just(c.offset+d.value0);if(d instanceof l.Nothing)return f.bind(l.bindMaybe)(r.lookup(c.buffer)(b))(function(b){return f.pure(l.applicativeMaybe)(c.offset+q.toNumber(e.audioBufferLength(b))/a)});throw Error("Failed pattern match at Soundknot.UI.Timeline.Types line 171, column 5 - line 172, column 5: "+[d.constructor.name]);})(c.slices);return h.foldr(h.foldableArray)(function(a){return function(b){return a instanceof
l.Just&&b instanceof l.Just?new l.Just(d.max(a.value0)(b.value0)):l.Nothing.value}})(new l.Just(0))(c)}}};a.readTimeline=function(a){return f.pure(m.applicativeEither)(g.unsafeCoerce(a))};a.clampScale=function(a){return b.max(f.ordInt)(0)(b.min(f.ordInt)(50)(a))};a.clipLength=function(a){return function(b){return function(c){return function(c){return h.foldr(h.foldableArray)(function(a){return function(b){return f["<*>"](l.applyMaybe)(f["<$>"](l.functorMaybe)(d.max)(a))(b)}})(new l.Just(0))(f.map(f.functorArray)(function(c){var d=
k.toMaybe(c.length);if(d instanceof l.Nothing){c=r.lookup(c.buffer)(b);if(c instanceof l.Nothing)return l.Nothing.value;if(c instanceof l.Just)return l.Just.create(v(t(a)(g.unsafeCoerce(c.value0).length)));throw Error("Failed pattern match at Soundknot.UI.Timeline.Types line 110, column 1 - line 111, column 1: "+[c.constructor.name]);}if(d instanceof l.Just)return new l.Just(c.offset+d.value0);throw Error("Failed pattern match at Soundknot.UI.Timeline.Types line 110, column 1 - line 111, column 1: "+
[d.constructor.name]);})(c.slices))}}}};a.addSeconds=function(a){return function(b){return a+b}};a.indexToSeconds=t;a.secondsToIndex=function(a){return function(b){return q.floor(b*a)}};a.secondsToBeats=function(a){return function(b){return a/60*b}};a.beatsToSeconds=function(a){return function(b){return b/(a/60)}};a.runBeats=function(a){return a};a.runSeconds=v;a.timelineInitialState=p;a.eq_Beats=n;a.ord_Beats=C})(c["Soundknot.UI.Timeline.Types"]=c["Soundknot.UI.Timeline.Types"]||{});(function(a){a._ajax=
function(a,b,c,f,g){var k={};"undefined"!==typeof F&&F.require?(k.newXHR=function(){return new (F.require("xhr2"))},k.fixupUrl=function(a){var b=F.require("url");a=b.parse(a);a.protocol=a.protocol||"http:";a.hostname=a.hostname||"localhost";return b.format(a)},k.getResponse=function(a){return a.response}):(k.newXHR=function(){return new XMLHttpRequest},k.fixupUrl=function(a){return a||"/"},k.getResponse=function(a){return a.response});return function(){var l=k.newXHR(),h=k.fixupUrl(b.url);l.open(b.method||
"GET",h,!0,b.username,b.password);if(b.headers)for(var h=0,q;null!=(q=b.headers[h]);h++)l.setRequestHeader(q.field,q.value);l.onerror=function(){f(Error("AJAX request failed: "+b.method+" "+b.url))()};l.onload=function(){g({status:l.status,headers:l.getAllResponseHeaders().split("\n").filter(function(a){return 0<a.length}).map(function(b){var c=b.indexOf(":");return a(b.substring(0,c))(b.substring(c+2))}),response:k.getResponse(l)})()};l.responseType=b.responseType;l.send(b.content);return c(l)}};
a._cancelAjax=function(a,b,c,f){return function(){try{a.abort()}catch(b){return f(!1)()}return f(!0)()}}})(c["Network.HTTP.Affjax"]=c["Network.HTTP.Affjax"]||{});(function(a){a.mimeTypeToString=function(a){return a}})(c["Network.HTTP.MimeType"]=c["Network.HTTP.MimeType"]||{});(function(a){var d=c["Data.Maybe"],b=c["Data.Tuple"],e=c["Unsafe.Coerce"],f=function(a){this.toRequest=a},g=new f(function(a){return b.Tuple.create(d.Nothing.value)(e.unsafeCoerce(a))});a.Requestable=f;a.toRequest=function(a){return a.toRequest};
a.requestableUnit=g})(c["Network.HTTP.Affjax.Request"]=c["Network.HTTP.Affjax.Request"]||{});(function(a){var d=c["Data.Foreign"],b=c["Data.Maybe"],e=c["Data.Tuple"],f=function(){function a(){}a.value=new a;return a}(),g=function(){function a(){}a.value=new a;return a}(),k=function(){function a(){}a.value=new a;return a}(),l=function(){function a(){}a.value=new a;return a}(),h=function(){function a(){}a.value=new a;return a}(),q=function(a,b){this.fromResponse=a;this.responseType=b},r=new q(d.readString,
new e.Tuple(b.Nothing.value,h.value)),d=new q(d.unsafeReadTagged("ArrayBuffer"),new e.Tuple(b.Nothing.value,f.value));a.ArrayBufferResponse=f;a.BlobResponse=g;a.DocumentResponse=k;a.JSONResponse=l;a.StringResponse=h;a.Respondable=q;a.fromResponse=function(a){return a.fromResponse};a.responseType=function(a){return a.responseType};a.responseTypeToString=function(a){if(a instanceof f)return"arraybuffer";if(a instanceof g)return"blob";if(a instanceof k)return"document";if(a instanceof l||a instanceof
h)return"text";throw Error("Failed pattern match at Network.HTTP.Affjax.Response line 52, column 1 - line 53, column 1: "+[a.constructor.name]);};a.responsableString=r;a.responsableArrayBuffer=d})(c["Network.HTTP.Affjax.Response"]=c["Network.HTTP.Affjax.Response"]||{});(function(a){var d=c.Prelude,b=function(){function a(){}a.value=new a;return a}(),e=function(){function a(){}a.value=new a;return a}(),f=function(){function a(){}a.value=new a;return a}(),g=function(){function a(){}a.value=new a;return a}(),
k=function(){function a(){}a.value=new a;return a}(),l=function(){function a(){}a.value=new a;return a}(),h=function(){function a(){}a.value=new a;return a}(),q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(){}a.value=new a;return a}(),m=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),p=new d.Show(function(a){if(a instanceof b)return"DELETE";if(a instanceof e)return"GET";if(a instanceof f)return"HEAD";if(a instanceof g)return"OPTIONS";
if(a instanceof k)return"PATCH";if(a instanceof l)return"POST";if(a instanceof h)return"PUT";if(a instanceof q)return"MOVE";if(a instanceof r)return"COPY";if(a instanceof m)return"(CustomMethod "+(d.show(d.showString)(a.value0)+")");throw Error("Failed pattern match at Network.HTTP.Method line 29, column 1 - line 41, column 1: "+[a.constructor.name]);});a.DELETE=b;a.GET=e;a.HEAD=f;a.OPTIONS=g;a.PATCH=k;a.POST=l;a.PUT=h;a.MOVE=q;a.COPY=r;a.CustomMethod=m;a.methodToString=function(a){return a instanceof
m?a.value0:d.show(p)(a)};a.showMethod=p})(c["Network.HTTP.Method"]=c["Network.HTTP.Method"]||{});(function(a){var d=c["Network.HTTP.MimeType"],b=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),e=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),f=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}();a.Accept=b;a.ContentType=e;a.RequestHeader=f;a.requestHeaderValue=
function(a){if(a instanceof b||a instanceof e)return d.mimeTypeToString(a.value0);if(a instanceof f)return a.value1;throw Error("Failed pattern match at Network.HTTP.RequestHeader line 28, column 1 - line 29, column 1: "+[a.constructor.name]);};a.requestHeaderName=function(a){if(a instanceof b)return"Accept";if(a instanceof e)return"Content-Type";if(a instanceof f)return a.value0;throw Error("Failed pattern match at Network.HTTP.RequestHeader line 23, column 1 - line 24, column 1: "+[a.constructor.name]);
}})(c["Network.HTTP.RequestHeader"]=c["Network.HTTP.RequestHeader"]||{});(function(a){var c=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(c){return function(d){return new a(c,d)}};return a}();a.responseHeader=function(a){return function(e){return new c(a,e)}}})(c["Network.HTTP.ResponseHeader"]=c["Network.HTTP.ResponseHeader"]||{});(function(a){var d=c["Network.HTTP.Affjax"],b=c.Prelude,e=c["Control.Bind"],f=c["Control.Monad.Aff"],g=c["Control.Monad.Eff.Exception"],k=c["Data.Array"],
l=c["Data.Either"],h=c["Data.Foreign"],q=c["Data.Foldable"],r=c["Data.Function"],m=c["Data.Maybe"],p=c["Data.Nullable"],v=c["Data.Tuple"],t=c["Network.HTTP.Affjax.Request"],n=c["Network.HTTP.Affjax.Response"],C=c["Network.HTTP.Method"],B=c["Network.HTTP.RequestHeader"],A=c["Network.HTTP.ResponseHeader"],D={method:C.GET.value,url:"/",headers:[],content:m.Nothing.value,username:m.Nothing.value,password:m.Nothing.value},u=function(a){return function(b){return f.makeAff(function(c){return function(e){return d._cancelAjax(a,
b,c,e)}})}},H=function(a){return function(c){return function(f){return function(w){return function(y){var I=n.responseType(c),D=function(){var c=b["<$>"](m.functorMaybe)(t.toRequest(a))(f.content);if(c instanceof m.Nothing)return new v.Tuple(m.Nothing.value,m.Nothing.value);if(c instanceof m.Just)return new v.Tuple(c.value0.value0,new m.Just(c.value0.value1));throw Error("Failed pattern match at Network.HTTP.Affjax line 204, column 1 - line 209, column 1: "+[c.constructor.name]);}(),H=v.snd(I)instanceof
n.JSONResponse?e["<=<"](l.bindEither)(n.fromResponse(c))(e["<=<"](l.bindEither)(h.parseJSON)(h.readString)):n.fromResponse(c),J=function(a){return function(c){return a instanceof m.Just&&!q.any(q.foldableArray)(b.booleanAlgebraBoolean)(r.on(b.eq(b.eqString))(B.requestHeaderName)(a.value0))(c)?k.snoc(c)(a.value0):c}},J=J(b["<$>"](m.functorMaybe)(B.ContentType.create)(v.fst(D)))(J(b["<$>"](m.functorMaybe)(B.Accept.create)(v.fst(I)))(f.headers)),I={method:C.methodToString(f.method),url:f.url,headers:b["<$>"](b.functorArray)(function(a){return{field:B.requestHeaderName(a),
value:B.requestHeaderValue(a)}})(J),content:p.toNullable(v.snd(D)),responseType:n.responseTypeToString(v.snd(I)),username:p.toNullable(f.username),password:p.toNullable(f.password)};return d._ajax(A.responseHeader,I,u,w,function(a){var c=b["<$>"](l.functorEither)(function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.response=b;return c})(H(a.response));if(c instanceof l.Left)return w(g.error(b.show(h.showForeignError)(c.value0)));if(c instanceof l.Right)return y(c.value0);throw Error("Failed pattern match at Network.HTTP.Affjax line 204, column 1 - line 209, column 1: "+
[c.constructor.name]);})}}}}},w=function(a){return function(b){return function(c){return f["makeAff'"](H(a)(b)(c))}}};a.get=function(a){return function(b){var c=w(t.requestableUnit)(a),d={},e;for(e in D)D.hasOwnProperty(e)&&(d[e]=D[e]);d.url=b;return c(d)}};a.affjax=w;a.defaultRequest=D})(c["Network.HTTP.Affjax"]=c["Network.HTTP.Affjax"]||{});(function(a){var d=c.Math,b=c["Data.Int"],e=c.Prelude,f=c["Data.Maybe"],g=c["Data.Array"],k=c["Data.StrMap"],l=c["Soundknot.Linear"],h=c["Soundknot.Historical"],
q=function(){function a(){}a.value=new a;return a}(),r=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),m=function(){function a(){}a.value=new a;return a}(),p=function(){function a(){}a.value=new a;return a}(),v=function(){function a(){}a.value=new a;return a}(),t=function(){function a(b,c,d){this.value0=b;this.value1=c;this.value2=d}a.create=function(b){return function(c){return function(d){return new a(b,c,d)}}};return a}(),n=function(){function a(b,c,d,e){this.value0=
b;this.value1=c;this.value2=d;this.value3=e}a.create=function(b){return function(c){return function(d){return function(e){return new a(b,c,d,e)}}}};return a}(),C=function(){function a(b,c){this.value0=b;this.value1=c}a.create=function(b){return function(c){return new a(b,c)}};return a}(),B=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),A=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),D=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),u=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),H=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),w=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),P=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),x=function(){function a(){}a.value=new a;return a}(),L=function(){function a(b){this.value0=
b}a.create=function(b){return new a(b)};return a}(),G=function(){function a(){}a.value=new a;return a}(),y=function(){function a(){}a.value=new a;return a}(),I=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),Q=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),T=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),J=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};
return a}(),N=function(){function a(){}a.value=new a;return a}(),z=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),R=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),Y=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),ea=function(){function a(b){this.value0=b}a.create=function(b){return new a(b)};return a}(),U=function(){function a(){}a.value=new a;return a}(),E=new e.Show(function(a){if(a instanceof
m)return"audio";if(a instanceof p)return"buffer";if(a instanceof v)return"midi";throw Error("Failed pattern match at Soundknot.Types line 455, column 1 - line 460, column 1: "+[a.constructor.name]);}),ca=new e.Eq(function(a){return function(b){return a instanceof q&&b instanceof q?!0:a instanceof r&&b instanceof r?e["=="](e.eqString)(a.value0)(b.value0):!1}}),F=new e.Eq(function(a){return function(b){return e["=="](e.eqString)(e.show(E)(a))(e.show(E)(b))}}),Z=new e.Eq(function(a){return function(b){return e.eq(e.eqString)(a.node)(b.node)&&
e.eq(e.eqString)(a.connector)(b.connector)}}),da=new e.Eq(function(a){return function(b){return e["=="](e.eqString)(a.name)(b.name)&&a.position.x===b.position.x&&a.position.y===b.position.y&&e["=="](e.eqBoolean)(a.dragging)(b.dragging)&&a.zIndex===b.zIndex}}),V=new e.Eq(function(a){return function(b){return e.eq(Z)(a.output)(b.output)&&e.eq(Z)(a.input)(b.input)}}),ka=new e.Eq(function(a){return function(b){return e["=="](e.eqArray(da))(a.nodes)(b.nodes)&&e["=="](e.eqArray(V))(a.edges)(b.edges)}});
a.AudioNodeValue=m;a.AudioBufferValue=p;a.MidiValue=v;a.NoteOn=t;a.NoteOff=n;a.DestinationFrame=A;a.GainFrame=D;a.DelayFrame=u;a.AudioBufferFrame=H;a.VideoFrame=w;a.StereoPannerFrame=P;a.ConvolverFrame=x;a.AnalyserFrame=L;a.ChannelSplitterFrame=G;a.ChannelMergerFrame=y;a.DynamicsCompressorFrame=I;a.BiquadFilterFrame=Q;a.WaveShaperFrame=T;a.OscillatorFrame=J;a.MediaStreamFrame=N;a.KeyboardFrame=z;a.TimelineFrame=R;a.InstrumentFrame=Y;a.MidiInputFrame=ea;a.WebMidiLinkFrame=U;a.FileSource=C;a.URLMediaSource=
B;a.NodeState=function(a){return a};a.State=function(a){return a};a.NewProject=q;a.ExistingProject=r;a.maxScaleFactor=5;a.minScaleFactor=-15;a.allNotesOff=function(a){return function(b){return g.catMaybes(e.map(e.functorArray)(function(b){return b instanceof t?f.Just.create(new n(b.value0,b.value1,b.value2,a)):b instanceof n&&b.value3+.3<a?f.Nothing.value:new f.Just(b)})(b))}};a.processMidiCommand=function(a){return function(b){return function(c){return function(d){return function(h){var m=g.catMaybes(e.map(e.functorArray)(function(b){return b instanceof
t&&b.value0===c?f.Just.create(new n(b.value0,b.value1,b.value2,a)):b instanceof n&&b.value3+.3<a?f.Nothing.value:new f.Just(b)})(h.notes));return 144<=b&&159>=b?new f.Just(function(){var b={},e;for(e in h)h.hasOwnProperty(e)&&(b[e]=h[e]);b.notes=g[":"](new t(c,a,d))(m);return b}()):128<=b&&143>=b?f.Just.create(function(){var a={},b;for(b in h)h.hasOwnProperty(b)&&(a[b]=h[b]);a.notes=m;return a}()):f.Nothing.value}}}}};a.screenToWorld=function(a){return function(c){return l[".*="](1/d.pow(1.2)(b.toNumber(a.scaleFactor)))(l["=-="](c)(a.translation))}};
a.scaleBase=1.2;a.getOutputPorts=function(a){return function(b){if(b instanceof A)return[];if(b instanceof D||b instanceof u)return[{type:m.value,name:"output"}];if(b instanceof H)return[{type:p.value,name:"output"}];if(b instanceof w||b instanceof P||b instanceof x)return[{type:m.value,name:"output"}];if(b instanceof L)return[];if(b instanceof G)return[{type:m.value,name:"output-0"},{type:m.value,name:"output-1"},{type:m.value,name:"output-2"},{type:m.value,name:"output-3"},{type:m.value,name:"output-4"},
{type:m.value,name:"output-5"}];if(b instanceof y||b instanceof I||b instanceof Q||b instanceof T||b instanceof J||b instanceof N)return[{type:m.value,name:"output"}];if(b instanceof z)return[{type:v.value,name:"output"}];if(b instanceof R)return e["<#>"](e.functorArray)(g[".."](0)(g.length(b.value0.tracks)-1))(function(a){return{type:m.value,name:"output-"+e.show(e.showInt)(a)}});if(b instanceof Y)return[{type:m.value,name:"output"}];if(b instanceof ea||b instanceof U)return[{type:v.value,name:"output"}];
throw Error("Failed pattern match at Soundknot.Types line 350, column 1 - line 351, column 1: "+[a.constructor.name,b.constructor.name]);}};a.getInputPorts=function(a){return function(b){if(b instanceof A||b instanceof D||b instanceof u)return[{type:m.value,name:"input"}];if(b instanceof H||b instanceof w)return[];if(b instanceof P)return[{type:m.value,name:"input"}];if(b instanceof x)return[{type:m.value,name:"input"},{type:p.value,name:"buffer"}];if(b instanceof L||b instanceof G)return[{type:m.value,
name:"input"}];if(b instanceof y)return[{type:m.value,name:"input-0"},{type:m.value,name:"input-1"},{type:m.value,name:"input-2"},{type:m.value,name:"input-3"},{type:m.value,name:"input-4"},{type:m.value,name:"input-5"}];if(b instanceof I||b instanceof Q||b instanceof T)return[{type:m.value,name:"input"}];if(b instanceof J||b instanceof N||b instanceof z||b instanceof R)return[];if(b instanceof Y)return[{type:v.value,name:"input"}];if(b instanceof ea||b instanceof U)return[];throw Error("Failed pattern match at Soundknot.Types line 318, column 1 - line 319, column 1: "+
[a.constructor.name,b.constructor.name]);}};a.iconName=function(a){if(a instanceof A)return"headphones";if(a instanceof D)return"volume-up";if(a instanceof u)return"hourglass";if(a instanceof H)return"oil";if(a instanceof w)return"music";if(a instanceof P)return"resize-horizontal";if(a instanceof x)return"random";if(a instanceof L)return"equalizer";if(a instanceof G)return"resize-full";if(a instanceof y)return"resize-small";if(a instanceof I)return"compressed";if(a instanceof Q)return"filter";if(a instanceof
T)return"";if(a instanceof J)return"bullhorn";if(a instanceof N)return"record";if(a instanceof z)return"menu-hamburger";if(a instanceof R)return"time";if(a instanceof Y)return"bell";if(a instanceof ea)return"piggy-bank";if(a instanceof U)return"cloud";throw Error("Failed pattern match at Soundknot.Types line 294, column 1 - line 295, column 1: "+[a.constructor.name]);};a.webMidiLinkSymbol="WebMidiLink";a.midiInputSymbol="Midi Input";a.instrumentSymbol="Instrument";a.timelineSymbol="Timeline";a.keyboardSymbol=
"Keyboard";a.mediaStreamSymbol="Media Stream";a.oscillatorSymbol="Oscillator";a.waveShaperSymbol="Wave Shaper";a.biquadFilterSymbol="Biquad Filter";a.dynamicsCompressorSymbol="Dynamics Compressor";a.channelMergerSymbol="Channel Merger";a.channelSplitterSymbol="Channel Splitter";a.analyserSymbol="Analyser";a.convolverSymbol="Convolver";a.stereoPannerSymbol="Stereo Panner";a.videoSymbol="Media Element";a.audioBufferSymbol="Audio Buffer";a.delaySymbol="Delay";a.gainSymbol="Gain";a.destinationSymbol=
"Destination";a.frameTypeToTitle=function(a){if(a instanceof A)return"Destination";if(a instanceof D)return"Gain";if(a instanceof u)return"Delay";if(a instanceof H)return"Audio Buffer";if(a instanceof w)return"Media Element";if(a instanceof P)return"Stereo Panner";if(a instanceof x)return"Convolver";if(a instanceof L)return"Analyser";if(a instanceof G)return"Channel Splitter";if(a instanceof y)return"Channel Merger";if(a instanceof I)return"Dynamics Compressor";if(a instanceof Q)return"Biquad Filter";
if(a instanceof T)return"Wave Shaper";if(a instanceof J)return"Oscillator";if(a instanceof N)return"Media Stream";if(a instanceof z)return"Keyboard";if(a instanceof R)return"Timeline";if(a instanceof Y)return"Instrument";if(a instanceof ea)return"Midi Input";if(a instanceof U)return"WebMidiLink";throw Error("Failed pattern match at Soundknot.Types line 211, column 1 - line 212, column 1: "+[a.constructor.name]);};a.initialState=function(a){return function(b){return{projectName:a,projectEntries:[],
selectedProject:f.Nothing.value,projectListVisible:!1,scaleFactor:0,translation:{x:0,y:0},scrolling:f.Nothing.value,dragging:f.Nothing.value,connecting:f.Nothing.value,transition:!1,appendingNode:f.Nothing.value,project:h.historical({nodes:[],edges:[]}),driver:f.Nothing.value,audioBuffers:k.empty,audioFiles:k.empty,localMediaStream:f.Nothing.value,instruments:k.empty,midiInputs:k.empty,sfzMap:k.empty,config:{theme:b},clipboard:f.Nothing.value,displayAbout:!0}}};a.eq_Port=Z;a.eq_Edge=V;a.show_PortValue=
E;a.eq_PortValue=F;a.eq_NodeState=da;a.eq_Project=ka;a.eq_ProjectEntrySelect=ca})(c["Soundknot.Types"]=c["Soundknot.Types"]||{});(function(a){a.showSplash=function(){document.getElementById("splash").style.display="block"}})(c["Soundknot.UI"]=c["Soundknot.UI"]||{});(function(a){a.renderWaveform=function(a){return function(b){return function(c){return function(f){return function(g){return function(k){if(!g.every(function(a){return!!k[a.buffer]}))return"";var l=(c-b)/f|0,h=1E3<l?10:1,q=Math.max(0,b);
(54).toFixed(4);for(var r=0,m=0;m<g.length;m++)var p=g[m],v=k[p.buffer],r=Math.max(r,v.numberOfChannels);for(var t="",n=0;n<r;n++){for(var C=new Float32Array(f),B=new Float32Array(f),m=0;m<g.length;m++)if(p=g[m],v=k[p.buffer],n<v.numberOfChannels){var A=v.getChannelData(n),D=a*p.offset|0;(function(){for(var a=0;a<f;a++){for(var b=-1,c=1,d=0;d<l;d+=h){var e=q-D+l*a+d;if(!(0>=e)){if(A.length<=e)return;e=A[e];b=Math.max(b,e);c=Math.min(c,e)}}C[a]=Math.max(C[a],b);B[a]=Math.min(B[a],c)}})()}m=36/r;p=
m+2*m*n;t+="M 0 "+p.toFixed(4);for(v=0;v<f;v++)t+=" L "+v+" "+(p+m*B[v]).toFixed(4),t+=" L "+v+" "+(p+m*C[v]).toFixed(4)}return t}}}}}}})(c["Soundknot.UI.Timeline.Markup"]=c["Soundknot.UI.Timeline.Markup"]||{});(function(a){a._openFile=function(a){return function(b){return function(){var c=document.createElement("input");c.value=null;c.setAttribute("type","file");c.addEventListener("change",function(){b(c.files[0])()});c.addEventListener("error",function(b){a(b.toString())()});var f=document.createEvent("MouseEvents");
f.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(f)}}};a.now=function(){return performance.now()};a.toFixed=function(a){return function(b){return a.toFixed(b)}};a.getOffset=function(a){for(var b=a.currentTarget,c=0,f=0;b&&!isNaN(b.offsetLeft)&&!isNaN(b.offsetTop);)c+=b.offsetLeft-b.scrollLeft,f+=b.offsetTop-b.scrollTop,b=b.offsetParent;return{x:a.clientX-c,y:a.clientY-f}};a.getAudioFile=function(a){if(a.dataTransfer&&a.dataTransfer.items)for(var b=0;b<a.dataTransfer.items.length;b++){var c=
a.dataTransfer.items[b];if("file"==c.kind&&("audio/wav"==c.type||"audio/mp3"==c.type||"audio/ogg"==c.type||"video/mp4"==c.type||"video/avi"==c.type||"video/ogg"==c.type))return c.getAsFile()}return null};a.createFile=function(a){return function(b){return new File(a,b)}};a.download=function(a){return function(){var b=URL.createObjectURL(a),c=document.createElement("a");c.download=a.name;c.href=b;c.click()}}})(c["Soundknot.Utils"]=c["Soundknot.Utils"]||{});(function(a){var d=c.Prelude,b=c["OpticUI.Markup"],
e=c["Data.Maybe"],f=c["Data.Either"],g=c["Data.Monoid"],k=c["Data.Foreign"],l=c["Data.Foreign.Class"],h=c["Data.Foreign.Index"],q=b.element(e.Nothing.value)("video"),r=b.prop("value"),m=b.attr("type"),p=b.element(e.Nothing.value)("tr"),v=b.element(e.Nothing.value)("th"),t=b.element(e.Nothing.value)("table"),n=b.attr("style"),C=b.element(e.Nothing.value)("style"),B=b.element(e.Nothing.value)("span"),A=b.element(e.Nothing.value)("select"),D=b.element(e.Nothing.value)("option"),u=function(a){return function(b){return function(c){return f.either(d["const"](e.Nothing.value))(e.Just.create)(l.readProp(a)(h.indexString)(b)(k.toForeign(c.target)))}}},
H=b.attr("draggable")("true"),w=b.element(e.Nothing.value)("div"),P=b.attr("class");a.getProp=u;a.onDrop=function(a){return b.handle("drop")(a)};a.onDragOver=function(a){return b.handle("dragover")(a)};a.onDragStart=function(a){return b.handle("dragstart")(a)};a.onInput=function(a){return function(c){return b.handle("input")(function(b){return c(b)(u(a)("value")(b))})}};a.onWheel=function(a){return b.handle("wheel")(a)};a.onMouseLeave=function(a){return b.handle("mouseleave")(a)};a.onMouseMove=function(a){return b.handle("mousemove")(a)};
a.onMouseUp=function(a){return b.handle("mouseup")(a)};a.onMouseDown=function(a){return b.handle("mousedown")(a)};a.onClick=function(a){return b.handle("click")(a)};a.draggableA=H;a.valueA=r;a.styleA=n;a.typeA=m;a.classA=P;a.video=q;a.tr=p;a.th=v;a.table=t;a.style=C;a.span=B;a.select=A;a.option=D;a.input_=function(a){return b.element(e.Nothing.value)("input")(a)(g.mempty(b.markupMonoid))};a.div=w})(c["OpticUI.Markup.HTML"]=c["OpticUI.Markup.HTML"]||{});(function(a){var d=c["Soundknot.Utils"],b=c.Prelude,
e=c["Data.Array"],f=c["Data.Monoid"],g=c["Control.Monad.Aff"],k=c["OpticUI.Markup.HTML"],l=c["OpticUI.Markup"],h=k.div([k.styleA("width:16px")])(f.mempty(l.markupMonoid)),g=g.makeAff(d._openFile),q=function(a){return e[".."](0)(e.length(a)-1)},r=function(a){return k.span([k.classA("glyphicon glyphicon-"+a)])(f.mempty(l.markupMonoid))};a.spacer=h;a.iconButton=function(a){return function(b){return k.div([k.classA("icon button"),k.onClick(function(a){return b})])(r(a))}};a.glyphicon=r;a.indices=q;a.withIndex=
function(a){return function(b){return e.zipWith(b)(q(a))(a)}};a.signum=function(a){var b=0<a;if(b)return-1;if(!b){if(a=0>a)return 1;if(!a)return 0;throw Error("Failed pattern match: "+[a.constructor.name]);}throw Error("Failed pattern match at Soundknot.Utils line 50, column 1 - line 51, column 1: "+[b.constructor.name]);};a.clientPosition=function(a){return{x:a.clientX,y:a.clientY}};a.openFile=g;a.nop=function(a){return b.pure(a)(b.unit)};a.download=d.download;a.createFile=d.createFile;a.getAudioFile=
d.getAudioFile;a.getOffset=d.getOffset;a.toFixed=d.toFixed;a.now=d.now})(c["Soundknot.Utils"]=c["Soundknot.Utils"]||{});(function(a){var d=c["Data.StrMap"],b=c.Math,e=c.Prelude,f=c["Data.Maybe"],g=c["Data.Nullable"],k=c["Data.Tuple"],l=c["Data.Array"],h=c["Soundknot.Utils"],q=c["Soundknot.UI.Timeline.Types"],r=c["WebAudio.Core"],m=c["Sound.AudioGraph.Types"];a.renderTimelineAudio=function(a){return function(c){return function(t){return function(n){var C=q.runSeconds(q.beatsToSeconds(n.bpm)(n.cursor)),
B=g.toMaybe(n.start);if(B instanceof f.Nothing)return new k.Tuple([],[]);if(B instanceof f.Just)return B=h.withIndex(n.tracks)(function(h){return function(B){B=l.catMaybes(l.concatMap(function(h){return e.map(e.functorArray)(function(e){var k=d.lookup(e.buffer)(c.audioBuffers);if(k instanceof f.Nothing)return f.Nothing.value;if(k instanceof f.Just){var l=q.runSeconds(q.addSeconds(q.beatsToSeconds(n.bpm)(h.position))(e.offset))-C,r=a+l,l=b.max(0)(-l);return f.Just.create(new m.VNode({key:e.key,node:new m.VAudioBufferSource({buffer:k.value0,
detune:0,playing:!0,when:g.toNullable(f.Just.create(b.max(0)(r))),offset:g.toNullable(f.Just.create(l)),duration:g.toNullable(f.Nothing.value)})}))}throw Error("Failed pattern match at Soundknot.UI.Timeline.Audio line 43, column 17 - line 49, column 17: "+[k.constructor.name]);})(h.slices)})(B.clips));var u=t+("-output-"+e.show(e.showInt)(h)),H=new m.VNode({key:u,node:new m.VGain({gain:[new r.ConstantValue(1)]})}),u=e.map(e.functorArray)(function(a){return{output:a,outputIndex:0,input:H,inputIndex:0}})(B);
return new k.Tuple(e["++"](e.semigroupArray)([H])(B),u)}}),new k.Tuple(l.concatMap(k.fst)(B),l.concatMap(k.snd)(B));throw Error("Failed pattern match at Soundknot.UI.Timeline.Audio line 15, column 1 - line 16, column 1: "+[B.constructor.name]);}}}}})(c["Soundknot.UI.Timeline.Audio"]=c["Soundknot.UI.Timeline.Audio"]||{});(function(a){var d=c["Soundknot.UI.Timeline.Audio"],b=c.Prelude,e=c["Unsafe.Coerce"],f=c["Data.Traversable"],g=c["Data.Tuple"],k=c["Data.Maybe"],l=c["Data.Array"],h=c["Data.Foldable"],
q=c["Data.Nullable"],r=c["Data.StrMap"],m=c["Control.Monad.Eff"],p=c["DOM.HTML"],v=c["DOM.HTML.Window"],t=c["DOM.HTML.Types"],n=c["DOM.Node.NonElementParentNode"],C=c["Soundknot.Historical"],B=c["Soundknot.Utils"],A=c["Soundknot.Types"],D=c.SoundFont,u=c["WebAudio.Core"],H=c["Sound.AudioGraph.Types"],w=c["Data.Monoid"];a.renderAudio=function(a){return function(c){var L=C.runHistorical(c.project),G=function(a){return function(b){return{output:a,outputIndex:0,input:b,inputIndex:0}}};return function(){var y=
f["for"](m.applicativeEff)(f.traversableArray)(L.nodes)(function(h){if(h.props instanceof A.DestinationFrame){var w=new H.VNode({key:h.name+"-input",node:new H.VGain(h.props.value0)}),y=new H.VNode({key:h.name+"#dest",node:H.VDestination.value});return b.pure(m.applicativeEff)(new g.Tuple([y,w],[G(w)(y)]))}if(h.props instanceof A.BiquadFilterFrame)return y=new H.VNode({key:h.name+"-input",node:new H.VBiquadFilter(h.props.value0)}),w=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})}),
b.pure(m.applicativeEff)(new g.Tuple([y,w],[G(y)(w)]));if(h.props instanceof A.VideoFrame)return function(){var a=b["<$>"](m.functorEff)(t.htmlDocumentToNonElementParentNode)(b[">>="](m.bindEff)(p.window)(v.document))(),a=n.getElementById(h.name)(a)(),a=new H.VNode({key:h.name+"-output",node:new H.VVideoElement({element:e.unsafeCoerce(a)})});return b.pure(m.applicativeEff)(new g.Tuple([a],[]))()};if(h.props instanceof A.GainFrame){var J=new H.VNode({key:h.name+"-input",node:new H.VGain(h.props.value0)}),
C=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})});return b.pure(m.applicativeEff)(new g.Tuple([J,C],[G(J)(C)]))}return h.props instanceof A.DelayFrame?(J=new H.VNode({key:h.name+"-input",node:new H.VDelay(h.props.value0)}),C=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})}),b.pure(m.applicativeEff)(new g.Tuple([J,C],[G(J)(C)]))):h.props instanceof A.StereoPannerFrame?(J=new H.VNode({key:h.name+"-input",node:new H.VStereoPanner(h.props.value0)}),
C=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})}),b.pure(m.applicativeEff)(new g.Tuple([J,C],[G(J)(C)]))):h.props instanceof A.ConvolverFrame?b.pure(m.applicativeEff)(k.fromMaybe(new g.Tuple([],[]))(b.bind(k.bindMaybe)(l.head(l.filter(function(a){return b["=="](A.eq_Port)(a.input)({node:h.name,connector:h.name+"-buffer"})})(L.edges)))(function(a){return b.bind(k.bindMaybe)(l.head(l.filter(function(c){return b["=="](b.eqString)(c.name)(a.output.node)})(L.nodes)))(function(a){return a.props instanceof
A.AudioBufferFrame?b.bind(k.bindMaybe)(a.props.value0.file)(function(a){return b.bind(k.bindMaybe)(r.lookup(e.unsafeCoerce(a).name)(c.audioBuffers))(function(a){a=new H.VNode({key:h.name+"-input",node:new H.VConvolver({buffer:a})});var c=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})});return b.pure(k.applicativeMaybe)(new g.Tuple([a,c],[G(a)(c)]))})}):b.pure(k.applicativeMaybe)(new g.Tuple([],[]))})}))):h.props instanceof A.ChannelSplitterFrame?(J=new H.VNode({key:h.name+
"-input",node:H.VChannelSplitter.value}),w=b.map(b.functorArray)(function(a){return new H.VNode({key:h.name+("-output-"+b.show(b.showInt)(a)),node:new H.VGain({gain:[new u.ConstantValue(1)]})})})(l[".."](0)(5)),b.pure(m.applicativeEff)(new g.Tuple(b["++"](b.semigroupArray)([J])(w),B.withIndex(w)(function(a){return function(b){return{output:J,outputIndex:a,input:b,inputIndex:0}}})))):h.props instanceof A.ChannelMergerFrame?(w=b.map(b.functorArray)(function(a){return new H.VNode({key:h.name+("-input-"+
b.show(b.showInt)(a)),node:new H.VGain({gain:[new u.ConstantValue(1)]})})})(l[".."](0)(5)),C=new H.VNode({key:h.name+"-output",node:H.VChannelMerger.value}),b.pure(m.applicativeEff)(new g.Tuple(b["++"](b.semigroupArray)(w)([C]),B.withIndex(w)(function(a){return function(b){return{output:b,outputIndex:0,input:C,inputIndex:a}}})))):h.props instanceof A.DynamicsCompressorFrame?(J=new H.VNode({key:h.name+"-input",node:new H.VDynamicsCompressor(h.props.value0)}),C=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})}),
b.pure(m.applicativeEff)(new g.Tuple([J,C],[G(J)(C)]))):h.props instanceof A.OscillatorFrame?(C=new H.VNode({key:h.name+"-output",node:new H.VOscillator(h.props.value0)}),b.pure(m.applicativeEff)(new g.Tuple([C],[]))):h.props instanceof A.AnalyserFrame?(J=new H.VNode({key:h.name+"-input",node:new H.VAnalyser({handler:function(a){return b.pure(m.applicativeEff)(b.unit)}})}),b.pure(m.applicativeEff)(new g.Tuple([J],[]))):h.props instanceof A.MediaStreamFrame?b.pure(m.applicativeEff)(new g.Tuple(k.maybe([])(function(a){return[new H.VNode({key:h.name+
"-output",node:new H.VMediaStream(a)})]})(c.localMediaStream),[])):h.props instanceof A.TimelineFrame?b.pure(m.applicativeEff)(d.renderTimelineAudio(a)(c)(h.name)(h.props.value0)):h.props instanceof A.InstrumentFrame?b.pure(m.applicativeEff)(k.fromMaybe(new g.Tuple([],[]))(function(){var a=new H.VNode({key:h.name+"-output",node:new H.VGain({gain:[new u.ConstantValue(1)]})});return b.bind(k.bindMaybe)(r.lookup(h.props.value0.instrument)(c.sfzMap))(function(d){D.flattenSFZ(d);return b.bind(k.bindMaybe)(b["<$>"](k.functorMaybe)(l.unzip)(f["for"](k.applicativeMaybe)(f.traversableArray)(h.props.value0.notes)(function(e){return b.pure(k.applicativeMaybe)(k.fromMaybe(new g.Tuple([],
[]))(function(){var f=function(a){return function(c){return new H.VNode({key:h.name+("-gain-"+b.show(b.showNumber)(a)),node:new H.VGain({gain:c})})}},m=function(a){return function(e){var f=D.flattenSFZ(d);return b.bind(k.bindMaybe)(D.regionIndex(f)(a))(function(d){return b.bind(k.bindMaybe)(D.keyCenter(f)(d))(function(g){return b.bind(k.bindMaybe)(D.findBuffer(f)("soundfont/sonatina-symphonic-orchestra/")(c.audioBuffers)(d))(function(c){return k.Just.create(new H.VNode({key:h.name+("-source-"+b.show(b.showNumber)(e)),
node:new H.VAudioBufferSource({buffer:c,detune:100*(a-D.nameToIndex(g))|0,playing:!0,when:q.toNullable(new k.Just(e)),offset:q.toNullable(new k.Just(0)),duration:q.toNullable(k.Nothing.value)})}))})})})}};if(e instanceof A.NoteOn){var l=f(e.value1)([new u.ConstantValue(1)]);return b.bind(k.bindMaybe)(m(e.value0)(e.value1))(function(b){return k.Just.create(new g.Tuple([b,l],[G(b)(l),G(l)(a)]))})}if(e instanceof A.NoteOff)return l=f(e.value1)([new u.SetTargetAtTime(0,u.AudioTime(e.value3+.05),.1)]),
b.bind(k.bindMaybe)(m(e.value0)(e.value1))(function(b){return k.Just.create(new g.Tuple([b,l],[G(b)(l),G(l)(a)]))});throw Error("Failed pattern match at Soundknot.Audio line 38, column 1 - line 39, column 1: "+[e.constructor.name]);}()))})))(function(c){return b.pure(k.applicativeMaybe)(new g.Tuple(b["++"](b.semigroupArray)(l.concat(c.value0))([a]),l.concat(c.value1)))})})}())):b.pure(m.applicativeEff)(new g.Tuple([],[]))})();return function(){var a=h.foldMap(h.foldableArray)(w.monoidArray)(g.snd)(y),
c=h.foldMap(h.foldableArray)(w.monoidArray)(g.fst)(y),d=l.catMaybes(b.map(b.functorArray)(function(a){var d=function(a){return l.head(l.filter(function(c){return b["=="](H.eq_VNodeName)(c.value0.key)(a)})(c))};return b.bind(k.bindMaybe)(d(a.output.connector))(function(c){return b.bind(k.bindMaybe)(d(a.input.connector))(function(d){var e=function(){if(c.value0.node instanceof H.VChannelSplitter){if("output-0"===a.output.connector)return 0;if("output-1"===a.output.connector)return 1;if("output-2"===
a.output.connector)return 2;if("output-3"===a.output.connector)return 3;if("output-4"===a.output.connector)return 4;if("output-5"===a.output.connector)return 5}return 0}(),f=function(){if(d.value0.node instanceof H.VChannelMerger){if("input-0"===a.input.connector)return 0;if("input-1"===a.input.connector)return 1;if("input-2"===a.input.connector)return 2;if("input-3"===a.input.connector)return 3;if("input-4"===a.input.connector)return 4;if("input-5"===a.input.connector)return 5}return 0}();return b.pure(k.applicativeMaybe)({output:new H.VNode(c.value0),
outputIndex:e,input:new H.VNode(d.value0),inputIndex:f})})})})(L.edges)),a=b["++"](b.semigroupArray)(a)(d);return b.pure(m.applicativeEff)(a)}()()}}}})(c["Soundknot.Audio"]=c["Soundknot.Audio"]||{});(function(a){a._encodeAudioBufferToMp3=function(a){return function(b){return function(b){return function(){console.log("Converting to Mp3");var c=new Date;console.log("start: "+c);var g=a.getChannelData(0),k=new Worker("js/recorderWorker.js");k.onmessage=function(a){b(a.data)();console.log("Done converting to Mp3");
console.log("finish: "+(.001*(new Date-c)).toFixed(1)+" secs.")};k.postMessage({command:"init",config:{sampleRate:a.sampleRate,mp3LibPath:"lame.all.js",vorbisLibPath:"libvorbis.module.min.js",recordAsMP3:!0,recordAsOGG:!1}});k.postMessage({command:"record",buffer:[g]});k.postMessage({command:"exportMP3"})}}}}})(c["Sound.MP3Encoder"]=c["Sound.MP3Encoder"]||{});(function(a){var d=c["Sound.MP3Encoder"],b=c["Control.Monad.Aff"];a.encodeAudioBufferToMp3=function(a){return b.makeAff(d._encodeAudioBufferToMp3(a))}})(c["Sound.MP3Encoder"]=
c["Sound.MP3Encoder"]||{});(function(a){var d=c["OpticUI.Markup"],b=c["Data.Maybe"],e=d.attr("transform"),b=new b.Just("http://www.w3.org/2000/svg"),f=d.element(b)("svg"),g=d.element(b)("path"),k=d.element(b)("line"),l=d.element(b)("g"),d=d.attr("fill");a.fillA=d;a.transformA=e;a.svg=f;a.path=g;a.line=k;a.g=l;a.svgNamespace=b})(c["OpticUI.Markup.SVG"]=c["OpticUI.Markup.SVG"]||{});(function(a){a.setTransferData=function(a){return function(b){return function(c){return function(){c.dataTransfer.setData(a,
b)}}}}})(c["Soundknot.Polyfill"]=c["Soundknot.Polyfill"]||{});(function(a){var d=c["Soundknot.Polyfill"],b=c["DOM.Event.Event"],e=c["Unsafe.Coerce"];a.preventDefault=function(a){return e.unsafeCoerce(b.preventDefault)(a)};a.stopPropagation=function(a){return e.unsafeCoerce(b.stopPropagation)(a)};a.setTransferData=d.setTransferData})(c["Soundknot.Polyfill"]=c["Soundknot.Polyfill"]||{});(function(a){var d=c["OpticUI.Markup"],b=c["Data.Int"],e=c.Prelude,f=c.Global,g=c["Data.Array"],k=c["Data.Maybe"],
l=c["Data.Foreign.Class"],h=c["Data.Foldable"],q=c["Control.Monad.Eff"],r=c["OpticUI.Markup.HTML"],m=c["Soundknot.Utils"],p=function(a){return function(b){return d.handle("change")(function(c){return b(c)(r.getProp(a)("value")(c))})}};a.textDropDownList=function(a){return function(b){return function(c){return function(f){return function(m){e.map(e.functorArray)(e.show(e.showString))(a);return r.select(e["++"](e.semigroupArray)(f)([d.handle("change")(function(a){a=r.getProp(l.stringIsForeign)("value")(a);
if(a instanceof k.Nothing)return e.pure(q.applicativeEff)(e.unit);if(a instanceof k.Just)return m(a.value0);throw Error("Failed pattern match at Soundknot.UI.Components line 72, column 1 - line 73, column 1: "+[a.constructor.name]);})]))(h.foldMap(h.foldableArray)(d.markupMonoid)(function(a){return r.option(function(){var b=e["=="](e.eqString)(a)(c);if(b)return[d.attr("selected")("")];if(!b)return[];throw Error("Failed pattern match at Soundknot.UI.Components line 72, column 1 - line 73, column 1: "+
[b.constructor.name]);}())(d.text(a))})(g[":"]("")(e.map(e.functorArray)(b)(a))))}}}}};a.dropDownList=function(a){return function(b){return function(c){return function(f){return function(m){return function(p){var D=e.map(e.functorArray)(e.show(b))(c);return r.select(e["++"](e.semigroupArray)(m)([d.handle("change")(function(a){var b=e.bind(k.bindMaybe)(r.getProp(l.stringIsForeign)("value")(a))(function(a){return e.bind(k.bindMaybe)(g.elemIndex(e.eqString)(a)(D))(function(a){return g["!!"](c)(a)})});
return function(){var a;if(b instanceof k.Nothing)a=e.pure(q.applicativeEff)(e.unit);else if(b instanceof k.Just)a=p(b.value0);else throw Error("Failed pattern match at Soundknot.UI.Components line 53, column 1 - line 54, column 1: "+[b.constructor.name]);a();return e.unit}})]))(h.foldMap(h.foldableArray)(d.markupMonoid)(function(c){return r.option(function(){var b=e["=="](a)(c)(f);if(b)return[d.attr("selected")("")];if(!b)return[];throw Error("Failed pattern match at Soundknot.UI.Components line 53, column 1 - line 54, column 1: "+
[b.constructor.name]);}())(d.text(e.show(b)(c)))})(c))}}}}}};a.numberInput=function(a){return function(b){return function(c){return r.input_(e["++"](e.semigroupArray)(b)([r.valueA(m.toFixed(a)(3)),r.typeA("number"),d.attr("step")("1"),r.onInput(l.stringIsForeign)(function(a){return function(a){a=k.maybe("1.0")(e.id(e.categoryFn))(a);return""===a?e.pure(q.applicativeEff)(e.unit):c(f.readFloat(a))}})]))}}};a.intRangeInput=function(a){return function(c){return function(g){return function(h){return r.input_(e["++"](e.semigroupArray)(c)([r.valueA(e.show(e.showInt)(a)),
r.typeA("range"),d.attr("min")("0"),d.attr("max")("100"),d.attr("step")("1"),r.onInput(l.stringIsForeign)(function(a){return function(a){return g(b.floor(f.readFloat(k.maybe("0")(e.id(e.categoryFn))(a))))}}),p(l.stringIsForeign)(function(a){return function(a){return g(b.floor(f.readFloat(k.maybe("0")(e.id(e.categoryFn))(a))))}})]))}}}};a.rangeInput=function(a){return function(b){return function(c){return function(g){return r.input_(e["++"](e.semigroupArray)(b)([r.valueA(e.show(e.showNumber)(a)),r.typeA("range"),
d.attr("min")("0.0"),d.attr("max")("1.0"),d.attr("step")("0.01"),r.onInput(l.stringIsForeign)(function(a){return function(a){return c(f.readFloat(k.maybe("1.0")(e.id(e.categoryFn))(a)))}}),p(l.stringIsForeign)(function(a){return function(a){return c(f.readFloat(k.maybe("1.0")(e.id(e.categoryFn))(a)))}})]))}}}}})(c["Soundknot.UI.Components"]=c["Soundknot.UI.Components"]||{});(function(a){function d(){function a(b){b=c.getAttribute(b);if(""===b)return h;b=document.getElementById(b).getBoundingClientRect();
return{x:.5*(b.left+b.right),y:.5*(b.top+b.bottom)}}if(310>performance.now()-f)for(var b=0;b<k.length;b++){var c=k[b],e=a("data-output"),n=a("data-input");if(""!==n&&null!==n){var e=l({x:e.x-g.left,y:e.y-g.top}),n=l(""==n?h:{x:n.x-g.left,y:n.y-g.top}),q=Math.max(.5*Math.abs(e.x-n.x),Math.min(300,.5*Math.abs(e.y-n.y)));c.setAttribute("d",["M",e.x,e.y,"C",e.x+q,e.y,n.x-q,n.y,n.x,n.y].join(" "))}}window.requestAnimationFrame(d)}function b(){for(var a=c["Sound.AudioGraph.Core"]._readFromAudioGraph(),
d=document.querySelectorAll("svg.analyser"),e=performance.now(),f=0;f<d.length;f++)for(var g=d[f],h=g.querySelector("path.frequency"),l=g.getAttribute("data-name"),k=0;k<a.rnodes.length;k++){var D=a.rnodes[k];if(D.value0.name===l){l=D.value0.node;g.setAttribute("width",l.frequencyBinCount);g.setAttribute("height",256);q=q||new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(q);k="M 0 256";for(D=0;D<q.length;D++)k+=" L "+D+" "+(256-q[D]);k+=" L "+q.length+" 255 Z";h.setAttribute("d",k);if("undefined"==
typeof r||1E3<e-r){if(g=g.querySelector("path.timeDomain")){l.getByteTimeDomainData(q);k="M 0 "+q[0];for(D=1;D<q.length;D++)k+=" L "+D+" "+(255-q[D]);g.setAttribute("d",k)}r=e}break}}window.requestAnimationFrame(b)}function e(){for(var a=c["Sound.AudioGraph.Core"].getAudioGraphContext().currentTime,b=document.querySelectorAll(".timeline .cursor"),d=0;d<b.length;d++){var f=b[d];if("true"===f.getAttribute("data-play")){var g=parseFloat(f.getAttribute("data-bpm")),h=parseFloat(f.getAttribute("data-scale")),
k=parseFloat(f.getAttribute("data-time")),l=parseFloat(f.getAttribute("data-translation")),g=parseFloat(f.getAttribute("data-position"))+g/60*(a-k);f.style.left=h*(g-l)+"px";f.setAttribute("data-current-position",g)}}b=document.querySelectorAll("div.wiring-frame");for(d=0;d<b.length;d++)a=b[d],0===parseFloat(a.style.opacity)&&"none"!==a.style.display?a.style.display="none":0!==parseFloat(a.style.opacity)&&"none"===a.style.display&&(a.style.display="block");b=document.querySelectorAll("div.videoFrames");
for(f=0;f<b.length;f++)for(h=b[f],d=0;d<h.children.length;d++)a=h.children[d],a.currentTime!=10*d&&(a.currentTime=10*d);window.requestAnimationFrame(e)}var f,g,k,l,h;d();a._updatePath=function(a){return function(b){return function(){l=a;h=b;var c=document.querySelector("svg");k=document.querySelectorAll("path.connection");c&&(g=c.getBoundingClientRect(),f=performance.now())}}};var q,r;console.log();b();e()})(c["Soundknot.Update"]=c["Soundknot.Update"]||{});(function(a){a.createObjectURL=function(a){return function(){return window.URL.createObjectURL(a)}};
a.fileToBlob=function(a){return a};a._readFile=function(a){return function(b){return function(c){return function(){var f=new FileReader;f.onload=function(){c(f.result)()};f.onerror=function(a){b(a)()};f.readAsArrayBuffer(a)}}}}})(c.TypedArray=c.TypedArray||{});(function(a){var d=c.TypedArray,b=c["Control.Monad.Aff"];a.readFile=function(a){return b.makeAff(d._readFile(a))};a.fileToBlob=d.fileToBlob;a.createObjectURL=d.createObjectURL})(c.TypedArray=c.TypedArray||{});(function(a){var d=c["Soundknot.Update"],
b=c["Data.Ord"],e=c["OpticUI.Core"],f=c["WebAudio.Core"],g=c.Prelude,k=c["Unsafe.Coerce"],l=c["Data.Array"],h=c["Data.List"],q=c["Data.Either"],r=c["Data.Foldable"],m=c["Data.Maybe"],p=c["Data.Nullable"],v=c["Data.String"],t=c["Data.StrMap"],n=c["Control.Monad.Eff"],C=c["Control.Monad.Eff.Console"],B=c["Control.Monad.Eff.Class"],A=c["Control.Monad.Aff"],D=c["Network.HTTP.Affjax"],u=c["Soundknot.Types"],H=c["Soundknot.Audio"],w=c["Soundknot.Historical"],P=c.TypedArray,x=c.MediaStream,L=c["Sound.AudioGraph.Core"],
G=c.SoundFont,y=c["Network.HTTP.Affjax.Response"],I=c["Control.Monad.Eff.Exception"],Q=c["Text.Parsing.StringParser"],z=function(a){return d._updatePath(u.screenToWorld(a))(p.toNullable(m.fromMaybe(m.Nothing.value)(g["<$>"](m.functorMaybe)(function(a){return a.mouse})(a.connecting))))},J=function(a){return function(b){return function(c){return g.bind(A.bindAff)(B.liftEff(A.monadEffAff)(L.getAudioGraphContext))(function(d){return g.bind(A.bindAff)(f.decodeAudioFile(b)(d))(function(d){return B.liftEff(A.monadEffAff)(a(function(a){var e=
function(){var e={},f;for(f in a)a.hasOwnProperty(f)&&(e[f]=a[f]);e.audioBuffers=t.insert(c)(d)(a.audioBuffers);e.audioFiles=t.insert(c)(b)(a.audioFiles);return e}();return function(){var a=L.getAudioGraphContext(),a=f.currentTime(a)();z(e)();H.renderAudio(a)(e)();return e}}))})})}}},N=function(a){var b=function(b){return l.head(l.filter(function(a){return g["=="](g.eqString)(a.name)(b.node)})(a.nodes))},c=l.filter(function(a){return m.fromMaybe(!1)(g.bind(m.bindMaybe)(g.pure(m.applicativeMaybe)(a.output))(function(c){return g.bind(m.bindMaybe)(g.pure(m.applicativeMaybe)(a.input))(function(d){return g.bind(m.bindMaybe)(b(a.output))(function(e){return g.bind(m.bindMaybe)(b(a.input))(function(b){return g.bind(m.bindMaybe)(l.head(l.filter(function(a){return g["=="](g.eqString)(e.name+
("-"+a.name))(c.connector)})(u.getOutputPorts(e.name)(e.props))))(function(c){return g.bind(m.bindMaybe)(l.head(l.filter(function(a){return g["=="](g.eqString)(b.name+("-"+a.name))(d.connector)})(u.getInputPorts(b.name)(b.props))))(function(b){var d=g["/="](g.eqString)(a.output.node)(a.input.node);b=g["=="](u.eq_PortValue)(c.type)(b.type);return g.pure(m.applicativeMaybe)(d&&b)})})})})})}))})(l.nub(u.eq_Edge)(a.edges));return{nodes:a.nodes,edges:function(a){return l.nubBy(function(a){return function(c){return m.fromMaybe(!1)(g.bind(m.bindMaybe)(g.pure(m.applicativeMaybe)(a.input))(function(d){return g.bind(m.bindMaybe)(g.pure(m.applicativeMaybe)(c.input))(function(e){return g.bind(m.bindMaybe)(b(a.input))(function(a){return g.bind(m.bindMaybe)(b(c.input))(function(b){return a.props instanceof
u.ConvolverFrame&&b.props instanceof u.ConvolverFrame?g.pure(m.applicativeMaybe)(g["=="](g.eqString)(d.connector)("buffer")&&g["=="](g.eqString)(e.connector)("buffer")):g.pure(m.applicativeMaybe)(!1)})})})}))}})(a)}(c)}},F=function(a){var c;c=w.runHistorical(a.project);var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.project=w.overwrite(a.project)(N(c));d.scaleFactor=b.max(g.ordInt)(u.minScaleFactor)(b.min(g.ordInt)(u.maxScaleFactor)(a.scaleFactor));return d},R=function(a){return function(b){return g.bind(A.bindAff)(D.get(y.responsableArrayBuffer)(b))(function(c){return J(a)(c.response)(b)})}};
a.soundfontDir="soundfont/sonatina-symphonic-orchestra/";a.updateApplicationByDriver=function(a){return function(b){return a(function(a){return function(){var c=g["<$>"](n.functorEff)(F)(b(a))(),d=L.getAudioGraphContext(),d=f.currentTime(d)(),d=H.renderAudio(d)(c)();L.update(d)();return c}})}};a.loadInstrument=function(a){return function(b){return A.runAff(C.print(I.showError))(g.pure(n.applicativeEff))(g.bind(A.bindAff)(D.get(y.responsableString)(a))(function(c){var d=G.parseSFZ(c.response);if(d instanceof
q.Left)return B.liftEff(A.monadEffAff)(C.log("["+(g.show(g.showInt)(d.value0.pos)+("] "+(g.show(Q.showParseError)(d.value0.err)+("\n"+v.drop(d.value0.pos)(c.response)))))));if(d instanceof q.Right)return g.bind(A.bindAff)(B.liftEff(A.monadEffAff)(C.log(k.unsafeCoerce(d.value0))))(function(){return B.liftEff(A.monadEffAff)(b(function(c){var e=t.lookup(a)(c.sfzMap);if(e instanceof m.Just)return g.pure(n.applicativeEff)(c);if(e instanceof m.Nothing)return function(){r.for_(n.applicativeEff)(h.foldableList)(d.value0)(function(a){return r.for_(n.applicativeEff)(h.foldableList)(a.regions)(function(a){return r.for_(n.applicativeEff)(h.foldableList)(a)(function(a){return"sample"===
a.value0?A.runAff(C.print(I.showError))(g.pure(n.applicativeEff))(R(b)("soundfont/sonatina-symphonic-orchestra/"+v.replace("#")("%23")(a.value1))):g.pure(n.applicativeEff)(g.unit)})})})();var e={},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=c[f]);e.sfzMap=t.insert(a)(d.value0)(c.sfzMap);return e};throw Error("Failed pattern match at Soundknot.Update line 192, column 1 - line 193, column 1: "+[e.constructor.name]);}))});throw Error("Failed pattern match at Soundknot.Update line 192, column 1 - line 193, column 1: "+
[d.constructor.name]);}))}};a.registerAudioBuffer=J;a.loadAudioFileByURL=R;a.requestUserMedia=function(a){if(a.driver instanceof m.Nothing)return g.pure(A.applicativeAff)(g.unit);if(a.driver instanceof m.Just)return g.bind(A.bindAff)(x.getUserMedia({video:!1,audio:!0}))(function(b){return B.liftEff(A.monadEffAff)(a.driver.value0(function(a){var c=function(){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.localMediaStream=new m.Just(b);return c}();return function(){var a=L.getAudioGraphContext(),
a=f.currentTime(a)();z(c)();H.renderAudio(a)(c)();return c}}))});throw Error("Failed pattern match at Soundknot.Update line 160, column 1 - line 161, column 1: "+[a.driver.constructor.name]);};a.normalizeProject=N;a.loadAudioFile=function(a){return function(b){return g.bind(A.bindAff)(P.readFile(P.fileToBlob(b)))(function(c){return J(a)(c)(k.unsafeCoerce(b).name)})}};a.updateApplication=function(a){return function(b){var c=F(b);return function(){e.runHandler(a)(c)();z(c)();var b=L.getAudioGraphContext(),
b=f.currentTime(b)(),b=H.renderAudio(b)(c)();return L.update(b)()}}}})(c["Soundknot.Update"]=c["Soundknot.Update"]||{});(function(a){var d=c["OpticUI.Markup.HTML"];a.timeDomain="timeDomain";a.frequency="frequency";a.projectOpenButtonList="projectOpenButtonList";a.projectOpenButton="projectOpenButton";a.projectEntryLabel="projectEntryLabel";a.projectListBackground="projectListBackground";a.projectEntry="projectEntry";a.projectList="projectList";a.viewFrameMenuBar="viewFrameMenuBar";a.svgCanvas="svgCanvas";
a.outputConnector="outputConnector";a.inputConnector="inputConnector";a.connector="connector";a.destinationContent="destinationContent";a.closeButton="closeButton";a.titleText="titleText";a.nodeContentPane="nodeContentPane";a.clippingPane="clippingPane";a.titleBar="titleBar";a.transformPane="transformPane";a.btn="btn";a.centerPane="centerPane";a.projectName="projectName";a.leftPane="leftPane";a.bottomPane="bottomPane";a.topMenu="topMenu";a.wiringFrame="wiring-frame";a.groundLayer="groundLayer";a["classA'"]=
function(a){return d.classA(a)};a.runClassName=function(a){return a}})(c["Soundknot.Classes"]=c["Soundknot.Classes"]||{});(function(a){var d=c["CSS.Stylesheet"],b=c["CSS.String"],e=c.Prelude,f=c["CSS.Property"],g=function(a){return a},k=function(a){return a},l=function(a){return a},h=new f.Val(function(a){return a}),q=new f.Val(function(a){return a}),r=new f.Val(function(a){return a}),m=new f.Val(function(a){return a}),p=new f.Val(function(a){return a}),v=d.key(q)(b.fromString(f.isStringKey)("text-align")),
t=g(b.fromString(f.isStringValue)("scroll")),n=d.key(h)(b.fromString(f.isStringKey)("overflow-y")),C=d.key(h)(b.fromString(f.isStringKey)("overflow")),B=d.key(q)(b.fromString(f.isStringKey)("justify-content")),A=g(b.fromString(f.isStringValue)("hidden")),D=d.key(r)(b.fromString(f.isStringKey)("flex-direction")),u=l(b.fromString(f.isStringValue)("column")),H=k(b.fromString(f.isStringValue)("center")),w=d.key(f.valString)(b.fromString(f.isStringKey)("box-shadow")),z=d.key(m)(b.fromString(f.isStringKey)("align-self")),
x=d.key(p)(b.fromString(f.isStringKey)("align-items"));a.Overflow=g;a.FlexDirection=l;a.JustifyContent=k;a.textAlign=v;a.scroll=t;a.hidden=A;a.overflowY=n;a.overflow=C;a.column=u;a.flexDirection=D;a.center=H;a.justifyContent=B;a.alignSelf=z;a.alignItems=x;a.flexGrow=function(a){return d.key(f.valString)(b.fromString(f.isStringKey)("flex-grow"))(e.show(e.showNumber)(a))};a.boxShadow=w;a.valAlignItems=p;a.valAlignSelf=m;a.valJustifyContent=q;a.valFlexDirection=r;a.valOverflow=h})(c["Soundknot.Css"]=
c["Soundknot.Css"]||{});(function(a){var d=c["CSS.Color"],b=c["CSS.Selector"],e=c["CSS.Stylesheet"],f=c["CSS.String"],g=c["CSS.Font"],k=c["CSS.Geometry"],l=c["CSS.Size"],h=c["CSS.Background"],q=c["CSS.Display"],r=c["Data.Int"],m=c["Unsafe.Coerce"],p=c.Prelude,v=c["Soundknot.Css"],t=c["CSS.Property"],n=function(a){return function(b){return e.key(t.valString)(f.fromString(t.isStringKey)(a))(b)}},C=d.rgba(169)(169)(242)(m.unsafeCoerce(.3));a.cursorSliderHeight=24;a.sliderHeight=32;a.css=function(a){return function(a){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".timeline"))(p.bind(e.bindStyleM)(n("position")("relative"))(function(){return p.bind(e.bindStyleM)(n("overflow")("hidden"))(function(){return g.color(d.white)})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".timeline .cursor"))(p.bind(e.bindStyleM)(n("width")("1px"))(function(){return p.bind(e.bindStyleM)(n("height")("100%"))(function(){return p.bind(e.bindStyleM)(n("background-color")("red"))(function(){return p.bind(e.bindStyleM)(n("position")("absolute"))(function(){return p.bind(e.bindStyleM)(n("top")("0px"))(function(){return p.bind(e.bindStyleM)(n("pointer-events")("none"))(function(){return n("margin-top")(p.show(p.showInt)(24)+
"px")})})})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".slider"))(p.bind(e.bindStyleM)(n("box-sizing")("border-box"))(function(){return p.bind(e.bindStyleM)(n("position")("relative"))(function(){return p.bind(e.bindStyleM)(n("left")("0px"))(function(){return p.bind(e.bindStyleM)(n("top")("0px"))(function(){return p.bind(e.bindStyleM)(n("width")("100%"))(function(){return p.bind(e.bindStyleM)(n("height")(p.show(p.showInt)(32)+"px"))(function(){return p.bind(e.bindStyleM)(n("background-color")("rgba(0, 0, 0, 0.5)"))(function(){return n("box-shadow")("0px 4px 4px rgba(0,0,0,0.5)")})})})})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".cursorSlider"))(p.bind(e.bindStyleM)(n("background-color")("rgba(75, 86, 98, 1.0)"))(function(){return p.bind(e.bindStyleM)(n("height")(p.show(p.showInt)(16)+
"px"))(function(){return p.bind(e.bindStyleM)(n("margin")("4px"))(function(){return p.bind(e.bindStyleM)(n("border-radius")("100px"))(function(){return n("cursor")("w-resize")})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".trackHeader"))(p.bind(e.bindStyleM)(n("box-sizing")("border-box"))(function(){return p.bind(e.bindStyleM)(k.height(l.px(r.toNumber(88))))(function(){return p.bind(e.bindStyleM)(n("padding")("4px"))(function(){return p.bind(e.bindStyleM)(n("border-radius")("4px 0px 0px 4px"))(function(){return v.overflow(v.hidden)})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".trackHeader.selected"))(h.backgroundColor(C)))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".trackHeader:nth-child(2n+1)"))(n("background-color")("rgba(0, 0, 0, 0.1)")))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".trackHeader.selected:nth-child(2n+1)"))(n("background-color")("rgba(0, 0, 100, 0.2)")))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".audioTrack"))(p.bind(e.bindStyleM)(n("box-sizing")("border-box"))(function(){return p.bind(e.bindStyleM)(n("height")(p.show(p.showInt)(88)+
"px"))(function(){return p.bind(e.bindStyleM)(n("width")("100%"))(function(){return n("position")("relative")})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".audioTrack.selected"))(h.backgroundColor(C)))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".audioTrack:nth-child(2n+1)"))(n("background-color")("rgba(0, 0, 0, 0.1)")))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".audioTrack.selected:nth-child(2n+1)"))(n("background-color")("rgba(0, 0, 100, 0.2)")))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("div.waveformContent"))(n("position")("relative")))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("div.videoFrames"))(p.bind(e.bindStyleM)(n("position")("absolute"))(function(){return p.bind(e.bindStyleM)(n("top")("0px"))(function(){return p.bind(e.bindStyleM)(n("left")("0px"))(function(){return n("height")("100%")})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("video.videoFrame"))(p.bind(e.bindStyleM)(n("flex-shrink")("0"))(function(){return p.bind(e.bindStyleM)(n("height")("100%"))(function(){return n("width")("auto")})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".waveform"))(p.bind(e.bindStyleM)(n("box-sizing")("border-box"))(function(){return p.bind(e.bindStyleM)(n("background-color")("rgba(200, 200, 200, 0.2)"))(function(){return p.bind(e.bindStyleM)(n("border")("solid 2px grey"))(function(){return p.bind(e.bindStyleM)(n("height")("100%"))(function(){return p.bind(e.bindStyleM)(n("position")("absolute"))(function(){return p.bind(e.bindStyleM)(n("transition-property")("background-color"))(function(){return n("transition-duration")("0.3s")})})})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".waveform.selected"))(n("background-color")("rgb(169, 169, 242)")))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".waveform svg"))(p.bind(e.bindStyleM)(n("position")("absolute"))(function(){return p.bind(e.bindStyleM)(n("top")("0px"))(function(){return p.bind(e.bindStyleM)(n("left")("0px"))(function(){return p.bind(e.bindStyleM)(n("width")("100%"))(function(){return n("height")("100%")})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".clipName"))(p.bind(e.bindStyleM)(n("font-size")("8px"))(function(){return p.bind(e.bindStyleM)(n("height")(p.show(p.showInt)(16)+
"px"))(function(){return p.bind(e.bindStyleM)(n("white-space")("nowrap"))(function(){return p.bind(e.bindStyleM)(n("overflow")("hidden"))(function(){return p.bind(e.bindStyleM)(n("color")("black"))(function(){return n("background-color")("rgba(0, 0, 0, 0.1)")})})})})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".controlPanel"))(p.bind(e.bindStyleM)(q.display(q.flex))(function(){return p.bind(e.bindStyleM)(n("align-items")("center"))(function(){return k.margin(l.px(4))(l.px(4))(l.px(4))(l.px(4))})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)('.controlPanel input[type="number"]'))(p.bind(e.bindStyleM)(k.height(l.em(2)))(function(){return p.bind(e.bindStyleM)(k.width(l.em(6)))(function(){return n("text-align")("right")})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("svg path.beatTick"))(p.bind(e.bindStyleM)(n("fill")("none"))(function(){return p.bind(e.bindStyleM)(n("stroke")("white"))(function(){return n("pointer-events")("none")})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("svg text.beatLabel"))(p.bind(e.bindStyleM)(n("fill")("white"))(function(){return p.bind(e.bindStyleM)(n("stroke")("none"))(function(){return n("pointer-events")("none")})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("svg path.secondsTick"))(p.bind(e.bindStyleM)(n("fill")("none"))(function(){return p.bind(e.bindStyleM)(n("stroke")("white"))(function(){return n("pointer-events")("none")})})))(function(){return p.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".resizer"))(p.bind(e.bindStyleM)(n("width")("6px"))(function(){return p.bind(e.bindStyleM)(n("height")("100%"))(function(){return p.bind(e.bindStyleM)(n("cursor")("w-resize"))(function(){return p.bind(e.bindStyleM)(n("position")("absolute"))(function(){return n("top")("0px")})})})})))(function(){return e["?"](f.fromString(b.isStringSelector)(".resizer:hover"))(n("background-color")("rgba(0, 0, 0, 0.3)"))})})})})})})})})})})})})})})})})})})})})})})})})})}}})(c["Soundknot.UI.Timeline.Styles"]=
c["Soundknot.UI.Timeline.Styles"]||{});(function(a){var d=c["Soundknot.UI.Timeline.Markup"],b=c["Sound.AudioGraph.Core"],e=c["WebAudio.Core"],f=c["OpticUI.Markup"],g=c.Math,k=c["Soundknot.Audio"],l=c["Sound.MP3Encoder"],h=c.Prelude,q=c["Unsafe.Coerce"],r=c["Data.Array"],m=c["Data.Foldable"],p=c["Data.Maybe"],v=c["Data.Monoid"],t=c["Data.Nullable"],n=c["Data.Int"],C=c["Control.Monad.Eff"],B=c["Control.Monad.Eff.Class"],A=c["Control.Monad.Eff.Console"],D=c["Control.Monad.Aff"],u=c["OpticUI.Markup.HTML"],
H=c["OpticUI.Markup.SVG"],w=c["Soundknot.Types"],z=c["Soundknot.Polyfill"],x=c["Soundknot.UI.Components"],L=c["Soundknot.Update"],G=c["Soundknot.Historical"],y=c["Soundknot.UI.Timeline.Types"],I=c["Soundknot.Utils"],Q=c["Soundknot.UI.Timeline.Styles"],T=c.TypedArray,J=c["Control.Monad.Eff.Exception"];a.renderTimelineFrame=function(a){return function(c){return function(R){return function(F){return function(M){return function(U){return function(E){var O=g.pow(1.2)(n.toNumber(E.scale)),aa=function(a){return a/
O+y.runBeats(E.translation)};g.ceil(O*n.toNumber(E.width));var Z=function(a){return O*(a-y.runBeats(E.translation))},da=m.foldMap(m.foldableArray)(f.markupMonoid)(function(a){var b=n.floor(y.runSeconds(y.beatsToSeconds(E.bpm)(E.translation)))+a|0;a=Z(y.runBeats(y.secondsToBeats(E.bpm)(y.Seconds(n.toNumber(b)))));a=H.path([u.classA("secondsTick"),f.attr("d")("M "+(h.show(h.showNumber)(a)+(" 24 L "+(h.show(h.showNumber)(a)+" 32"))))])(v.mempty(f.markupMonoid));var c=5>E.scale;if(c){if(b=0===b%60)return a;
if(!b)return v.mempty(f.markupMonoid);throw Error("Failed pattern match: "+[b.constructor.name]);}if(!c){if(c=15>E.scale){if(b=0===b%10)return a;if(!b)return v.mempty(f.markupMonoid);throw Error("Failed pattern match: "+[b.constructor.name]);}if(!c)return a;throw Error("Failed pattern match: "+[c.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[c.constructor.name]);})(r[".."](0)(n.ceil(n.toNumber(E.width)/O*E.bpm/60))),
V=G.runHistorical(c.project),ka=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.bpm=g.max(50)(g.min(250)(a.bpm));return b},ia=function(a){if(M instanceof p.Nothing)return h.pure(C.applicativeEff)(h.unit);if(M instanceof p.Just){var b={},c;for(c in V)V.hasOwnProperty(c)&&(b[c]=V[c]);c=p.maybe(V.nodes)(h.id(h.categoryFn));var d=r.updateAt(M.value0),e={},f;for(f in U)U.hasOwnProperty(f)&&(e[f]=U[f]);e.props=w.TimelineFrame.create(ka(a));b.nodes=c(d(e)(V.nodes));return F(b)}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[M.constructor.name]);},S=function(a){if(M instanceof p.Nothing)return h.pure(C.applicativeEff)(h.unit);if(M instanceof p.Just){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);d=G.overwrite(c.project);var e={},f;for(f in V)V.hasOwnProperty(f)&&(e[f]=V[f]);f=p.maybe(V.nodes)(h.id(h.categoryFn));var g=r.updateAt(M.value0),k={},l;for(l in U)U.hasOwnProperty(l)&&(k[l]=U[l]);k.props=w.TimelineFrame.create(ka(a));e.nodes=f(g(k)(V.nodes));b.project=d(e);return R(b)}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[M.constructor.name]);},ga=function(){var a=t.toMaybe(E.start);if(a instanceof p.Nothing)return h.pure(C.applicativeEff)(h.unit);if(a instanceof p.Just)return function(){var c=b.getAudioGraphContext(),d=e.currentTime(c)();return function(){var b=d-a.value0.time,c=y.beatsToSeconds(E.bpm)(a.value0.position),e=y.secondsToBeats(E.bpm)(y.runSeconds(c)+y.runSeconds(b));return function(){S(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);a.cursor=e;a.start=t.toNullable(p.Nothing.value);
return a}())();S(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);a.start=t.toNullable(p.Nothing.value);return a}())();return h.unit}}()()};throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[a.constructor.name]);}(),W=function(a){return function(b){h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=r.filter(function(a){return!a.selected})(a.clips);return b})(E.tracks);r.concatMap(function(a){return r.filter(function(a){return a.selected})(a.clips)})(E.tracks);
var c=function(a){return function(b){var c=I.clientPosition(a);return h.flip(h.map(h.functorArray))(E.tracks)(function(a){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.clips=h.flip(h.map(h.functorArray))(a.clips)(function(a){if(a.dragging){var d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.position=y.runBeats(a.position)+(c.x-b.x)/O;return d}if(!a.dragging)return a;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[a.dragging.constructor.name]);
});return d})}};return function(){z.stopPropagation(b)();z.preventDefault(b)();var d;var e=t.toMaybe(E.mouseDownPoint);if(e instanceof p.Nothing)d=E;else if(e instanceof p.Just){d={};for(var f in E)E.hasOwnProperty(f)&&(d[f]=E[f]);if(E.scrolling)f=y.Beats(y.runBeats(E.translation)+(aa(e.value0.x)-aa(b.clientX)));else{if(E.scrolling)throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[E.scrolling.constructor.name]);f=E.translation}d.translation=
f;if(a instanceof p.Nothing)e=c(b)(e.value0);else if(a instanceof p.Just)e=c(b)(e.value0);else throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[a.constructor.name]);d.tracks=e;d.mouseDownPoint=t.toNullable(new p.Just(I.clientPosition(b)))}else throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[e.constructor.name]);return S(d)()}}},K=function(a){if(E.scrolling)return h.pure(C.applicativeEff)(h.unit);
if(!E.scrolling){var b={},c;for(c in E)E.hasOwnProperty(c)&&(b[c]=E[c]);b.cursor=y.Beats(aa(q.unsafeCoerce(a).offsetX));b.mouseDownPoint=t.toNullable(new p.Just(I.clientPosition(a)));return S(b)}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[E.scrolling.constructor.name]);},X=u.div([])(m.mconcat(m.foldableArray)(f.markupMonoid)(I.withIndex(E.tracks)(function(a){return function(b){var c=function(a){if(a=q.unsafeCoerce(a).ctrlKey)return E.tracks;
if(!a)return h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.selected=!1;return b})(E.tracks);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 301, column 9 - line 305, column 9: "+[a.constructor.name]);},d=function(){var b=r["!!"](E.tracks)(a);if(b instanceof p.Nothing)return!1;if(b instanceof p.Just)return b.value0.selected;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[b.constructor.name]);
}();return u.div([u.classA("trackHeader"+function(){if(d)return" selected";if(!d)return"";throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[d.constructor.name]);}()),u.onClick(function(b){return S(function(){var d={},e;for(e in E)E.hasOwnProperty(e)&&(d[e]=E[e]);d.tracks=p.fromMaybe(E.tracks)(r.modifyAt(a)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.selected=!0;return b})(c(b)));return d}())})])(f.text("Track "+h.show(h.showInt)(a)))}}))),
ja=u.div([u.classA("cursorSlider"),u.onMouseDown(function(a){var b={},c;for(c in E)E.hasOwnProperty(c)&&(b[c]=E[c]);b.scrolling=!0;b.mouseDownPoint=t.toNullable(new p.Just(I.clientPosition(a)));return S(b)})])(v.mempty(f.markupMonoid)),ba=u.div([u.classA("cursor"),u.styleA("left:"+(h.show(h.showNumber)(Z(y.runBeats(E.cursor)))+"px;")),f.attr("data-play")(function(){var a=t.toMaybe(E.start);if(a instanceof p.Nothing)return"false";if(a instanceof p.Just)return"true";throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[a.constructor.name]);}()),f.attr("data-position")(function(){var a=t.toMaybe(E.start);if(a instanceof p.Nothing)return"";if(a instanceof p.Just)return h.show(h.showNumber)(a.value0.position);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[a.constructor.name]);}()),f.attr("data-time")(function(){var a=t.toMaybe(E.start);if(a instanceof p.Nothing)return"";if(a instanceof p.Just)return h.show(h.showNumber)(a.value0.time);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[a.constructor.name]);}()),f.attr("data-scale")(h.show(h.showNumber)(O)),f.attr("data-translation")(h.show(h.showNumber)(y.runBeats(E.translation))),f.attr("data-bpm")(h.show(h.showNumber)(E.bpm))])(v.mempty(f.markupMonoid)),na=g.pow(1.2)(n.toNumber(c.scaleFactor)),ma=function(b){return function(e){return function(k){return function(k){return function(l){var w=function(a){return S(function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.tracks=p.fromMaybe(b.tracks)(r.modifyAt(e)(function(a){var b=
{},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=p.fromMaybe(a.clips)(r.modifyAt(k)(function(a){return a})(a.clips));return b})(b.tracks));return a}())},x=function(a){return h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.selected=!1;return b})(a.clips);return b})(a)},C=Z(y.runBeats(l.position)),A=g.max(0)(C),C=y.secondsToIndex(a)(y.beatsToSeconds(b.bpm)(y.Beats(aa(A)-
y.runBeats(l.position)))),E=function(){var d=y.audioClipLengthInSeconds(a)(c.audioBuffers)(l);if(d instanceof p.Nothing)return 4;if(d instanceof p.Just)return y.secondsToBeats(b.bpm)(d.value0);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[d.constructor.name]);}(),E=Z(y.runBeats(l.position)+y.runBeats(E)),J=g.min(n.toNumber(b.width))(E),E=n.ceil(J-A),A="left:"+(h.show(h.showNumber)(A)+("px; width:"+(h.show(h.showInt)(E)+("px; stroke-width:"+
(h.show(h.showNumber)(1/na)+";"))))),J=y.secondsToIndex(a)(y.beatsToSeconds(b.bpm)(y.Beats(aa(J)-y.runBeats(l.position)))),G=0>=E;if(G)return v.mempty(f.markupMonoid);if(!G)return u.div([u.classA("waveform"+function(){if(l.selected)return" selected";if(!l.selected)return"";throw Error("Failed pattern match: "+[l.selected.constructor.name]);}()),u.styleA(A),u.onMouseDown(function(a){return function(){z.stopPropagation(a)();z.preventDefault(a)();return S(function(){var c={},d;for(d in b)b.hasOwnProperty(d)&&
(c[d]=b[d]);c.tracks=p.fromMaybe(b.tracks)(r.modifyAt(e)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=p.fromMaybe(a.clips)(r.modifyAt(k)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!0;b.selected=!0;return b})(a.clips));return b})(function(){var c=q.unsafeCoerce(a).ctrlKey;if(c)return b.tracks;if(!c)return x(b.tracks);throw Error("Failed pattern match: "+[c.constructor.name]);}()));c.mouseDownPoint=t.toNullable(new p.Just(I.clientPosition(a)));
return c}())()}}),u.onMouseUp(function(a){return S(function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.tracks=p.fromMaybe(b.tracks)(r.modifyAt(e)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!1;return b})(a.clips);return b})(b.tracks));return a}())})])(m.mconcat(m.foldableArray)(f.markupMonoid)([u.div([u.styleA("display:flex; flex-direction:column; height:100%")])(m.mconcat(m.foldableArray)(f.markupMonoid)([u.div([u.classA("clipName")])(f.text(l.name)),
u.div([u.classA("waveformContent"),u.styleA("flex-grow:1.0; position:relative;")])(m.mconcat(m.foldableArray)(f.markupMonoid)([u.div([u.classA("videoFrames"),u.styleA("opacity:0.5; display:flex; overflow: hidden; position:absolute; height:100%; width:100%; left: 0px; top:0px;")])(m.mconcat(m.foldableArray)(f.markupMonoid)([])),H.svg([u.styleA("position:absolute; height:100%; width:100%; left: 0px; top:0px;")])(m.mconcat(m.foldableArray)(f.markupMonoid)([H.path([f.attr("fill")("none"),f.attr("stroke")("black"),
f.attr("d")(d.renderWaveform(a)(C)(J)(E)(l.slices)(c.audioBuffers))])(v.mempty(f.markupMonoid))]))]))])),u.div([u.classA("resizer"),u.styleA("left:0px"),u.onMouseDown(function(a){a={};for(var b in l)l.hasOwnProperty(b)&&(a[b]=l[b]);a.leftResizerDragging=!0;return w(a)})])(v.mempty(f.markupMonoid)),u.div([u.classA("resizer"),u.styleA("right:0px"),u.onMouseDown(function(a){a={};for(var b in l)l.hasOwnProperty(b)&&(a[b]=l[b]);a.rightResizerDragging=!0;return w(a)})])(v.mempty(f.markupMonoid))]));throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[G.constructor.name]);}}}}},ha=m.foldMap(m.foldableArray)(f.markupMonoid)(function(a){a=n.floor(y.runBeats(E.translation))+a|0;var b=0===a%4,c=Z(n.toNumber(a)),d;if(b)d=f.element(new p.Just("http://www.w3.org/2000/svg"))("text")([u.classA("beatLabel"),f.attr("x")(h.show(h.showNumber)(c+2)),f.attr("y")("2"),f.attr("dominant-baseline")("text-before-edge")])(f.text(h.show(h.showInt)(a/4|0)));else{if(b)throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[b.constructor.name]);d=v.mempty(f.markupMonoid)}c=H.path([u.classA("beatTick"),f.attr("d")("M "+(h.show(h.showNumber)(c)+(" 0 L "+(h.show(h.showNumber)(c)+(" "+h.show(h.showInt)(10*function(){if(b)return 2;if(!b)return 1;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[b.constructor.name]);}()|0))))))])(v.mempty(f.markupMonoid));d=h["++"](f.markupSemigroup)(c)(d);if(c=5>E.scale){if(a=0===a%64)return d;if(!a)return v.mempty(f.markupMonoid);
throw Error("Failed pattern match: "+[a.constructor.name]);}if(!c){if(c=15>E.scale){if(a=0===a%16)return d;if(!a)return v.mempty(f.markupMonoid);throw Error("Failed pattern match: "+[a.constructor.name]);}if(!c)return d;throw Error("Failed pattern match: "+[c.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[c.constructor.name]);})(r[".."](0)(n.ceil(n.toNumber(E.width)/O))),da=H.svg([u.classA("slider"),f.attr("xmlns")("http://www.w3.org/2000/svg"),
u.styleA("display:block;"),u.onMouseDown(function(a){return K(a)}),u.onMouseMove(function(a){var b=t.toMaybe(E.mouseDownPoint);if(b instanceof p.Nothing)return h.pure(C.applicativeEff)(h.unit);if(b instanceof p.Just)return K(a);throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[b.constructor.name]);}),u.onWheel(function(a){return function(){z.stopPropagation(a)();z.preventDefault(a)();var b=n.floor(I.signum(a.deltaY)),c=q.unsafeCoerce(a).offsetX,
b=y.clampScale(E.scale+b|0),d=g.pow(1.2)(n.toNumber(b)),e={},f;for(f in E)E.hasOwnProperty(f)&&(e[f]=E[f]);e.scale=b;e.translation=y.Beats(y.runBeats(E.translation)+c/O-c/d);return S(e)()}})])(h["++"](f.markupSemigroup)(ha)(da)),ha=u.div([])(m.mconcat(m.foldableArray)(f.markupMonoid)(I.withIndex(E.tracks)(function(a){return function(b){var d=function(){var b=r["!!"](E.tracks)(a);if(b instanceof p.Nothing)return!1;if(b instanceof p.Just)return b.value0.selected;throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 489, column 9 - line 506, column 9: "+
[b.constructor.name]);}();return u.div([u.classA("audioTrack"+function(){if(d)return" selected";if(!d)return"";throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[d.constructor.name]);}()),u.onMouseDown(W(new p.Just(a))),u.onDrop(function(b){return function(){z.stopPropagation(b)();z.preventDefault(b)();var d=q.unsafeCoerce(b).offsetX;(function(){var e=t.toMaybe(I.getAudioFile(b));if(e instanceof p.Nothing)return I.nop(C.applicativeEff);if(e instanceof
p.Just)return function(){var b=I.now();T.createObjectURL(T.fileToBlob(e.value0))();return function(){var f=q.unsafeCoerce(e.value0).name;return function(){ia(function(){var c={},e;for(e in E)E.hasOwnProperty(e)&&(c[e]=E[e]);c.tracks=p.fromMaybe(E.tracks)(r.modifyAt(a)(function(a){var c={},e;for(e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);c.clips=r[":"]({position:aa(d),name:f,selected:!1,dragging:!1,slices:[{key:h.show(h.showInt)(b),buffer:f,offset:0,length:t.toNullable(p.Nothing.value)}],leftResizerDragging:!1,
rightResizerDragging:!1})(a.clips);return c})(E.tracks));return c}())();var g=D.runAff(A.print(J.showError))(h.pure(C.applicativeEff)),l;if(c.driver instanceof p.Nothing)l=h.pure(D.applicativeAff)(h.unit);else if(c.driver instanceof p.Just)l=L.loadAudioFile(c.driver.value0)(e.value0);else throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[c.driver.constructor.name]);return g(l)()}}()()};throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[e.constructor.name]);})()();return h.unit}})])(h["++"](f.markupSemigroup)(m.mconcat(m.foldableArray)(f.markupMonoid)(I.withIndex(b.clips)(ma(E)(a)(b))))(v.mempty(f.markupMonoid)))}})));return u.div([u.onMouseMove(W(p.Nothing.value)),u.onMouseLeave(function(a){a={};for(var b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);a.scrolling=!1;return S(a)}),u.onMouseUp(function(a){return function(){z.stopPropagation(a)();z.preventDefault(a)();return S(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);
a.scrolling=!1;a.tracks=h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!1;return b})(a.clips);return b})(E.tracks);a.mouseDownPoint=t.toNullable(p.Nothing.value);return a}())()}}),u.onWheel(function(a){return function(){z.stopPropagation(a)();return z.preventDefault(a)()}})])(m.mconcat(m.foldableArray)(f.markupMonoid)([u.div([u.classA("controlPanel")])(m.mconcat(m.foldableArray)(f.markupMonoid)([I.iconButton("pause")(I.nop(C.applicativeEff)),
I.iconButton("play")(function(){var a=b.getAudioGraphContext(),a=e.currentTime(a)(),c={},d;for(d in E)E.hasOwnProperty(d)&&(c[d]=E[d]);c.start=t.toNullable(new p.Just({position:y.runBeats(E.cursor),time:a}));return S(c)()}),I.iconButton("stop")(ga),I.iconButton("step-backward")(I.nop(C.applicativeEff)),I.iconButton("step-forward")(I.nop(C.applicativeEff)),I.iconButton("record")(I.nop(C.applicativeEff)),I.spacer,I.iconButton("zoom-in")(S(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=
E[b]);a.scale=y.clampScale(E.scale+1|0);return a}())),I.iconButton("zoom-out")(S(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);a.scale=y.clampScale(E.scale-1);return a}())),I.spacer,I.iconButton("plus")(ia(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);a.tracks=h["++"](h.semigroupArray)(E.tracks)([{clips:[],selected:!1}]);return a}())),I.spacer,I.iconButton("scissors")(function(){ia(function(){var b={},d;for(d in E)E.hasOwnProperty(d)&&(b[d]=E[d]);b.tracks=h.map(h.functorArray)(function(b){var d=
{},e;for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);d.clips=r.concatMap(function(b){var d=y.audioClipLengthInSeconds(a)(c.audioBuffers)(b);if(d instanceof p.Just&&b.selected){if(d=h["<"](y.ord_Beats)(b.position)(E.cursor)&&y.runBeats(E.cursor)<y.runBeats(b.position)+y.runBeats(y.secondsToBeats(E.bpm)(d.value0)))return[function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.position=b.position;return a}(),function(){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.position=E.cursor;
return a}()];if(!d)return[b];throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[d.constructor.name]);}return[b]})(b.clips);return d})(E.tracks);return b}())();return I.nop(C.applicativeEff)()}),I.iconButton("paperclip")(function(){ia(function(){var a={},b;for(b in E)E.hasOwnProperty(b)&&(a[b]=E[b]);a.tracks=h.map(h.functorArray)(function(a){return p.fromMaybe(a)(function(){var b=r.sortBy(function(a){return function(b){return h.compare(y.ord_Beats)(a.position)(b.position)}})(r.filter(function(a){return a.selected})(a.clips));
return h.bind(p.bindMaybe)(r.head(b))(function(c){return h.bind(p.bindMaybe)(r.tail(b))(function(d){var e=y.beatsToSeconds(E.bpm)(c.position);return h.pure(p.applicativeMaybe)(function(){var d={},f;for(f in a)a.hasOwnProperty(f)&&(d[f]=a[f]);d.clips=h["++"](h.semigroupArray)(r.filter(function(a){return!a.selected})(a.clips))([{name:c.name,position:c.position,selected:!0,dragging:!1,slices:h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.offset=y.runSeconds(a.offset)-
y.runSeconds(e);return b})(r.concat(I.withIndex(b)(function(a){return function(a){return h.map(h.functorArray)(function(b){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.offset=y.beatsToSeconds(E.bpm)(y.runBeats(a.position)+y.runBeats(y.secondsToBeats(E.bpm)(b.offset)));return c})(a.slices)}}))),leftResizerDragging:!1,rightResizerDragging:!1}]);return d}())})})}())})(E.tracks);return a}())();return I.nop(C.applicativeEff)()}),I.iconButton("duplicate")(I.nop(C.applicativeEff)),I.iconButton("remove")(function(){var a=
h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.clips=r.filter(function(a){return!a.selected})(a.clips);return b})(r.filter(function(a){return!a.selected})(E.tracks));return ia(function(){var b={},c;for(c in E)E.hasOwnProperty(c)&&(b[c]=E[c]);if(c=r["null"](a))c=[{clips:[],selected:!1}];else{if(c)throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+[c.constructor.name]);c=a}b.tracks=c;return b}())}()),
I.spacer,I.iconButton("download")(function(){var a=b.getAudioGraphContext(),d=e.currentTime(a)();return function(){var a=function(){var a={},b;for(b in V)V.hasOwnProperty(b)&&(a[b]=V[b]);a.nodes=h.map(h.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);if(a.props instanceof w.TimelineFrame){c=w.TimelineFrame;var e={},f;for(f in a.props.value0)a.props.value0.hasOwnProperty(f)&&(e[f]=a.props.value0[f]);e.start=t.toNullable(new p.Just({position:0,time:d}));e.cursor=0;a=
new c(e)}else a=a.props;b.props=a;return b})(V.nodes);return a}();return function(){var d=k.renderAudio(0)(function(){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.project=G.overwrite(c.project)(a);return b}())();return function(){var a=function(a){return function(b){return m.foldr(m.foldableArray)(function(a){return function(b){return h["<*>"](p.applyMaybe)(h["<$>"](p.functorMaybe)(g.max)(a))(b)}})(new p.Just(0))(h.map(h.functorArray)(b)(a))}},e=a(V.nodes)(function(b){return b.props instanceof
w.TimelineFrame?a(b.props.value0.tracks)(function(d){return a(d.clips)(function(a){var d=y.runSeconds(y.beatsToSeconds(b.props.value0.bpm)(a.position));return h["<$>"](p.functorMaybe)(h["+"](h.semiringNumber)(d))(y.clipLength(48E3)(c.audioBuffers)(b.props.value0.bpm)(a))})}):new p.Just(0)});if(e instanceof p.Nothing)return A.log("[error] cannnot calculate the clip length");if(e instanceof p.Just&&0<e.value0)return D.runAff(A.print(J.showError))(h.pure(C.applicativeEff))(h.bind(D.bindAff)(B.liftEff(D.monadEffAff)(A.log("timeline length: "+
h.show(h.showNumber)(e.value0))))(function(){return h.bind(D.bindAff)(b.renderOfflineAudio(2)(e.value0+2)(48E3)(d))(function(a){return h.bind(D.bindAff)(l.encodeAudioBufferToMp3(a))(function(a){return h.bind(D.bindAff)(B.liftEff(D.monadEffAff)(I.download(I.createFile([a])("mixdown.mp3"))))(function(){return B.liftEff(D.monadEffAff)(A.log("rendering finished"))})})})}));if(e instanceof p.Just)return A.log("[error] invalid timeline length: "+h.show(h.showNumber)(e.value0));throw Error("Failed pattern match at Soundknot.UI.Timeline.Markup line 40, column 1 - line 41, column 1: "+
[e.constructor.name]);}()()}}()()})])),u.div([u.classA("controlPanel")])(m.mconcat(m.foldableArray)(f.markupMonoid)([f.text("Position:"),x.numberInput(y.runBeats(E.cursor))([])(function(a){var b={},c;for(c in E)E.hasOwnProperty(c)&&(b[c]=E[c]);b.cursor=a;return S(b)}),I.spacer,f.text("Time:"),x.numberInput(y.runSeconds(y.beatsToSeconds(E.bpm)(E.cursor)))([])(function(a){var b={},c;for(c in E)E.hasOwnProperty(c)&&(b[c]=E[c]);b.cursor=y.secondsToBeats(E.bpm)(a);return S(b)}),I.spacer,f.text("BPM:"),
x.numberInput(E.bpm)([])(function(a){var b={},c;for(c in E)E.hasOwnProperty(c)&&(b[c]=E[c]);b.bpm=a;return S(b)})])),u.div([u.styleA("display:flex;")])(m.mconcat(m.foldableArray)(f.markupMonoid)([u.div([u.styleA("width: 100px; display:flex; flex-direction:column;")])(h["++"](f.markupSemigroup)(u.div([u.styleA("height: "+(h.show(h.showInt)(Q.sliderHeight+Q.cursorSliderHeight|0)+"px;"))])(v.mempty(f.markupMonoid)))(X)),u.div([u.classA("timeline"),u.styleA("width:"+(h.show(h.showInt)(E.width)+"px"))])(h["++"](f.markupSemigroup)(ja)(h["++"](f.markupSemigroup)(da)(h["++"](f.markupSemigroup)(ha)(ba))))]))]))}}}}}}}})(c["Soundknot.UI.Timeline.Markup"]=
c["Soundknot.UI.Timeline.Markup"]||{});(function(a){a.sfzList="Brass - Bass Trombone Solo.sfz;Brass - Horn Solo.sfz;Brass - Horns Staccato.sfz;Brass - Horns Sustain.sfz;Brass - Tenor Trombone Solo.sfz;Brass - Trombones Staccato.sfz;Brass - Trombones Sustain.sfz;Brass - Trumpet Solo.sfz;Brass - Trumpets Staccato.sfz;Brass - Trumpets Sustain.sfz;Brass - Tuba Staccato.sfz;Brass - Tuba Sustain.sfz;Chorus - Female.sfz;Chorus - Male.sfz;Chorus - Mixed.sfz;Concert Harp.sfz;Keys - Grand Piano.sfz;Percussion - All Percussion.sfz;Percussion - Bass Drum & Snare.sfz;Percussion - Chimes.sfz;Percussion - Conga.sfz;Percussion - Cymbals & Tamtam.sfz;Percussion - Glockenspiel.sfz;Percussion - Timpani.sfz;Percussion - Triangle.sfz;Percussion - Various.sfz;Percussion - Xylophone.sfz;Strings - 1st Violins Pizzicato.sfz;Strings - 1st Violins Staccato.sfz;Strings - 1st Violins Sustain.sfz;Strings - 2nd Violins Pizzicato.sfz;Strings - 2nd Violins Staccato.sfz;Strings - 2nd Violins Sustain.sfz;Strings - Basses Pizzicato.sfz;Strings - Basses Staccato.sfz;Strings - Basses Sustain.sfz;Strings - Celli Pizzicato.sfz;Strings - Celli Staccato.sfz;Strings - Celli Sustain.sfz;Strings - Cello Solo.sfz;Strings - Violas Pizzicato.sfz;Strings - Violas Sustain.sfz;Strings - Violin Solo.sfz;Woodwinds - Alto Flute Solo.sfz;Woodwinds - Bass Clarinet Solo.sfz;Woodwinds - Bassoon Solo.sfz;Woodwinds - Bassoons Sustain.sfz;Woodwinds - Clarinet Solo.sfz;Woodwinds - Clarinets Sustain.sfz;Woodwinds - Contrabassoon Solo.sfz;Woodwinds - Cor Anglais Solo.sfz;Woodwinds - Flute Solo.sfz;Woodwinds - Flutes Staccato.sfz;Woodwinds - Flutes Sustain.sfz;Woodwinds - Oboe Solo.sfz;Woodwinds - Oboes Sustain.sfz;Woodwinds - Piccolo Solo.sfz".split(";");
a.ssoDir="soundfont/sonatina-symphonic-orchestra/"})(c["Soundknot.UI.Instrument.Types"]=c["Soundknot.UI.Instrument.Types"]||{});(function(a){a.undefined=void 0})(c["Soundknot.Lens"]=c["Soundknot.Lens"]||{});(function(a){var d=c["Soundknot.Lens"],b=c["Data.Lens.Lens"],e=c["Soundknot.Types"],f=c["Data.Array"],g=c["Data.Maybe"],k=c["WebAudio.Core"];a.delayConstantValue=function(a){return b.lens(function(a){a=f.head(a.delayTime);return a instanceof g.Just&&a.value0 instanceof k.ConstantValue?a.value0.value0:
0})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.delayTime=[new k.ConstantValue(b)];return c}})(a)};a.panConstantValue=function(a){return b.lens(function(a){a=f.head(a.pan);return a instanceof g.Just&&a.value0 instanceof k.ConstantValue?a.value0.value0:.5})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.pan=[new k.ConstantValue(b)];return c}})(a)};a.gainConstantValue=function(a){return b.lens(function(a){a=f.head(a.gain);
return a instanceof g.Just&&a.value0 instanceof k.ConstantValue?a.value0.value0:1})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.gain=[new k.ConstantValue(b)];return c}})(a)};a.pan=function(a){return b.lens(function(a){return a.pan})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.pan=b;return c}})(a)};a.gain=function(a){return b.lens(function(a){return a.gain})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&
(c[d]=a[d]);c.gain=b;return c}})(a)};a.q=function(a){return b.lens(function(a){return a.q})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.q=b;return c}})(a)};a.detune=function(a){return b.lens(function(a){return a.detune})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.detune=b;return c}})(a)};a.frequency=function(a){return b.lens(function(a){return a.frequency})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&
(c[d]=a[d]);c.frequency=b;return c}})(a)};a.release=function(a){return b.lens(function(a){return a.release})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.release=b;return c}})(a)};a.attack=function(a){return b.lens(function(a){return a.attack})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.attack=b;return c}})(a)};a.reduction=function(a){return b.lens(function(a){return a.reduction})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.reduction=b;return c}})(a)};a.ratio=function(a){return b.lens(function(a){return a.ratio})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.ratio=b;return c}})(a)};a.knee=function(a){return b.lens(function(a){return a.knee})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.knee=b;return c}})(a)};a.threshold=function(a){return b.lens(function(a){return a.threshold})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.threshold=b;return c}})(a)};a.projectEntries=function(a){return b.lens(function(a){return a.projectEntries})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.projectEntries=b;return c}})(a)};a.oscillatorFrame=function(a){return b.lens(function(a){return a instanceof e.OscillatorFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.OscillatorFrame?new e.OscillatorFrame(b):d.undefined}})(a)};
a.dynamicsCompressorFrame=function(a){return b.lens(function(a){return a instanceof e.DynamicsCompressorFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.DynamicsCompressorFrame?new e.DynamicsCompressorFrame(b):d.undefined}})(a)};a.stereoPannerFrame=function(a){return b.lens(function(a){return a instanceof e.StereoPannerFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.StereoPannerFrame?new e.StereoPannerFrame(b):d.undefined}})(a)};a.delayFrame=
function(a){return b.lens(function(a){return a instanceof e.DelayFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.DelayFrame?new e.DelayFrame(b):d.undefined}})(a)};a.gainFrame=function(a){return b.lens(function(a){return a instanceof e.GainFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.GainFrame?new e.GainFrame(b):d.undefined}})(a)};a.audioBufferFrame=function(a){return b.lens(function(a){return a instanceof e.AudioBufferFrame?a.value0:
d.undefined})(function(a){return function(b){return a instanceof e.AudioBufferFrame?new e.AudioBufferFrame(b):d.undefined}})(a)};a.videoFrame=function(a){return b.lens(function(a){return a instanceof e.VideoFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.VideoFrame?new e.VideoFrame(b):d.undefined}})(a)};a.bilinearFilterFrame=function(a){return b.lens(function(a){return a instanceof e.BiquadFilterFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof
e.BiquadFilterFrame?new e.BiquadFilterFrame(b):d.undefined}})(a)};a.destinationFrame=function(a){return b.lens(function(a){return a instanceof e.DestinationFrame?a.value0:d.undefined})(function(a){return function(b){return a instanceof e.DestinationFrame?new e.DestinationFrame(b):d.undefined}})(a)};a.state=function(a){return b.lens(function(a){return a.project})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.project=b;return c}})(a)};a["type'"]=function(a){return b.lens(function(a){return a.type})(function(a){return function(b){var c=
{},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.type=b;return c}})(a)};a.props=function(a){return b.lens(function(a){return a.props})(function(a){return function(b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.props=b;return c}})(a)}})(c["Soundknot.Lens"]=c["Soundknot.Lens"]||{});(function(a){var d=c["OpticUI.Markup"],b=c["Data.Lens.Getter"],e=c["Data.Lens.Setter"],f=c["Data.StrMap"],g=c["WebAudio.BiquadFilter"],k=c["WebAudio.Oscillator"],l=c["Soundknot.UI.Timeline.Markup"],h=c["Soundknot.UI.Instrument.Types"],
q=c["WebAudio.Core"],r=c["Data.List"],m=c.Prelude,p=c["Unsafe.Coerce"],v=c["Data.Array"],t=c["Data.Foldable"],n=c["Data.Maybe"],C=c["Data.Monoid"],B=c["Data.Ord"],A=c["Data.String"],D=c["Control.Monad"],u=c["Control.Monad.Eff"],H=c["Control.Monad.Eff.Class"],w=c["Control.Monad.Eff.Console"],z=c["Control.Monad.Aff"],x=c["OpticUI.Markup.HTML"],L=c["OpticUI.Markup.SVG"],G=c["Soundknot.Types"],y=c["Soundknot.Classes"],I=c["Soundknot.Polyfill"],Q=c["Soundknot.UI.Components"],T=c["Soundknot.Update"],J=
c["Soundknot.Historical"],N=c["Soundknot.Lens"],F=c["Soundknot.Utils"],R=c.TypedArray,Y=c.WebMidi,M=c["Sound.AudioGraph.Core"],U=c.SoundFont,E=c["Data.Profunctor.Star"],O=c["Data.Const"],aa=c["Data.Profunctor.Strong"],Z=c["Control.Monad.Eff.Exception"],da=c["Data.Unfoldable"],V=function(a){a=J.runHistorical(a.project);return t.foldl(t.foldableArray)(function(a){return function(b){return B.max(m.ordInt)(a)(b.zIndex)}})(0)(a.nodes)};a.createEditorNode=function(a){return function(c){return function(B){return function(ga){return function(W){return function(K){var X=
J.runHistorical(c.project),ja=function(a){if(W instanceof n.Nothing)return m.pure(u.applicativeEff)(m.unit);if(W instanceof n.Just){var b={},c;for(c in X)X.hasOwnProperty(c)&&(b[c]=X[c]);b.nodes=n.maybe(X.nodes)(m.id(m.categoryFn))(v.updateAt(W.value0)(a)(X.nodes));return ga(b)}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[W.constructor.name]);},ba=function(){if(W instanceof n.Nothing)return m.pure(u.applicativeEff)(m.unit);if(W instanceof n.Just){var a=
J.runHistorical(c.project),b=n.maybe([])(m.id(m.categoryFn))(v.deleteAt(W.value0)(a.nodes)),d={},e;for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);d.nodes=b;return ga(d)}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[W.constructor.name]);}(),na=function(){if(W instanceof n.Nothing)return m.pure(u.applicativeEff)(m.unit);if(W instanceof n.Just){var a=v.modifyAt(W.value0)(function(a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.zIndex=V(c)+1|
0;b.dragging=!0;return b})(X.nodes),b=n.fromMaybe(X.nodes)(a);return B(function(){var a={},d;for(d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.transition=!1;d=J.record(G.eq_Project)(c.project);var e={},f;for(f in X)X.hasOwnProperty(f)&&(e[f]=X[f]);e.nodes=b;a.project=d(e);return a}())}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[W.constructor.name]);}(),ma=function(a){return function(b){var d={},e;for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);d.project=
J.record(G.eq_Project)(c.project)(X);d.connecting=new n.Just({port:{node:a,connector:b},mouse:n.Nothing.value});return B(d)}},ha=function(a){if(W instanceof n.Nothing)return m.pure(u.applicativeEff)(m.unit);if(W instanceof n.Just){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);d=J.overwrite(c.project);var e={},f;for(f in X)X.hasOwnProperty(f)&&(e[f]=X[f]);e.nodes=n.maybe(X.nodes)(m.id(m.categoryFn))(v.updateAt(W.value0)(a)(X.nodes));b.project=d(e);return B(b)}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+
[W.constructor.name]);},oa=function(){var J=function(a){return function(c){var d=b.view(c(E.strongStar(O.functorConst)))(K);return Q.rangeInput(d)(m["++"](m.semigroupArray)([x.onMouseDown(function(a){return ga(X)})])(a))(function(a){return ha(e.set(c(aa.strongFn))(a)(K))})(function(a){return ja(e.set(c(aa.strongFn))(a)(K))})}},I=function(a){return x.div([y["classA'"](y.destinationContent)])(d.text(a+":"))},V=function(a){return function(c){return function(f){return function(f){return function(g){return function(h){var k=
b.view(h(E.strongStar(O.functorConst)))(K);return x.tr([])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.th([])(I(f)),x.th([])(Q.dropDownList(a)(c)(g)(k)([])(function(a){return ja(e.set(h(aa.strongFn))(a)(K))}))]))}}}}}},ba=function(a){return function(c){return function(f){return function(g){return function(h){var k=b.view(h(E.strongStar(O.functorConst)))(K);return x.tr([])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.th([])(I(a)),x.th([])(Q.numberInput(k)([d.attr("min")(m.show(m.showNumber)(c)),
d.attr("max")(m.show(m.showNumber)(f)),d.attr("step")(m.show(m.showNumber)(g))])(function(a){return ja(e.set(h(aa.strongFn))(a)(K))}))]))}}}}},la=function(a){a=v.head(a);return a instanceof n.Just&&a.value0 instanceof q.ConstantValue?a.value0.value0:0};if(K.props instanceof G.DestinationFrame)return t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.destinationContent)])(d.text("Sample Rate:"+(F.toFixed(.001*a)(1)+"KHz"))),x.div([y["classA'"](y.destinationContent)])(d.text("Gain:"+
m.show(m.showNumber)(la(K.props.value0.gain)))),J([])(function(a){return function(b){return N.props(a)(N.destinationFrame(a)(N.gainConstantValue(a)(b)))}}),x.style([])(d.text(""))]);if(K.props instanceof G.GainFrame)return t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.destinationContent)])(d.text("Gain:"+m.show(m.showNumber)(la(K.props.value0.gain)))),J([d.attr("max")("5.0")])(function(a){return function(b){return N.props(a)(N.gainFrame(a)(N.gainConstantValue(a)(b)))}}),x.style([])(d.text(""))]);
if(K.props instanceof G.DelayFrame)return t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.destinationContent)])(d.text("Delay Time:"+m.show(m.showNumber)(la(K.props.value0.delayTime)))),J([])(function(a){return function(b){return N.props(a)(N.delayFrame(a)(N.delayConstantValue(a)(b)))}}),x.style([])(d.text(""))]);if(K.props instanceof G.AudioBufferFrame)return x.div([])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.viewFrameMenuBar)])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.btn),
x.onClick(function(a){return z.runAff(w.print(Z.showError))(m.pure(u.applicativeEff))(function(){if(c.driver instanceof n.Nothing)return m.pure(z.applicativeAff)(m.unit);if(c.driver instanceof n.Just)return m.bind(z.bindAff)(H.liftEff(z.monadEffAff)(M.getAudioGraphContext))(function(a){return m.bind(z.bindAff)(F.openFile)(function(a){return m.bind(z.bindAff)(H.liftEff(z.monadEffAff)(ja(e.set(function(a){return N.props(aa.strongFn)(N.audioBufferFrame(aa.strongFn)(a))})({file:new n.Just(a)})(K))))(function(){return T.loadAudioFile(c.driver.value0)(a)})})});
throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[c.driver.constructor.name]);}())})])(m["++"](d.markupSemigroup)(F.glyphicon("open"))(d.text("Open")))])),x.div([])(d.text("File: "+n.maybe("")(function(a){return p.unsafeCoerce(a).name})(K.props.value0.file))),x.div([])(d.text("Status: "+function(){if(K.props.value0.file instanceof n.Nothing)return"Empty";if(K.props.value0.file instanceof n.Just){var a=f.lookup(p.unsafeCoerce(K.props.value0.file.value0).name)(c.audioBuffers);
if(a instanceof n.Nothing)return"Decoding";if(a instanceof n.Just)return"Complete";throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[a.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[K.props.value0.file.constructor.name]);}()))]));if(K.props instanceof G.VideoFrame)return x.div([])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.viewFrameMenuBar)])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.btn),
x.onClick(function(a){return z.runAff(w.print(Z.showError))(m.pure(u.applicativeEff))(m.bind(z.bindAff)(F.openFile)(function(a){return H.liftEff(z.monadEffAff)(function(){var b=R.createObjectURL(R.fileToBlob(a))();return ja(e.set(function(a){return N.props(aa.strongFn)(N.videoFrame(aa.strongFn)(a))})(n.Just.create(new G.FileSource(a,b)))(K))()})}))})])(m["++"](d.markupSemigroup)(F.glyphicon("open"))(d.text("Open"))),x.div([x.classA("fileName")])(d.text(function(){if(K.props.value0 instanceof n.Nothing)return"";
if(K.props.value0 instanceof n.Just&&K.props.value0.value0 instanceof G.FileSource)return p.unsafeCoerce(K.props.value0.value0.value0).name;if(K.props.value0 instanceof n.Just&&K.props.value0.value0 instanceof G.URLMediaSource)return K.props.value0.value0.value0;throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[K.props.value0.constructor.name]);}()))])),x.div([y["classA'"](y.destinationContent)])(x.video([d.attr("src")(function(){if(K.props.value0 instanceof
n.Just&&K.props.value0.value0 instanceof G.URLMediaSource)return K.props.value0.value0.value0;if(K.props.value0 instanceof n.Just&&K.props.value0.value0 instanceof G.FileSource)return K.props.value0.value0.value1;if(K.props.value0 instanceof n.Nothing)return"";throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[K.props.value0.constructor.name]);}()),d.attr("controls")(""),d.attr("id")(K.name)])(C.mempty(d.markupMonoid)))]));if(K.props instanceof G.StereoPannerFrame)return t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.destinationContent)])(d.text("Pan: "+
m.show(m.showNumber)(la(K.props.value0.pan)))),J([d.attr("min")("-1.0"),d.attr("max")("1.0")])(function(a){return function(b){return N.props(a)(N.stereoPannerFrame(a)(N.panConstantValue(a)(b)))}}),x.style([])(d.text(""))]);if(K.props instanceof G.ConvolverFrame)return x.div([x.styleA("width: 120px; height: 30px;")])(C.mempty(d.markupMonoid));if(K.props instanceof G.AnalyserFrame)return x.div([])(L.svg([x.classA("analyser"),x.styleA("width: 1024px; height: 256px;"),d.attr("xmlns")("http://www.w3.org/2000/svg"),
d.attr("data-name")(K.name+"-input")])(t.mconcat(t.foldableArray)(d.markupMonoid)([L.path([L.fillA("dimgrey"),y["classA'"](y.frequency)])(C.mempty(d.markupMonoid)),L.path([y["classA'"](y.timeDomain)])(C.mempty(d.markupMonoid))])));if(K.props instanceof G.ChannelSplitterFrame||K.props instanceof G.ChannelMergerFrame)return x.div([x.styleA("height: 150px;")])(C.mempty(d.markupMonoid));if(K.props instanceof G.DynamicsCompressorFrame)return t.mconcat(t.foldableArray)(d.markupMonoid)([ba("Threshold")(-100)(0)(1)(function(a){return function(b){return N.props(a)(N.dynamicsCompressorFrame(a)(N.threshold(a)(b)))}}),
ba("Knee")(0)(40)(1)(function(a){return function(b){return N.props(a)(N.dynamicsCompressorFrame(a)(N.knee(a)(b)))}}),ba("Ratio")(1)(20)(1)(function(a){return function(b){return N.props(a)(N.dynamicsCompressorFrame(a)(N.ratio(a)(b)))}}),ba("Reduction")(-20)(0)(1)(function(a){return function(b){return N.props(a)(N.dynamicsCompressorFrame(a)(N.reduction(a)(b)))}}),ba("Attack")(0)(1)(.001)(function(a){return function(b){return N.props(a)(N.dynamicsCompressorFrame(a)(N.attack(a)(b)))}}),ba("Release")(0)(1)(.001)(function(a){return function(b){return N.props(a)(N.dynamicsCompressorFrame(a)(N.release(a)(b)))}})]);
if(K.props instanceof G.BiquadFilterFrame)return x.table([])(t.mconcat(t.foldableArray)(d.markupMonoid)([V(g.eq_BiquadFilterType)(g.show_BiquadFilterType)(g.isForeign_BiquadFilterType)("Type")(g.enumBiquadFilterType)(function(a){return function(b){return N.props(a)(N.bilinearFilterFrame(a)(N["type'"](a)(b)))}}),ba("Frequency")(1)(5E3)(10)(function(a){return function(b){return N.props(a)(N.bilinearFilterFrame(a)(N.frequency(a)(b)))}}),ba("Detune")(-100)(100)(1)(function(a){return function(b){return N.props(a)(N.bilinearFilterFrame(a)(N.detune(a)(b)))}}),
ba("Q")(1E-4)(1E3)(10)(function(a){return function(b){return N.props(a)(N.bilinearFilterFrame(a)(N.q(a)(b)))}}),ba("Gain")(-40)(40)(1)(function(a){return function(b){return N.props(a)(N.bilinearFilterFrame(a)(N.gain(a)(b)))}})]));if(K.props instanceof G.WaveShaperFrame)return C.mempty(d.markupMonoid);if(K.props instanceof G.OscillatorFrame)return x.table([])(t.mconcat(t.foldableArray)(d.markupMonoid)([V(k.eq_OscillatorType)(k.show_OscillatorType)(k.isForeign_OscillatorType)("Type")(k.enumOscillatorType)(function(a){return function(b){return N.props(a)(N.oscillatorFrame(a)(N["type'"](a)(b)))}}),
ba("Frequency")(1)(5E3)(10)(function(a){return function(b){return N.props(a)(N.oscillatorFrame(a)(N.frequency(a)(b)))}}),ba("Detune")(-10)(10)(1)(function(a){return function(b){return N.props(a)(N.oscillatorFrame(a)(N.detune(a)(b)))}})]));if(K.props instanceof G.MediaStreamFrame)return x.div([])(t.mconcat(t.foldableArray)(d.markupMonoid)([m["++"](d.markupSemigroup)(d.text("Status: "))(F.glyphicon(n.maybe("remove")(m["const"]("ok"))(c.localMediaStream)))]));if(K.props instanceof G.KeyboardFrame)return x.div([x.classA("keyboard")])(t.foldMap(t.foldableArray)(d.markupMonoid)(function(a){return x.div([x.classA("key whiteKey"),
d.initializer("init-keyboard-"+K.name)(function(a){return z.runAff(w.print(Z.showError))(m.pure(u.applicativeEff))(function(){if(c.driver instanceof n.Nothing)return m.pure(z.applicativeAff)(m.unit);if(c.driver instanceof n.Just)return m.bind(z.bindAff)(D.when(z.monadAff)(!f.member("soundfont/sonatina-symphonic-orchestra/samples/grand-piano/piano-p-a1.mp3")(c.audioBuffers))(T.loadAudioFileByURL(c.driver.value0)("soundfont/sonatina-symphonic-orchestra/samples/grand-piano/piano-p-a1.mp3")))(function(){return m.pure(z.applicativeAff)(m.unit)});
throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[c.driver.constructor.name]);}())}),x.onMouseDown(function(b){return function(){ha(G.NodeState(function(){var b={},c;for(c in K)K.hasOwnProperty(c)&&(b[c]=K[c]);b.props=new G.KeyboardFrame({instrument:K.props.value0.instrument,notes:v.nub(m.eqInt)(v[":"](a)(K.props.value0.notes))});return b}()))();return m.unit}})])(C.mempty(d.markupMonoid))})(v[".."](0)(24)));if(K.props instanceof G.TimelineFrame)return l.renderTimelineFrame(a)(c)(B)(ga)(W)(K)(K.props.value0);
if(K.props instanceof G.InstrumentFrame)return J=A.drop(A.length(h.ssoDir)),x.div([x.styleA("width: 200px"),x.onMouseUp(function(a){return function(){var a=M.getAudioGraphContext(),b=q.currentTime(a)();return ha(G.NodeState(function(){var a={},c;for(c in K)K.hasOwnProperty(c)&&(a[c]=K[c]);c=G.InstrumentFrame;var d={},e;for(e in K.props.value0)K.props.value0.hasOwnProperty(e)&&(d[e]=K.props.value0[e]);d.notes=G.allNotesOff(b)(K.props.value0.notes);a.props=new c(d);return a}()))()}})])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([])(m["++"](d.markupSemigroup)(d.text("Instrument: "))(d.text(J(K.props.value0.instrument)))),
x.div([])(Q.textDropDownList(m.map(m.functorArray)(m["++"](m.semigroupString)(h.ssoDir))(h.sfzList))(J)(K.props.value0.instrument)([x.styleA("width: 100%")])(function(a){return function(){var b;if(c.driver instanceof n.Nothing)b=m.pure(u.applicativeEff)(m.unit);else if(c.driver instanceof n.Just)b=T.loadInstrument(T.soundfontDir+a)(c.driver.value0);else throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[c.driver.constructor.name]);b();ha(G.NodeState(function(){var b=
{},c;for(c in K)K.hasOwnProperty(c)&&(b[c]=K[c]);c=G.InstrumentFrame;var d={},e;for(e in K.props.value0)K.props.value0.hasOwnProperty(e)&&(d[e]=K.props.value0[e]);d.instrument=T.soundfontDir+a;d.notes=[];b.props=new c(d);return b}()))();return m.unit}})),x.div([x.styleA("display:flex; flex-direction:row; border:solid 1px grey; margin-top: 12px;")])(function(){var a=m["<$>"](n.functorMaybe)(U.flattenSFZ)(f.lookup(K.props.value0.instrument)(c.sfzMap));return t.foldMap(t.foldableArray)(d.markupMonoid)(function(b){var e=
t.any(t.foldableArray)(m.booleanAlgebraBoolean)(function(a){return a instanceof G.NoteOn&&b===a.value0?!0:!1})(K.props.value0.notes),f=n.fromMaybe(!1)(m.bind(n.bindMaybe)(a)(function(a){return m.bind(n.bindMaybe)(U.regionIndex(a)(b))(function(b){return m.bind(n.bindMaybe)(U.findBuffer(a)(h.ssoDir)(c.audioBuffers)(b))(function(){return m.pure(n.applicativeMaybe)(!0)})})})),g=n.fromMaybe(!1)(m.bind(n.bindMaybe)(a)(function(a){return m.pure(n.applicativeMaybe)(U.hasNote(a)(b))})),k="width:2px; height:8px; background-color:"+
function(){if(e)return"red";if(!e){if(f)return"white";if(!f){if(g)return"lightgrey";if(!g)return"dimgrey";throw Error("Failed pattern match: "+[g.constructor.name]);}throw Error("Failed pattern match: "+[f.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[e.constructor.name]);}();return x.div([x.styleA(k),x.onMouseDown(function(a){return function(){var a=M.getAudioGraphContext(),c=q.currentTime(a)();return ha(G.NodeState(function(){var a=
{},d;for(d in K)K.hasOwnProperty(d)&&(a[d]=K[d]);a.props=G.InstrumentFrame.create(n.fromMaybe(K.props.value0)(G.processMidiCommand(c)(144)(b)(70)(K.props.value0)));return a}()))()}})])(C.mempty(d.markupMonoid))})(v[".."](0)(127))}())]));if(K.props instanceof G.MidiInputFrame)return J=f.lookup(K.props.value0.port)(c.midiInputs),x.div([x.styleA("width: 200px")])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([])(m["++"](d.markupSemigroup)(d.text("Input: "))(Q.dropDownList(m.eqString)(m.showString)(m.map(m.functorArray)(Y.id)(r.fromList(da.unfoldableArray)(f.values(c.midiInputs))))(K.props.value0.port)([])(function(a){return m.pure(u.applicativeEff)(m.unit)}))),
x.div([])(m["++"](d.markupSemigroup)(d.text("Message: "))(d.text(m.show(m.showArray(m.showInt))(K.props.value0.message)))),x.div([])(m["++"](d.markupSemigroup)(d.text("Manifacturer: "))(d.text(n.maybe("")(Y.manufacturer)(J)))),x.div([])(m["++"](d.markupSemigroup)(d.text("Name: "))(d.text(n.maybe("")(Y.name)(J)))),x.div([])(m["++"](d.markupSemigroup)(d.text("Version: "))(d.text(n.maybe("")(Y.version)(J)))),x.div([])(m["++"](d.markupSemigroup)(d.text("State: "))(d.text(n.maybe("")(Y.state)(J))))]));
if(K.props instanceof G.WebMidiLinkFrame)return C.mempty(d.markupMonoid);throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[K.props.constructor.name]);}(),pa=function(a){return function(b){if(c.connecting instanceof n.Nothing)return F.nop(u.applicativeEff);if(c.connecting instanceof n.Just){var d=J.runHistorical(c.project);b=v[":"]({output:c.connecting.value0.port,input:{node:a,connector:b}})(d.edges);var e={},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=c[f]);
f=J.overwrite(c.project);var g={},h;for(h in d)d.hasOwnProperty(h)&&(g[h]=d[h]);g.edges=b;e.project=f(g);return B(e)}throw Error("Failed pattern match at Soundknot.UI.Node line 47, column 1 - line 48, column 1: "+[c.connecting.constructor.name]);}};return x.div([y["classA'"](y.wiringFrame),d.attr("data-node-id")(K.name),d.attr("data-node-type")(G.frameTypeToTitle(K.props)),d.key(K.name),x.styleA(A.joinWith("")(["opacity:",n.maybe("0.0")(m["const"]("1.0"))(W),";","left:",m.show(m.showNumber)(K.position.x),
"px;","top:",m.show(m.showNumber)(K.position.y),"px;"," z-index:",m.show(m.showInt)(K.zIndex),";"])),d.initializer("init-node")(function(a){return m.pure(u.applicativeEff)(m.unit)}),x.onDrop(function(a){return function(){I.preventDefault(a)();I.stopPropagation(a)();return m.unit}})])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.clippingPane)])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.titleBar),x.onMouseDown(function(a){return na})])(t.mconcat(t.foldableArray)(d.markupMonoid)([x.div([y["classA'"](y.titleText)])(t.mconcat(t.foldableArray)(d.markupMonoid)([F.glyphicon(G.iconName(K.props)),
d.text(G.frameTypeToTitle(K.props))])),x.div([y["classA'"](y.closeButton),x.onMouseDown(function(a){return I.stopPropagation(a)}),x.onClick(function(a){return ba})])(F.glyphicon("remove-sign"))])),x.div([y["classA'"](y.nodeContentPane),x.onMouseDown(function(a){return I.stopPropagation(a)})])(oa)])),t.mconcat(t.foldableArray)(d.markupMonoid)(F.withIndex(G.getInputPorts(K.name)(K.props))(function(a){return function(b){var c=K.name+("-"+b.name);return x.div([x.classA("connector inputConnector"),x.styleA("top:"+
(m.show(m.showInt)(40+(30*a|0)|0)+"px")),d.attr("data-type")(m.show(G.show_PortValue)(b.type)),d.attr("data-name")(c),x.onMouseDown(function(a){return function(){I.stopPropagation(a)();return I.preventDefault(a)()}}),x.onMouseUp(function(a){return pa(K.name)(c)}),d.attr("id")(c)])(C.mempty(d.markupMonoid))}})),t.mconcat(t.foldableArray)(d.markupMonoid)(F.withIndex(G.getOutputPorts(K.name)(K.props))(function(a){return function(b){var c=K.name+("-"+b.name);return x.div([x.classA("connector outputConnector"),
x.styleA("top:"+(m.show(m.showInt)(40+(30*a|0)|0)+"px")),d.attr("data-type")(m.show(G.show_PortValue)(b.type)),d.attr("data-name")(c),x.onMouseDown(function(a){return function(){I.stopPropagation(a)();I.preventDefault(a)();return ma(K.name)(c)()}}),x.onMouseMove(I.stopPropagation),d.attr("id")(c)])(C.mempty(d.markupMonoid))}}))]))}}}}}}})(c["Soundknot.UI.Node"]=c["Soundknot.UI.Node"]||{});(function(a){var d=c["Data.List"],b=c["OpticUI.Markup"],e=c["OpticUI.Core"],f=c["Soundknot.UI.Node"],g=c.Prelude,
k=c.Math,l=c["Data.Array"],h=c["Data.Foldable"],q=c["Data.Int"],r=c["Data.Maybe"],m=c["Data.Monoid"],p=c["Data.Nullable"],v=c["Data.Ord"],t=c["Data.String"],n=c["Control.Monad.Eff"],C=c["Control.Monad.Eff.Class"],B=c["Control.Monad.Eff.Console"],A=c["Control.Monad.Aff"],D=c["OpticUI.Markup.HTML"],u=c["OpticUI.Markup.SVG"],H=c["Soundknot.Linear"],w=c["Soundknot.Types"],z=c["Soundknot.Classes"],x=c["Soundknot.Polyfill"],L=c["Soundknot.Utils"],G=c["Soundknot.Update"],y=c["Soundknot.Historical"],I=c.TypedArray,
Q=c["Control.Monad.Eff.Exception"];a.appCanvas=function(a){return function(c){return function(N){var F=function(a){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.project=y.record(w.eq_Project)(c.project)(a);return N(b)},R=y.runHistorical(c.project),M=function(a){return h.foldl(h.foldableArray)(function(a){return function(b){return v.max(g.ordInt)(a)(b.zIndex)}})(0)(R.nodes)},O=function(){var a=L.toFixed(c.translation.y)(8),b=L.toFixed(c.translation.x)(8),d=L.toFixed(k.pow(w.scaleBase)(q.toNumber(c.scaleFactor)))(8);
return t.joinWith("")(["matrix(",d,", 0, 0,",d,", ",b,", ",a,")"])}(),U=function(a){return function(c){return function(d){return function(e){return u.line([D.classA("grid"),b.attr("x1")(g.show(g.showInt)(a)),b.attr("y1")(g.show(g.showInt)(c)),b.attr("x2")(g.show(g.showInt)(d)),b.attr("y2")(g.show(g.showInt)(e))])(m.mempty(b.markupMonoid))}}}},E=h.foldMap(h.foldableArray)(b.markupMonoid)(function(a){return g["++"](b.markupSemigroup)(U(-2400)(240*a|0)(2400)(240*a|0))(U(240*a|0)(-2400)(240*a|0)(2400))})(l[".."](-10)(10)),
ca=function(a){return function(d){return function(e){return u.path([D.classA("connection"),b.attr("stroke-linecap")("round"),b.key(d.connector+("."+function(){if(e instanceof r.Nothing)return"";if(e instanceof r.Just)return e.value0.connector;throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[e.constructor.name]);}())),b.attr("data-output")(d.connector),b.attr("data-input")(function(){if(e instanceof r.Nothing)return"";if(e instanceof r.Just)return e.value0.connector;
throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[e.constructor.name]);}()),D.onMouseDown(function(b){return function(){x.preventDefault(b)();if(a instanceof r.Nothing)return L.nop(n.applicativeEff)();if(a instanceof r.Just){var d=r.fromMaybe(R.edges)(l.deleteAt(a.value0)(R.edges)),e={},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=c[f]);f=y.record(w.eq_Project)(c.project);var g={},h;for(h in R)R.hasOwnProperty(h)&&(g[h]=R[h]);g.edges=d;e.project=f(g);e.connecting=
new r.Just({port:R.edges[a.value0].output,mouse:r.Just.create(L.clientPosition(b))});e.scrolling=r.Nothing.value;return N(e)()}throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[a.constructor.name]);}})])(m.mempty(b.markupMonoid))}}},aa=r.maybe([])(function(a){return[ca(r.Nothing.value)(a.port)(r.Nothing.value)]})(c.connecting),Z=l.sortBy(function(a){return function(b){return g.compare(g.ordString)(a.name)(b.name)}})(l.nubBy(function(a){return function(b){return g["=="](g.eqString)(a.name)(b.name)}})(g["++"](g.semigroupArray)(R.nodes)(h.foldMap(d.foldableList)(m.monoidArray)(function(a){return a.nodes})(g["++"](d.semigroupList)(d.take(2)(y.undoList(c.project)))(d.take(2)(y.redoList(c.project)))))));
return e.withView(D.div([z["classA'"](z.centerPane),D.onMouseDown(function(a){if(c.scrolling instanceof r.Nothing)return N(w.State(function(){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.scrolling=r.Just.create(L.clientPosition(a));return b}()));if(c.scrolling instanceof r.Just)return L.nop(n.applicativeEff);throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[c.scrolling.constructor.name]);}),D.onMouseMove(function(a){if(c.connecting instanceof
r.Nothing){if(c.scrolling instanceof r.Nothing)return L.nop(n.applicativeEff);if(c.scrolling instanceof r.Just){var b=k.pow(w.scaleBase)(q.toNumber(c.scaleFactor)),d=H["=-="](L.clientPosition(a))(c.scrolling.value0);return function(){var e=function(){var e={},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=c[f]);e.project=y.overwrite(c.project)(function(){var a={},c;for(c in R)R.hasOwnProperty(c)&&(a[c]=R[c]);a.nodes=g.map(g.functorArray)(function(a){if(a.dragging){var c={},e;for(e in a)a.hasOwnProperty(e)&&
(c[e]=a[e]);c.position=H["=+="](a.position)(H[".*="](1/b)(d));return c}if(!a.dragging)return a;throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[a.dragging.constructor.name]);})(R.nodes);return a}());e.scrolling=r.Just.create(L.clientPosition(a));e.translation=function(){var a=h.any(h.foldableArray)(g.booleanAlgebraBoolean)(function(a){return a.dragging})(R.nodes);if(a)return c.translation;if(!a)return H["=+="](c.translation)(d);throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[a.constructor.name]);}();return e}();return N(e)()}}throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[c.scrolling.constructor.name]);}if(c.connecting instanceof r.Just)return N(w.State(function(){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.connecting=r.Just.create(function(){var b={},d;for(d in c.connecting.value0)c.connecting.value0.hasOwnProperty(d)&&(b[d]=c.connecting.value0[d]);b.mouse=r.Just.create(L.clientPosition(a));return b}());
return b}()));throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[c.connecting.constructor.name]);}),D.onMouseUp(function(a){return N(function(){var a={},b;for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.project=y.overwrite(c.project)(function(){var a={},b;for(b in R)R.hasOwnProperty(b)&&(a[b]=R[b]);a.nodes=g.map(g.functorArray)(function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);b.dragging=!1;return b})(R.nodes);return a}());a.scrolling=
r.Nothing.value;a.connecting=r.Nothing.value;a.appendingNode=r.Nothing.value;return a}())}),D.onWheel(function(a){var b=k.pow(w.scaleBase)(q.toNumber(c.scaleFactor)),d=v.max(g.ordInt)(w.minScaleFactor)(v.min(g.ordInt)(w.maxScaleFactor)(c.scaleFactor+q.floor(L.signum(a.deltaY))|0)),e=k.pow(w.scaleBase)(q.toNumber(d));a=L.getOffset(a);var f={},h;for(h in c)c.hasOwnProperty(h)&&(f[h]=c[h]);f.scaleFactor=d;f.translation=H["=-="](a)(H[".*="](e/b)(H["=-="](a)(c.translation)));return N(f)}),D.onDragOver(function(a){return function(){x.stopPropagation(a)();
return x.preventDefault(a)()}}),D.onDrop(function(a){return function(){x.preventDefault(a)();x.stopPropagation(a)();var b=w.screenToWorld(c)(L.getOffset(a));(function(){if(c.appendingNode instanceof r.Nothing)return g.pure(n.applicativeEff)(g.unit);if(c.appendingNode instanceof r.Just)return function(){var a=L.now(),d=c.appendingNode.value0();return function(){var e=g["++"](g.semigroupArray)(R.nodes)([{name:g.show(g.showInt)(a),position:b,props:d,dragging:!1,zIndex:M(c)+1|0}]);return function(){var a=
{},b;for(b in R)R.hasOwnProperty(b)&&(a[b]=R[b]);a.nodes=e;F(a)();return d instanceof w.MediaStreamFrame?A.runAff(B.print(Q.showError))(g.pure(n.applicativeEff))(G.requestUserMedia(c))():g.unit}}()()};throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+[c.appendingNode.constructor.name]);})()();var d=p.toMaybe(L.getAudioFile(a));if(d instanceof r.Nothing)return L.nop(n.applicativeEff)();if(d instanceof r.Just)return A.runAff(B.print(Q.showError))(g.pure(n.applicativeEff))(g.bind(A.bindAff)(C.liftEff(A.monadEffAff)(function(){var a=
L.now(),e=I.createObjectURL(I.fileToBlob(d.value0))(),f={},h;for(h in c)c.hasOwnProperty(h)&&(f[h]=c[h]);h=y.record(w.eq_Project)(c.project);var k={},l;for(l in R)R.hasOwnProperty(l)&&(k[l]=R[l]);k.nodes=g["++"](g.semigroupArray)(R.nodes)([{name:g.show(g.showInt)(a),position:b,props:new w.VideoFrame(r.Just.create(new w.FileSource(d.value0,e))),dragging:!1,zIndex:M(c)+1|0}]);f.project=h(k);return N(f)()}))(function(){return g.pure(A.applicativeAff)(g.unit)}))();throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[d.constructor.name]);}})]))(h.mconcat(h.foldableArray)(e.uiMonoid(b.markupMonoid))([e.ui(u.svg([z["classA'"](z.svgCanvas),b.attr("xmlns")("http://www.w3.org/2000/svg")])(u.g([u.transformA(O)])(h.mconcat(h.foldableArray)(b.markupMonoid)(g["++"](g.semigroupArray)([E])(g["++"](g.semigroupArray)(function(a){return function(b){if(0===l.length(b))return[];if(g.otherwise)return g.map(g.functorArray)(function(c){return a(c)(b[c])})(l[".."](0)(l.length(b)-1));throw Error("Failed pattern match at Soundknot.UI.Canvas line 35, column 1 - line 36, column 1: "+
[a.constructor.name,b.constructor.name]);}}(function(a){return function(b){return ca(new r.Just(a))(b.output)(new r.Just(b.input))}})(R.edges))(aa)))))),e.withView(D.div([z["classA'"](z.transformPane),D.styleA("transform: "+O)]))(h.foldMap(h.foldableArray)(e.uiMonoid(b.markupMonoid))(function(b){return e.ui(f.createEditorNode(a)(c)(N)(F)(l.findIndex(function(a){return g["=="](g.eqString)(b.name)(a.name)})(R.nodes))(b))})(Z))]))}}}})(c["Soundknot.UI.Canvas"]=c["Soundknot.UI.Canvas"]||{});(function(a){function c(a){a.objectStoreNames.contains("projects")&&
a.deleteObjectStore("projects");a.createObjectStore("projects",{keyPath:"id"}).createIndex("id","id",{unique:!0})}var b=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB;a._getProjectNames=function(a){return function(f){return function(){var g=b.open("soundknot-projects",6);g.onsuccess=function(b){b=g.result;b.onerror=function(b){a(b)()};b=b.transaction(["projects"],"readwrite");b.onerror=function(b){a(b)()};var c=[],d=b.objectStore("projects").index("id").openCursor();
d.onsuccess=function(a){(a=d.result)?(c.push(a.value.id),a["continue"]()):f(c)()}};g.onupgradeneeded=function(a){c(g.result)}}}};a._saveProject=function(a){return function(f){return function(g){return function(k){return function(){f.id=a+"///"+(new Date).toLocaleString();var l=b.open("soundknot-projects",6);l.onerror=function(a){g(a)()};l.onsuccess=function(a){a=l.result;a.onerror=function(a){console.log("Error creating/accessing IndexedDB database: "+a.toString());g(a)()};a.transaction(["projects"],
"readwrite").objectStore("projects").put(f).onsuccess=function(){k(f.id)()}};l.onupgradeneeded=function(a){c(l.result)}}}}}};a._loadProject=function(a){return function(f){return function(g){return function(){var k=b.open("soundknot-projects",6);k.onerror=function(a){f(a)()};k.onsuccess=function(b){b=k.result;b.onerror=function(a){console.log("Error creating/accessing IndexedDB database: "+a.toSting());f(a)()};b=b.transaction(["projects"],"readonly").objectStore("projects").get(a);b.onsuccess=function(a){g(a.target.result)()};
b.onerror=function(a){f(a)()}};k.onupgradeneeded=function(a){c(k.result)}}}}};a._deleteProject=function(a){return function(f){return function(f){return function(){var k=b.open("soundknot-projects",6);k.onsuccess=function(b){b=k.result;b.onerror=function(a){console.log("Error creating/accessing IndexedDB database: "+a.toSting())};b.transaction(["projects"],"readwrite").objectStore("projects")["delete"](a);f({})()};k.onupgradeneeded=function(a){c(k.result)}}}}}})(c["Soundknot.Persistence"]=c["Soundknot.Persistence"]||
{});(function(a){a.createObjectURL=function(a){return URL.createObjectURL(a)}})(c["Soundknot.Serialize"]=c["Soundknot.Serialize"]||{});(function(a){var d=c["CSS.Color"],b=c["CSS.Selector"],e=c["CSS.Stylesheet"],f=c["CSS.String"],g=c["CSS.Geometry"],k=c["CSS.Size"],l=c["CSS.Background"],h=c["CSS.Border"],q=c["CSS.Transform"],r=c["CSS.Display"],m=c["CSS.Font"],p=c["CSS.Property"],v=c["Soundknot.UI.Timeline.Styles"],t=c["Unsafe.Coerce"],n=c.Prelude,C=c["Data.Maybe"],B=c["Data.String"],A=c["Control.Monad"],
D=c["Soundknot.Classes"],u=c["Soundknot.Css"],z=c["CSS.Render"],w=function(a){return function(b){return e.key(p.valString)(f.fromString(p.isStringKey)(a))(b)}},F=d.rgba(169)(169)(242)(t.unsafeCoerce(.3)),x=d.rgb(107)(107)(182),L=function(a){return function(b){return function(c){return function(d){return function(e){return function(f){return q.Transformation(p.value(p.valString)("matrix("+(B.joinWith(",")(n.map(n.functorArray)(n.show(n.showNumber))([a,b,c,d,e,f]))+")")))}}}}}},G=d.rgb(219)(217)(153),
y=function(a){return b.element("."+a)},I=d.rgb(197)(195)(147),Q=d.rgb(182)(107)(107);a.clazz=y;a["@"]=w;a.css=function(a){return function(c){return C.fromMaybe("***ERROR***")(z.renderedSheet(z.render(n.bind(e.bindStyleM)(e["?"](y(D.btn))(n.bind(e.bindStyleM)(g.padding(k.px(4))(k.px(24))(k.px(4))(k.px(24)))(function(){return n.bind(e.bindStyleM)(g.margin(k.px(4))(k.px(4))(k.px(4))(k.px(4)))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("text-align"))("center"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("transition-property"))("opacity"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("transition-duration"))("0.3s"))(function(){return e.key(p.valString)(f.fromString(p.isStringKey)("opacity"))("1.0")})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".icon.button"))(n.bind(e.bindStyleM)(g.margin(k.px(4))(k.px(4))(k.px(4))(k.px(4)))(function(){return n.bind(e.bindStyleM)(g.padding(k.px(8))(k.px(8))(k.px(4))(k.px(8)))(function(){return n.bind(e.bindStyleM)(l.backgroundColor(new d.Rgba(200,
200,200,1)))(function(){return n.bind(e.bindStyleM)(h.borderRadius(k.px(8))(k.px(8))(k.px(8))(k.px(8)))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("box-sizing"))("border-box"))(function(){return n.bind(e.bindStyleM)(g.width(k.px(36)))(function(){return g.height(k.px(36))})})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".icon.button:hover"))(q.transform(L(1.1)(0)(0)(1.1)(0)(0))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".icon.button:active"))(q.transform(L(1)(0)(0)(1)(0)(0))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("html, body, body > div"))(n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("-webkit-font-smoothing"))("antialiased"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("-moz-osx-font-smoothing"))("grayscale"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("text-rendering"))("optimizeLegibility"))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("flex-direction"))("column"))(function(){return n.bind(e.bindStyleM)(g.width(k.pct(100)))(function(){return n.bind(e.bindStyleM)(g.height(k.pct(100)))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("overflow"))("hidden"))(function(){return n.bind(e.bindStyleM)(g.margin(k.px(0))(k.px(0))(k.px(0))(k.px(0)))(function(){return n.bind(e.bindStyleM)(g.padding(k.px(0))(k.px(0))(k.px(0))(k.px(0)))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("user-select"))("none"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("-moz-user-select"))("none"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("-webkit-user-select"))("none"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("-ms-user-select"))("none"))(function(){return n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("cursor"))("default"))(function(){return e.key(p.valString)(f.fromString(p.isStringKey)("position"))("absolute")})})})})})})})})})})})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](b["##"](b.element("input"))([new b.AttrVal("type",
"number")]))(n.bind(e.bindStyleM)(g.width(k.em(5)))(function(){return e.key(p.valString)(f.fromString(p.isStringKey)("font-family"))("monospace")})))(function(){return n.bind(e.bindStyleM)(e["?"](b["##"](b.element("input"))([new b.AttrVal("type","range")]))(g.width(k.px(120))))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.groundLayer))(n.bind(e.bindStyleM)(g.width(k.pct(100)))(function(){return n.bind(e.bindStyleM)(g.height(k.pct(100)))(function(){return n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(g.left(k.pct(0)))(function(){return n.bind(e.bindStyleM)(g.right(k.pct(0)))(function(){var a=
n.bind(e.bindStyleM),b=e.key(p.valString)(f.fromString(p.isStringKey)("-webkit-filter")),d;if(c)d="blur(4px)";else{if(c)throw Error("Failed pattern match at Soundknot.Styles line 39, column 1 - line 40, column 1: "+[c.constructor.name]);d="none"}return a(b(d))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return e.key(p.valString)(f.fromString(p.isStringKey)("flex-direction"))("column")})})})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".radialGrad"))(n.bind(e.bindStyleM)(g.width(k.pct(100)))(function(){return n.bind(e.bindStyleM)(g.height(k.pct(100)))(function(){return n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(g.left(k.px(0)))(function(){return n.bind(e.bindStyleM)(g.top(k.px(0)))(function(){return e.key(p.valString)(f.fromString(p.isStringKey)("pointer-events"))("none")})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.bottomPane))(n.bind(e.bindStyleM)(e.key(p.valString)(f.fromString(p.isStringKey)("flex-grow"))("1.0"))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return e.key(p.valString)(f.fromString(p.isStringKey)("flex-direction"))("row")})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.leftPane))(n.bind(e.bindStyleM)(g.padding(k.px(16))(k.px(16))(k.px(16))(k.px(16)))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return u.flexDirection(u.column)})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".leftPane .btn:hover"))(q.transform(L(1)(0)(0)(1)(0)(-2))))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.centerPane))(n.bind(e.bindStyleM)(u.flexGrow(1))(function(){return n.bind(e.bindStyleM)(u.overflow(u.hidden))(function(){return r.position(r.relative)})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.svgCanvas))(n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(g.width(k.pct(100)))(function(){return n.bind(e.bindStyleM)(g.height(k.pct(100)))(function(){return n.bind(e.bindStyleM)(g.left(k.px(0)))(function(){return g.top(k.px(0))})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.transformPane))(w("transform-origin")("0 0")))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".topMenu > .btn"))(e.key(p.valString)(f.fromString(p.isStringKey)("margin-right"))("12px")))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".disabled"))(e.key(p.valString)(f.fromString(p.isStringKey)("opacity"))("0.4")))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.topMenu))(n.bind(e.bindStyleM)(g.padding(k.px(16))(k.px(16))(k.px(16))(k.px(16)))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return w("flex-shrink")("0")})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".topMenu .btn"))(g.width(k.px(120))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".topMenu .btn:hover"))(q.transform(L(1.05)(0)(0)(1.05)(0)(0))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".topMenu .btn:active"))(q.transform(L(.95)(0)(0)(.95)(0)(0))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("path.connection"))(n.bind(e.bindStyleM)(w("fill")("none"))(function(){return w("stroke-width")("6")})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectName))(n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(g.right(k.px(0)))(function(){return n.bind(e.bindStyleM)(g.bottom(k.px(0)))(function(){return n.bind(e.bindStyleM)(m.color(d.white))(function(){return n.bind(e.bindStyleM)(g.margin(k.px(8))(k.px(8))(k.px(8))(k.px(8)))(function(){return w("text-shadow")("0px 0px 8px black")})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".glyphicon"))(g.margin(k.px(4))(k.px(0))(k.px(4))(k.px(0))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("line.grid"))(n.bind(e.bindStyleM)(w("fill")("none"))(function(){return n.bind(e.bindStyleM)(w("stroke")("rgba(255, 255, 255, 0.4)"))(function(){return w("strokeWidth")("0.5")})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.wiringFrame))(n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return A.when(e.monadStyleM)(a)(n.bind(e.bindStyleM)(w("transition-property")("left, top, opacity"))(function(){return w("transition-duration")("0.3s")}))})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.clippingPane))(u.overflow(u.hidden)))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.titleBar))(n.bind(e.bindStyleM)(g.padding(k.px(5))(k.px(5))(k.px(5))(k.px(5)))(function(){return n.bind(e.bindStyleM)(w("text-align")("center"))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return w("align-items")("center")})})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.titleText))(n.bind(e.bindStyleM)(u.flexGrow(1))(function(){return n.bind(e.bindStyleM)(w("white-space")("nowrap"))(function(){return w("font-size")("small")})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.closeButton))(n.bind(e.bindStyleM)(w("opacity")("0.3"))(function(){return n.bind(e.bindStyleM)(r.position(r.relative))(function(){return g.top(k.px(1))})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".closeButton:hover"))(w("opacity")("1.0")))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.nodeContentPane))(g.padding(k.px(16))(k.px(16))(k.px(16))(k.px(16))))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.connector))(n.bind(e.bindStyleM)(g.width(k.px(16)))(function(){return n.bind(e.bindStyleM)(g.height(k.px(16)))(function(){return n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(g.left(k.px(-8)))(function(){return n.bind(e.bindStyleM)(g.top(k.px(64)))(function(){return n.bind(e.bindStyleM)(h.borderRadius(k.px(16))(k.px(16))(k.px(16))(k.px(16)))(function(){return h.border(h.solid)(k.px(1))(d.rgb(197)(195)(147))})})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.inputConnector))(g.left(k.px(-8))))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.outputConnector))(n.bind(e.bindStyleM)(w("left")("calc(100% - 8px)"))(function(){return n.bind(e.bindStyleM)(w("transition-property")("transform"))(function(){return w("transition-duration")("0.3s")})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".outputConnector:hover"))(q.transform(q.Transformation(p.value(p.valString)("matrix(1.4, 0, 0, 1.4, 0, 0)")))))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("[data-type=audio]"))(l.backgroundColor(G)))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("[data-type=buffer]"))(l.backgroundColor(Q)))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("[data-type=midi]"))(l.backgroundColor(x)))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.viewFrameMenuBar))(n.bind(e.bindStyleM)(r.display(r.flex))(function(){return n.bind(e.bindStyleM)(g.margin(k.px(0))(k.px(0))(k.px(0))(k.px(8)))(function(){return u.alignItems(t.unsafeCoerce(u.center))})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".fileName"))(n.bind(e.bindStyleM)(g.width(k.px(10)))(function(){return n.bind(e.bindStyleM)(u.flexGrow(1))(function(){return n.bind(e.bindStyleM)(w("text-overflow")("ellipsis"))(function(){return n.bind(e.bindStyleM)(w("overflow")("hidden"))(function(){return w("white-space")("nowrap")})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("video"))(n.bind(e.bindStyleM)(w("resize")("both"))(function(){return n.bind(e.bindStyleM)(u.overflow(u.hidden))(function(){return w("width")("400px")})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectListBackground))(n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(w("top")("0px"))(function(){return n.bind(e.bindStyleM)(w("left")("0px"))(function(){return n.bind(e.bindStyleM)(w("width")("100%"))(function(){return n.bind(e.bindStyleM)(w("height")("100%"))(function(){return n.bind(e.bindStyleM)(l.backgroundColor(d.rgba(0)(0)(0)(t.unsafeCoerce(.8))))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return n.bind(e.bindStyleM)(u.alignItems(t.unsafeCoerce(u.center)))(function(){return n.bind(e.bindStyleM)(u.justifyContent(u.center))(function(){return n.bind(e.bindStyleM)(u.flexDirection(u.column))(function(){return n.bind(e.bindStyleM)(w("transition-property")("opacity"))(function(){return n.bind(e.bindStyleM)(w("transition-duration")("0.3s"))(function(){var a=
n.bind(e.bindStyleM),b=w("opacity"),d;if(c)d="1.0";else{if(c)throw Error("Failed pattern match at Soundknot.Styles line 39, column 1 - line 40, column 1: "+[c.constructor.name]);d="0.0"}return a(b(d))(function(){var a=w("pointer-events"),b;if(c)b="auto";else{if(c)throw Error("Failed pattern match at Soundknot.Styles line 39, column 1 - line 40, column 1: "+[c.constructor.name]);b="none"}return a(b)})})})})})})})})})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectList))(n.bind(e.bindStyleM)(w("width")("640px"))(function(){return n.bind(e.bindStyleM)(w("height")("360px"))(function(){return n.bind(e.bindStyleM)(u.overflowY(u.scroll))(function(){return n.bind(e.bindStyleM)(h.border(h.solid)(k.px(1))(I))(function(){return n.bind(e.bindStyleM)(w("flex-direction")("column"))(function(){return r.position(r.relative)})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectEntry))(n.bind(e.bindStyleM)(w("margin")("8px"))(function(){return n.bind(e.bindStyleM)(r.display(r.flex))(function(){return n.bind(e.bindStyleM)(u.justifyContent(u.center))(function(){return n.bind(e.bindStyleM)(u.alignItems(t.unsafeCoerce(u.center)))(function(){return n.bind(e.bindStyleM)(u.alignSelf(t.unsafeCoerce(u.center)))(function(){return n.bind(e.bindStyleM)(h.border(h.solid)(k.px(1))(I))(function(){return n.bind(e.bindStyleM)(w("padding")("8px"))(function(){return n.bind(e.bindStyleM)(w("transition")("top"))(function(){return n.bind(e.bindStyleM)(w("transition-duration")("0.3s"))(function(){return n.bind(e.bindStyleM)(r.position(r.absolute))(function(){return n.bind(e.bindStyleM)(w("height")("22px"))(function(){return n.bind(e.bindStyleM)(w("left")("0px"))(function(){return w("right")("0px")})})})})})})})})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".projectEntry.selected"))(l.backgroundColor(F)))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".projectEntry:hover"))(n.bind(e.bindStyleM)(q.transform(L(1)(0)(0)(1)(0)(-2)))(function(){return u.boxShadow("0px 4px 16px 4px rgba(0, 0, 0, 0.2)")})))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectEntryLabel))(m.color(I)))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectOpenButtonList))(r.display(r.flex)))(function(){return n.bind(e.bindStyleM)(e["?"](y(D.projectOpenButton))(n.bind(e.bindStyleM)(h.border(h.solid)(k.px(1))(I))(function(){return n.bind(e.bindStyleM)(m.color(I))(function(){return n.bind(e.bindStyleM)(w("min-width")("60px"))(function(){return n.bind(e.bindStyleM)(u.textAlign(t.unsafeCoerce(u.center)))(function(){return n.bind(e.bindStyleM)(w("padding")("4px 48px 4px 48px"))(function(){return w("margin")("20px 20px 20px 20px")})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".projectOpenButton:hover"))(n.bind(e.bindStyleM)(q.transform(L(1.1)(0)(0)(1.1)(0)(0)))(function(){return l.backgroundColor(d.rgba(255)(255)(255)(t.unsafeCoerce(.2)))})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".projectOpenButton:active"))(n.bind(e.bindStyleM)(q.transform(L(1.05)(0)(0)(1.05)(0)(0)))(function(){return l.backgroundColor(d.rgba(255)(255)(255)(t.unsafeCoerce(.2)))})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)("tr"))(w("margin")("4px")))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".keyboard"))(n.bind(e.bindStyleM)(w("height")("40px"))(function(){return w("border-right")("solid 1px rgba(0, 0, 0, 0.4)")})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".keyboard > .key"))(n.bind(e.bindStyleM)(w("float")("left"))(function(){return n.bind(e.bindStyleM)(w("width")("8px"))(function(){return n.bind(e.bindStyleM)(w("height")("100%"))(function(){return n.bind(e.bindStyleM)(w("border")("solid 1px rgba(0, 0, 0, 0.4)"))(function(){return n.bind(e.bindStyleM)(w("border-right")("none"))(function(){return w("box-sizing")("border-box")})})})})})))(function(){return n.bind(e.bindStyleM)(e["?"](f.fromString(b.isStringSelector)(".keyboard > .whiteKey"))(w("background-color")("white")))(function(){return v.css(a)(c)})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})}))))}}})(c["Soundknot.Styles"]=
c["Soundknot.Styles"]||{});(function(a){var d=c["CSS.String"],b=c["CSS.Stylesheet"],e=c["CSS.Background"],f=c["CSS.Border"],g=c["CSS.Size"],k=c["CSS.Color"],l=c["CSS.Font"],h=c.Prelude,q=c["Data.Maybe"],r=c["Soundknot.Classes"],m=c["Soundknot.Css"],p=c["Soundknot.Styles"],v=c["CSS.Render"],t=c["CSS.Selector"],n=d.fromString(k.isStringColor)("#4F5956"),C=d.fromString(k.isStringColor)("#C5C393"),q=q.fromMaybe("***ERROR***")(v.renderedSheet(v.render(h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)("html, body, body > div"))(h.bind(b.bindStyleM)(e.backgroundColor(d.fromString(k.isStringColor)("#373F3D")))(function(){return p["@"]("font-family")("'Rosarivo', serif")})))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)("input:focus"))(f.border(f.solid)(g.px(1))(d.fromString(k.isStringColor)("#7BFFA4"))))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.topMenu))(e.backgroundColor(n)))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.leftPane))(e.backgroundColor(n)))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)(".leftPane .btn:hover"))(p["@"]("box-shadow")("0px 8px 1px 1px rgba(0,0,0,0.3);")))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.centerPane))(f.border(f.solid)(g.px(1))(k.grey)))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.clippingPane))(h.bind(b.bindStyleM)(f.border(f.solid)(g.px(1))(k.grey))(function(){return e.backgroundColor(k.white)})))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.btn))(h.bind(b.bindStyleM)(f.borderRadius(g.px(4))(g.px(4))(g.px(4))(g.px(4)))(function(){return h.bind(b.bindStyleM)(e.backgroundColor(d.fromString(k.isStringColor)("#F8FBE2")))(function(){return h.bind(b.bindStyleM)(l.color(d.fromString(k.isStringColor)("#38312D")))(function(){return p["@"]("box-shadow")("0px 0px 8px rgba(0, 0, 0, 0.5)")})})})))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)("select, option"))(h.bind(b.bindStyleM)(f.borderRadius(g.px(4))(g.px(4))(g.px(4))(g.px(4)))(function(){return h.bind(b.bindStyleM)(e.backgroundColor(d.fromString(k.isStringColor)("#F8FBE2")))(function(){return h.bind(b.bindStyleM)(l.color(d.fromString(k.isStringColor)("#38312D")))(function(){return h.bind(b.bindStyleM)(p["@"]("font-family")("'Rosarivo', serif"))(function(){return h.bind(b.bindStyleM)(p["@"]("font-size")("medium"))(function(){return m.textAlign(m.center)})})})})})))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)(".radialGrad"))(p["@"]("background")("-webkit-gradient(radial, center center, 400, center center, 1000, from(rgba(0, 0, 0, 0.0)), to(rgba(0, 0, 0, 0.35)))")))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.titleBar))(h.bind(b.bindStyleM)(p["@"]("letter-spacing")("0.1em"))(function(){return h.bind(b.bindStyleM)(p["@"]("text-shadow")("1px 1px 3px rgba(0, 0, 0, 0.5)"))(function(){return h.bind(b.bindStyleM)(e.backgroundColor(d.fromString(k.isStringColor)("#4B5662")))(function(){return l.color(d.fromString(k.isStringColor)("#F9FDBC"))})})})))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)(".titleBar:hover"))(e.backgroundColor(d.fromString(k.isStringColor)("#647281"))))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.centerPane))(p["@"]("box-shadow")("10px 10px 30px 10px rgba(0,0,0,0.3) inset;")))(function(){return h.bind(b.bindStyleM)(b["?"](p.clazz(r.clippingPane))(h.bind(b.bindStyleM)(e.backgroundColor(d.fromString(k.isStringColor)("#FAFAFA")))(function(){return h.bind(b.bindStyleM)(p["@"]("box-shadow")("8px 8px 16px 8px rgba(0, 0, 0, 0.2);"))(function(){return h.bind(b.bindStyleM)(f.borderRadius(g.px(8))(g.px(8))(g.px(8))(g.px(8)))(function(){return f.border(f.solid)(g.px(1))(C)})})})))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)("path.connection"))(p["@"]("stroke")("#848242")))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)("path.connection:hover"))(p["@"]("stroke")("#B3B168")))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)("path.timeDomain"))(h.bind(b.bindStyleM)(p["@"]("fill")("none"))(function(){return p["@"]("stroke")("#848242")})))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)(".timeline"))(p["@"]("box-shadow")("4px 4px 20px 4px rgba(0, 0, 0, 0.2) inset")))(function(){return h.bind(b.bindStyleM)(b["?"](d.fromString(t.isStringSelector)(".timeline .cursor"))(h.bind(b.bindStyleM)(p["@"]("box-shadow")("1px 1px 8px 1px rgba(0, 0, 0, 0.4)"))(function(){return h.pure(b.applicativeStyleM)(h.unit)})))(function(){return b["?"](d.fromString(t.isStringSelector)("svg.waveform"))(p["@"]("box-shadow")("2px 2px 12px 4px rgba(0, 0, 0, 0.2)"))})})})})})})})})})})})})})})})})})})}))));
a.retro=q})(c["Soundknot.Styles.Retro"]=c["Soundknot.Styles.Retro"]||{});(function(a){var d=c["Soundknot.Serialize"],b=c["WebAudio.Gain"],e=c["WebAudio.Delay"],f=c["WebAudio.Core"],g=c["WebAudio.Compressor"],k=c["WebAudio.Oscillator"],l=c["Soundknot.UI.Timeline.Types"],h=c["Soundknot.Styles.Retro"],q=c.Prelude,r=c["Data.Maybe"],m=c["Data.Either"],p=c["Data.Nullable"],v=c["Data.Foreign"],t=c["Data.Foreign.Class"],n=c["Data.Foreign.Null"],C=c["Data.Traversable"],B=c["Control.Alt"],A=c["WebAudio.BiquadFilter"],
D=c.TypedArray,u=c["Soundknot.Types"],z=c["Soundknot.Historical"],w=c["Data.Foreign.Index"],F=c["Control.Monad.Eff"],x=v.unsafeReadTagged("Object"),L=function(a){return q["<#>"](m.functorEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("pan")(a))(f.readAudioParams))(function(a){return{pan:a}})},G=v.unsafeReadTagged("File"),y=function(a){return B["<|>"](m.altEither)(B["<|>"](m.altEither)(q["<$>"](m.functorEither)(q["<$>"](q.functorFn)(r.Just.create)(u.URLMediaSource.create))(v.readString(a)))(q[">>="](m.bindEither)(G(a))(function(a){return m.Right.create(r.Just.create(new u.FileSource(a,
d.createObjectURL(D.fileToBlob(a)))))})))(new m.Right(r.Nothing.value))},I=function(a){return q["<#>"](m.functorEither)(q["<#>"](m.functorEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("file")(a))(n.readNull(G)))(n.runNull))(function(a){return{file:a}})};a.deserialize=function(a){var c=function(a){return q.bind(m.bindEither)(t.readProp(t.numberIsForeign)(w.indexString)("x")(a))(function(b){return q.bind(m.bindEither)(t.readProp(t.numberIsForeign)(w.indexString)("y")(a))(function(a){return q.pure(m.applicativeEither)({x:b,
y:a})})})},d=function(a){return q.bind(m.bindEither)(t.readProp(t.stringIsForeign)(w.indexString)("node")(a))(function(b){return q.bind(m.bindEither)(t.readProp(t.stringIsForeign)(w.indexString)("connector")(a))(function(a){return q.pure(m.applicativeEither)({node:b,connector:a})})})},f=function(a){return q.bind(m.bindEither)(t.readProp(t.stringIsForeign)(w.indexString)("name")(a))(function(d){return q.bind(m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("position")(a))(c))(function(c){return q.bind(m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("props")(a))(function(f){return q.bind(m.bindEither)(t.readProp(t.stringIsForeign)(w.indexString)("type")(a))(function(h){return q.bind(m.bindEither)(t.readProp(t.intIsForeign)(w.indexString)("zIndex")(a))(function(a){return q.bind(m.bindEither)(function(){return q["=="](q.eqString)(h)(u.destinationSymbol)?
q["<$>"](m.functorEither)(u.DestinationFrame.create)(b.readGainParams(f)):q["=="](q.eqString)(h)(u.gainSymbol)?q["<$>"](m.functorEither)(u.GainFrame.create)(b.readGainParams(f)):q["=="](q.eqString)(h)(u.delaySymbol)?q["<$>"](m.functorEither)(u.DelayFrame.create)(e.readDelayParams(f)):q["=="](q.eqString)(h)(u.audioBufferSymbol)?q["<$>"](m.functorEither)(u.AudioBufferFrame.create)(I(f)):q["=="](q.eqString)(h)(u.videoSymbol)?q["<$>"](m.functorEither)(u.VideoFrame.create)(y(f)):q["=="](q.eqString)(h)(u.stereoPannerSymbol)?
q["<$>"](m.functorEither)(u.StereoPannerFrame.create)(L(f)):q["=="](q.eqString)(h)(u.convolverSymbol)?q.pure(m.applicativeEither)(u.ConvolverFrame.value):q["=="](q.eqString)(h)(u.analyserSymbol)?q.pure(m.applicativeEither)(new u.AnalyserFrame({handler:function(a){return q.pure(F.applicativeEff)(q.unit)}})):q["=="](q.eqString)(h)(u.channelSplitterSymbol)?q.pure(m.applicativeEither)(u.ChannelSplitterFrame.value):q["=="](q.eqString)(h)(u.channelMergerSymbol)?q.pure(m.applicativeEither)(u.ChannelMergerFrame.value):
q["=="](q.eqString)(h)(u.dynamicsCompressorSymbol)?q["<$>"](m.functorEither)(u.DynamicsCompressorFrame.create)(g.readDynamicsCompressorParams(f)):q["=="](q.eqString)(h)(u.biquadFilterSymbol)?q["<$>"](m.functorEither)(u.BiquadFilterFrame.create)(A.foreignToBiquadFilterParams(f)):q["=="](q.eqString)(h)(u.waveShaperSymbol)?q.pure(m.applicativeEither)(new u.WaveShaperFrame({})):q["=="](q.eqString)(h)(u.oscillatorSymbol)?q["<$>"](m.functorEither)(u.OscillatorFrame.create)(k.foreignToOscillatorParams(f)):
q["=="](q.eqString)(h)(u.mediaStreamSymbol)?q.pure(m.applicativeEither)(u.MediaStreamFrame.value):q["=="](q.eqString)(h)(u.keyboardSymbol)?q["<$>"](m.functorEither)(function(a){return u.KeyboardFrame.create({instrument:a,notes:[]})})(v.readString(f)):q["=="](q.eqString)(h)(u.timelineSymbol)?q["<$>"](m.functorEither)(u.TimelineFrame.create)(l.readTimeline(f)):q["=="](q.eqString)(h)(u.instrumentSymbol)?q["<$>"](m.functorEither)(function(a){return u.InstrumentFrame.create({instrument:a,notes:[]})})(v.readString(f)):
q["=="](q.eqString)(h)(u.midiInputSymbol)?q["<$>"](m.functorEither)(function(a){return u.MidiInputFrame.create({port:a,message:[]})})(v.readString(f)):q["=="](q.eqString)(h)(u.webMidiLinkSymbol)?q.pure(m.applicativeEither)(u.WebMidiLinkFrame.value):new m.Left(new v.JSONError("Unknown symbol: "+h))}())(function(b){return q.pure(m.applicativeEither)({name:d,position:c,props:b,dragging:!1,zIndex:a})})})})})})})},n=function(a){return q.bind(m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("output")(a))(d))(function(b){return q.bind(m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("input")(a))(d))(function(a){return q.pure(m.applicativeEither)({output:b,
input:a})})})};return q.bind(m.bindEither)(t.readProp(t.stringIsForeign)(w.indexString)("projectName")(a))(function(b){return q.bind(m.bindEither)(t.readProp(t.intIsForeign)(w.indexString)("scaleFactor")(a))(function(d){return q.bind(m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("translation")(a))(c))(function(c){return q.bind(m.bindEither)(q[">>="](m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("nodes")(a))(v.readArray))(C.traverse(C.traversableArray)(m.applicativeEither)(f)))(function(e){return q.bind(m.bindEither)(q[">>="](m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("edges")(a))(v.readArray))(C.traverse(C.traversableArray)(m.applicativeEither)(n)))(function(f){return q.bind(m.bindEither)(q[">>="](m.bindEither)(t.readProp(t.foreignIsForeign)(w.indexString)("audioFiles")(a))(x))(function(a){return q.bind(m.bindEither)(q.pure(m.applicativeEither)(u.initialState(b)(h.retro)))(function(b){var g=
q.pure(m.applicativeEither),h={},k;for(k in b)b.hasOwnProperty(k)&&(h[k]=b[k]);h.scaleFactor=d;h.translation=c;h.project=z.historical({nodes:e,edges:f});h.audioFiles=a;return g(h)})})})})})})})};a.serialize=function(a){var c=function(a){if(a instanceof u.DestinationFrame||a instanceof u.GainFrame)return b.writeGainParams(a.value0);if(a instanceof u.DelayFrame)return e.writeDelayParams(a.value0);if(a instanceof u.AudioBufferFrame)return v.toForeign({file:p.toNullable(a.value0.file)});if(a instanceof
u.VideoFrame&&a.value0 instanceof r.Nothing)return v.toForeign(p.toNullable(r.Nothing.value));if(a instanceof u.VideoFrame&&a.value0 instanceof r.Just&&a.value0.value0 instanceof u.FileSource||a instanceof u.VideoFrame&&a.value0 instanceof r.Just&&a.value0.value0 instanceof u.URLMediaSource)return v.toForeign(a.value0.value0.value0);if(a instanceof u.StereoPannerFrame)return v.toForeign({pan:f.audioParamsToForeign(a.value0.pan)});if(a instanceof u.ConvolverFrame||a instanceof u.AnalyserFrame||a instanceof
u.ChannelSplitterFrame||a instanceof u.ChannelMergerFrame)return v.toForeign({});if(a instanceof u.DynamicsCompressorFrame)return g.writeDynamicsCompressorParams(a.value0);if(a instanceof u.BiquadFilterFrame)return A.biquadFilterParamsToForeign(a.value0);if(a instanceof u.WaveShaperFrame)return v.toForeign({});if(a instanceof u.OscillatorFrame)return v.toForeign(k.oscillatorParamsToForeign(a.value0));if(a instanceof u.MediaStreamFrame)return v.toForeign({});if(a instanceof u.TimelineFrame)return v.toForeign(a.value0);
if(a instanceof u.InstrumentFrame||a instanceof u.KeyboardFrame)return v.toForeign(a.value0.instrument);if(a instanceof u.MidiInputFrame)return v.toForeign(a.value0.port);if(a instanceof u.WebMidiLinkFrame)return v.toForeign({});throw Error("Failed pattern match at Soundknot.Serialize line 43, column 5 - line 45, column 5: "+[a.constructor.name]);},d=z.runHistorical(a.project);return v.toForeign({projectName:a.projectName,nodes:q.map(q.functorArray)(function(a){return{name:a.name,position:a.position,
type:u.frameTypeToTitle(a.props),props:c(a.props),zIndex:a.zIndex}})(d.nodes),edges:d.edges,scaleFactor:a.scaleFactor,translation:a.translation,audioFiles:a.audioFiles})}})(c["Soundknot.Serialize"]=c["Soundknot.Serialize"]||{});(function(a){var d=c["Soundknot.Persistence"],b=c.Prelude,e=c["Control.Monad.Aff"],f=c["Soundknot.Serialize"],g=e.makeAff(d._getProjectNames);a.deleteProject=function(a){return e.makeAff(d._deleteProject(a))};a.getProjectNames=g;a.loadProject=function(a){return b["<$>"](e.functorAff)(f.deserialize)(e.makeAff(d._loadProject(a)))};
a.saveProject=function(a){return function(b){return e.makeAff(d._saveProject(a)(f.serialize(b)))}}})(c["Soundknot.Persistence"]=c["Soundknot.Persistence"]||{});(function(a){var d=c["OpticUI.Markup"],b=c["OpticUI.Core"],e=c["Data.StrMap"],f=c.Prelude,g=c["Data.Array"],k=c["Data.Either"],l=c["Data.Foldable"],h=c["Data.Maybe"],q=c["Data.String"],r=c["Control.Monad.Eff"],m=c["Control.Monad.Eff.Class"],p=c["Control.Monad.Eff.Console"],v=c["Control.Monad.Aff"],t=c["Control.Monad.Rec.Class"],n=c["OpticUI.Markup.HTML"],
C=c["Soundknot.Types"],B=c["Soundknot.Classes"],A=c["Soundknot.Polyfill"],D=c["Soundknot.Persistence"],u=c["Soundknot.Historical"],z=c["Soundknot.Update"],w=c["Soundknot.Utils"],F=c["Data.Traversable"],x=c["Control.Monad.Eff.Exception"],L=c["Data.Foreign"];a.projectsUI=function(a){return function(c){var I=function(b){return f.bind(v.bindAff)(D.getProjectNames)(function(d){var e=m.liftEff(v.monadEffAff),h={},k;for(k in a)a.hasOwnProperty(k)&&(h[k]=a[k]);h.selectedProject=b;h.projectEntries=g[":"](C.NewProject.value)(f.map(f.functorArray)(C.ExistingProject.create)(d));
return e(c(h))})};return b.withView(n.div([B["classA'"](B.projectListBackground),n.onClick(function(b){b={};for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.projectListVisible=!1;return c(b)})]))(l.mconcat(l.foldableArray)(b.uiMonoid(d.markupMonoid))([b.withView(n.div([B["classA'"](B.projectList),n.onClick(function(a){return function(){A.stopPropagation(a)();return A.preventDefault(a)()}})]))(b.foreach(d.markupMonoid)(F.traversableArray)(function(e){return b["with"](function(g){return function(k){return b.ui(n.div([n.classA(B.runClassName(B.projectEntry)+
function(){var b=f["=="](h.eqMaybe(C.eq_ProjectEntrySelect))(new h.Just(g))(a.selectedProject);if(b)return" selected";if(!b)return"";throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[b.constructor.name]);}()),d.attr("style")("top: "+(f.show(f.showInt)(44*e|0)+"px")),d.key(function(){if(g instanceof C.NewProject)return"new";if(g instanceof C.ExistingProject)return g.value0;throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+
[g.constructor.name]);}()),n.onClick(function(b){b={};for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.selectedProject=new h.Just(g);return c(b)})])(n.div([B["classA'"](B.projectEntryLabel)])(d.text(q.replace("///")(" - ")(function(){if(g instanceof C.NewProject)return"( New )";if(g instanceof C.ExistingProject)return g.value0;throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[g.constructor.name]);}())))))}})})),b.withView(n.div([B["classA'"](B.projectOpenButtonList)]))(function(){var F=
function(a){return function(c){return function(e){return function(g){return b.ui(n.div([n.classA(B.runClassName(B.projectOpenButton)+function(){if(e)return"";if(!e)return" disabled";throw Error("Failed pattern match at Soundknot.UI.Projects line 54, column 17 - line 61, column 13: "+[e.constructor.name]);}()),n.onClick(function(a){return function(){A.stopPropagation(a)();A.preventDefault(a)();return g()}})])(f["++"](d.markupSemigroup)(w.glyphicon(c))(d.text(a))))}}}},P=l.mconcat(l.foldableArray)(b.uiMonoid(d.markupMonoid)),
J=F("Open")("open")(h.isJust(a.selectedProject))(function(){if(a.selectedProject instanceof h.Nothing)return f.pure(r.applicativeEff)(f.unit);if(a.selectedProject instanceof h.Just){if(a.selectedProject.value0 instanceof C.NewProject){var b=C.initialState("")(a.config.theme);return c(function(){var c={},d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.driver=a.driver;c.config=a.config;return c}())}if(a.selectedProject.value0 instanceof C.ExistingProject)return v.runAff(p.print(x.showError))(f.pure(r.applicativeEff))(f.bind(v.bindAff)(D.loadProject(a.selectedProject.value0.value0))(function(b){return m.liftEff(v.monadEffAff)(function(){if(b instanceof
k.Left)return p.log(f.show(L.showForeignError)(b.value0));if(b instanceof k.Right){var d=function(){var c={},d;for(d in b.value0)b.value0.hasOwnProperty(d)&&(c[d]=b.value0[d]);c.driver=a.driver;c.config=a.config;return c}();return function(){v.runAff(p.print(x.showError))(f.pure(r.applicativeEff))(function(){if(a.driver instanceof h.Nothing)return f.pure(v.applicativeAff)(f.unit);if(a.driver instanceof h.Just){var c=u.runHistorical(b.value0.project);return f.bind(v.bindAff)(l.for_(v.applicativeAff)(l.foldableArray)(c.nodes)(function(b){return b.props instanceof
C.AudioBufferFrame?h.maybe(f.pure(v.applicativeAff)(f.unit))(z.loadAudioFile(a.driver.value0))(b.props.value0.file):b.props instanceof C.InstrumentFrame?m.liftEff(v.monadEffAff)(z.loadInstrument(z.soundfontDir+b.props.value0.instrument)(a.driver.value0)):f.pure(v.applicativeAff)(f.unit)}))(function(){return l.for_(v.applicativeAff)(l.foldableArray)(e.keys(b.value0.audioFiles))(function(c){var d=e.lookup(c)(b.value0.audioFiles);if(d instanceof h.Nothing)return f.pure(v.applicativeAff)(f.unit);if(d instanceof
h.Just)return z.registerAudioBuffer(a.driver.value0)(d.value0)(c);throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[d.constructor.name]);})})}throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[a.driver.constructor.name]);}())();return c(d)()}}throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[b.constructor.name]);}())}));throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+
[a.selectedProject.value0.constructor.name]);}throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[a.selectedProject.constructor.name]);}()),N=F("Save")("save")(h.isJust(a.selectedProject))(v.runAff(p.print(x.showError))(f.pure(r.applicativeEff))(function(){if(a.selectedProject instanceof h.Just&&a.selectedProject.value0 instanceof C.NewProject)return f.bind(v.bindAff)(D.getProjectNames)(function(b){var c=g.catMaybes(f.map(f.functorArray)(function(a){return g.head(q.split("///")(a))})(b));
b=t.tailRec(function(a){var b="New Project "+f.show(f.showInt)(a),d=g.elemIndex(f.eqString)(b)(c);if(d instanceof h.Just)return new k.Left(a+1|0);if(d instanceof h.Nothing)return new k.Right(b);throw Error("Failed pattern match at Soundknot.UI.Projects line 115, column 33 - line 121, column 29: "+[d.constructor.name]);})(0);return f.bind(v.bindAff)(D.saveProject(b)(a))(function(a){return I(new h.Just(new C.ExistingProject(a)))})});if(a.selectedProject instanceof h.Just&&a.selectedProject.value0 instanceof
C.ExistingProject){var b=g.head(q.split("///")(a.selectedProject.value0.value0));if(b instanceof h.Nothing)return f.pure(v.applicativeAff)(f.unit);if(b instanceof h.Just)return f.bind(v.bindAff)(D.deleteProject(a.selectedProject.value0.value0))(function(){return f.bind(v.bindAff)(D.saveProject(b.value0)(a))(function(a){return I(new h.Just(new C.ExistingProject(a)))})});throw Error("Failed pattern match at Soundknot.UI.Projects line 28, column 1 - line 29, column 1: "+[b.constructor.name]);}return f.pure(v.applicativeAff)(f.unit)}())),
F=F("Delete")("remove"),M;M=a.selectedProject instanceof h.Just&&a.selectedProject.value0 instanceof C.ExistingProject?!0:!1;return P([J,N,F(M)(v.runAff(p.print(x.showError))(f.pure(r.applicativeEff))(function(){return a.selectedProject instanceof h.Just&&a.selectedProject.value0 instanceof C.ExistingProject?f.bind(v.bindAff)(D.deleteProject(a.selectedProject.value0.value0))(function(){return I(h.Nothing.value)}):f.pure(v.applicativeAff)(f.unit)}()))])}())]))}}})(c["Soundknot.UI.Projects"]=c["Soundknot.UI.Projects"]||
{});(function(a){var d=c["CSS.String"],b=c["CSS.Color"],e=c["CSS.Stylesheet"],f=c["CSS.Background"],g=c["CSS.Font"],k=c["CSS.Border"],l=c["CSS.Size"],h=c.Prelude,q=c["Data.Maybe"],r=c["Soundknot.Classes"],m=c["Soundknot.Css"],p=c["Soundknot.Styles"],v=c["CSS.Render"],t=c["CSS.Selector"],n=b.rgb(91)(84)(153),q=q.fromMaybe("***ERROR***")(v.renderedSheet(v.render(h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)("html, body, body > div"))(h.bind(e.bindStyleM)(f.backgroundColor(b.white))(function(){return h.bind(e.bindStyleM)(g.color(n))(function(){return p["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif')})})))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)("select, option"))(h.bind(e.bindStyleM)(p["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif'))(function(){return h.bind(e.bindStyleM)(f.backgroundColor(b.white))(function(){return h.bind(e.bindStyleM)(g.color(n))(function(){return h.bind(e.bindStyleM)(p["@"]("font-size")("medium"))(function(){return h.bind(e.bindStyleM)(m.textAlign(m.center))(function(){return k.border(k.solid)(l.px(1))(n)})})})})})))(function(){return h.bind(e.bindStyleM)(e["?"](p.clazz(r.centerPane))(k.border(k.solid)(l.px(1))(n)))(function(){return h.bind(e.bindStyleM)(e["?"](p.clazz(r.clippingPane))(h.bind(e.bindStyleM)(k.border(k.solid)(l.px(1))(n))(function(){return f.backgroundColor(b.white)})))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)(".btn"))(k.border(k.solid)(l.px(1))(n)))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)(".button"))(k.border(k.solid)(l.px(1))(n)))(function(){return h.bind(e.bindStyleM)(e["?"](p.clazz(r.topMenu))(f.backgroundColor(b.white)))(function(){return h.bind(e.bindStyleM)(e["?"](p.clazz(r.leftPane))(f.backgroundColor(b.white)))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)("line.grid"))(p["@"]("stroke")("rgb(91,84,153)")))(function(){return h.bind(e.bindStyleM)(e["?"](p.clazz(r.titleBar))(h.bind(e.bindStyleM)(g.color(n))(function(){return p["@"]("border-bottom")("solid 1px grey")})))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)(".titleBar:hover"))(f.backgroundColor(d.fromString(b.isStringColor)("#E7F0FC"))))(function(){return h.bind(e.bindStyleM)(e["?"](p.clazz(r.nodeContentPane))(p["@"]("padding")("16px")))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)("path.connection"))(p["@"]("stroke")("#D5D5D5")))(function(){return h.bind(e.bindStyleM)(e["?"](d.fromString(t.isStringSelector)("path.timeDomain"))(h.bind(e.bindStyleM)(p["@"]("fill")("none"))(function(){return p["@"]("stroke")("#848242")})))(function(){return e["?"](d.fromString(t.isStringSelector)(".timeline"))(k.border(k.solid)(l.px(1))(b.grey))})})})})})})})})})})})})})}))));
a.snowscape=q})(c["Soundknot.Styles.Snowscape"]=c["Soundknot.Styles.Snowscape"]||{});(function(a){var d=c["CSS.Stylesheet"],b=c["CSS.String"],e=c["CSS.Background"],f=c["CSS.Color"],g=c["CSS.Font"],k=c["CSS.Border"],l=c["CSS.Size"],h=c.Prelude,q=c["Soundknot.Classes"],r=c["Soundknot.Css"],m=c["Soundknot.Styles"],p=c["CSS.Render"],v=c["CSS.Selector"],p=c["Data.Maybe"].fromMaybe("***ERROR***")(p.renderedSheet(p.render(h.bind(d.bindStyleM)(d["?"](b.fromString(v.isStringSelector)("html, body, body > div"))(h.bind(d.bindStyleM)(e.backgroundColor(f.black))(function(){return h.bind(d.bindStyleM)(g.color(f.white))(function(){return m["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif')})})))(function(){return h.bind(d.bindStyleM)(d["?"](b.fromString(v.isStringSelector)("select, option, input"))(h.bind(d.bindStyleM)(m["@"]("font-family")('"\u6e38\u30b4\u30b7\u30c3\u30af\u4f53", "Yu Gothic", YuGothic, Meiryo, sans-serif'))(function(){return h.bind(d.bindStyleM)(e.backgroundColor(f.black))(function(){return h.bind(d.bindStyleM)(g.color(f.white))(function(){return h.bind(d.bindStyleM)(m["@"]("font-size")("medium"))(function(){return h.bind(d.bindStyleM)(r.textAlign(r.center))(function(){return k.border(k.solid)(l.px(1))(f.white)})})})})})))(function(){return h.bind(d.bindStyleM)(d["?"](m.clazz(q.topMenu))(e.backgroundColor(f.black)))(function(){return h.bind(d.bindStyleM)(d["?"](m.clazz(q.leftPane))(e.backgroundColor(f.black)))(function(){return h.bind(d.bindStyleM)(d["?"](m.clazz(q.btn))(h.bind(d.bindStyleM)(e.backgroundColor(f.black))(function(){return h.bind(d.bindStyleM)(g.color(f.white))(function(){return k.border(k.solid)(l.px(1))(f.grey)})})))(function(){return h.bind(d.bindStyleM)(d["?"](m.clazz(q.titleBar))(h.bind(d.bindStyleM)(e.backgroundColor(b.fromString(f.isStringColor)("#525252")))(function(){return g.color(f.white)})))(function(){return h.bind(d.bindStyleM)(d["?"](b.fromString(v.isStringSelector)(".titleBar:hover"))(e.backgroundColor(b.fromString(f.isStringColor)("#959595"))))(function(){return h.bind(d.bindStyleM)(d["?"](m.clazz(q.centerPane))(k.border(k.solid)(l.px(1))(f.grey)))(function(){return h.bind(d.bindStyleM)(d["?"](m.clazz(q.clippingPane))(h.bind(d.bindStyleM)(k.border(k.solid)(l.px(1))(f.grey))(function(){return e.backgroundColor(f.black)})))(function(){return h.bind(d.bindStyleM)(d["?"](b.fromString(v.isStringSelector)("path.connection"))(m["@"]("stroke")("dimgrey")))(function(){return h.bind(d.bindStyleM)(d["?"](b.fromString(v.isStringSelector)("path.connection:hover"))(m["@"]("stroke")("grey")))(function(){return d["?"](b.fromString(v.isStringSelector)("path.timeDomain"))(h.bind(d.bindStyleM)(m["@"]("fill")("none"))(function(){return m["@"]("stroke")("white")}))})})})})})})})})})})}))));
a.midnight=p})(c["Soundknot.Styles.Midnight"]=c["Soundknot.Styles.Midnight"]||{});(function(a){var d=c["Soundknot.UI"],b=c["OpticUI.Core"],e=c["WebAudio.Oscillator"],f=c["OpticUI.Markup"],g=c["Data.Lens.Lens"],k=c["Soundknot.UI.Canvas"],l=c["Soundknot.UI.Projects"],h=c["Soundknot.Styles"],q=c["Soundknot.Styles.Retro"],r=c["Soundknot.Styles.Snowscape"],m=c["Soundknot.Styles.Midnight"],p=c.Prelude,v=c["Data.Array"],t=c["Data.Foldable"],n=c["Data.Maybe"],C=c["Data.Monoid"],B=c["Data.String"],A=c["Control.Monad.Eff"],
D=c["Control.Monad.Eff.Class"],u=c["Control.Monad.Eff.Console"],z=c["Control.Monad.Aff"],w=c["OpticUI.Markup.HTML"],F=c["Soundknot.Types"],x=c["Soundknot.Classes"],L=c["Soundknot.Polyfill"],G=c["Soundknot.Update"],y=c["Soundknot.Persistence"],I=c["Soundknot.Utils"],Q=c["Soundknot.Historical"],M=c["Soundknot.Lens"],J=c["Soundknot.UI.Timeline.Types"],N=c["Soundknot.UI.Components"],O=c["Browser.WebStorage"],R=c["Control.Monad.Eff.Exception"],Y=c["WebAudio.Core"],ea=c["WebAudio.BiquadFilter"],U=c["Data.Foreign.Class"],
E=function(a){return"retro"===a?q.retro:"snowscape"===a?r.snowscape:"midnight"===a?m.midnight:q.retro},ca=function(a){return function(c){return function(m){var q=m(function(){var a={},b;for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.transition=!0;a.project=Q.undo(c.project);return a}()),r=m(function(){var a={},b;for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.transition=!0;a.project=Q.redo(c.project);return a}());Q.runHistorical(c.project);var G=z.runAff(u.print(R.showError))(p.pure(A.applicativeEff))(p.bind(z.bindAff)(y.getProjectNames)(function(a){return D.liftEff(z.monadEffAff)(m(function(){var b=
{},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.projectEntries=v[":"](F.NewProject.value)(p.map(p.functorArray)(function(a){var b=B.split("///")(a);b=v.head(b);if(b instanceof n.Nothing)b="***ERROR***";else if(b instanceof n.Just)b=b.value0;else throw Error("Failed pattern match at Soundknot.UI line 42, column 1 - line 43, column 1: "+[b.constructor.name]);p["=="](p.eqString)(b)(c.projectName);return new F.ExistingProject(a)})(a));b.projectListVisible=!0;return b}()))})),S=function(a){return function(b){return w.div([x["classA'"](x.btn),
w.draggableA,w.onMouseDown(function(a){return function(){L.stopPropagation(a)();var d={},e;for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);d.appendingNode=n.Just.create(p.pure(A.applicativeEff)(b));return m(d)()}}),w.onDragStart(function(a){return function(){L.stopPropagation(a)();return L.setTransferData("text/plain")("")(a)()}})])(p["++"](f.markupSemigroup)(I.glyphicon(F.iconName(b)))(f.text(a)))}},ca=function(a){return w.styleA(function(){var b=a(c.project);if(b)return"";if(!b)return"opacity: 0.3;";
throw Error("Failed pattern match at Soundknot.UI line 42, column 1 - line 43, column 1: "+[b.constructor.name]);}())};m(function(){var a={},b;for(b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.displayAbout=!1;return a}());S=[S("Destination")(new F.DestinationFrame({gain:[new Y.ConstantValue(1)]})),S("Gain")(new F.GainFrame({gain:[new Y.ConstantValue(1)]})),S("Delay")(new F.DelayFrame({delayTime:[new Y.ConstantValue(0)]})),S("Buffer")(new F.AudioBufferFrame({file:n.Nothing.value})),S("Media")(new F.VideoFrame(n.Nothing.value)),
S("Panner")(new F.StereoPannerFrame({pan:[new Y.ConstantValue(0)]})),S("Convolver")(F.ConvolverFrame.value),S("Analyser")(new F.AnalyserFrame({handler:function(a){return p.pure(A.applicativeEff)(p.unit)}})),S("Splitter")(F.ChannelSplitterFrame.value),S("Merger")(F.ChannelMergerFrame.value),S("Compressor")(new F.DynamicsCompressorFrame({threshold:-24,knee:30,ratio:12,reduction:0,attack:.003,release:.25})),S("Filter")(new F.BiquadFilterFrame({type:ea.Lowpass.value,frequency:350,detune:0,q:1,gain:0})),
S("Oscillator")(new F.OscillatorFrame(e.initialOscillatorParams)),S("User Media")(F.MediaStreamFrame.value),S("Timeline")(new F.TimelineFrame(J.timelineInitialState)),S("Instrument")(new F.InstrumentFrame({instrument:"",notes:[]})),S("MIDI Input")(new F.MidiInputFrame({port:"0",message:[]})),S("WebMidiLink")(F.WebMidiLinkFrame.value)];return t.mconcat(t.foldableArray)(b.uiMonoid(f.markupMonoid))([b.withView(w.div([x["classA'"](x.groundLayer)]))(t.mconcat(t.foldableArray)(b.uiMonoid(f.markupMonoid))([b.withView(w.div([x["classA'"](x.topMenu)]))(t.mconcat(t.foldableArray)(b.uiMonoid(f.markupMonoid))([b.ui(w.div([x["classA'"](x.btn),
w.onClick(function(a){return G})])(t.mconcat(t.foldableArray)(f.markupMonoid)([I.glyphicon("download-alt"),f.text("File")]))),b.ui(w.div([w.classA("undo btn"),ca(Q.undoable),w.onClick(function(a){return q})])(t.mconcat(t.foldableArray)(f.markupMonoid)([I.glyphicon("circle-arrow-left"),f.text("Undo")]))),b.ui(w.div([x["classA'"](x.btn),ca(Q.redoable),w.onClick(function(a){return r})])(t.mconcat(t.foldableArray)(f.markupMonoid)([f.text("Redo"),I.glyphicon("circle-arrow-right")]))),b.ui(w.select([f.handle("change")(function(a){var b=
w.getProp(U.stringIsForeign)("value")(a);if(b instanceof n.Nothing)return p.pure(A.applicativeEff)(p.unit);if(b instanceof n.Just)return function(){O.setItem(O.storageLocalStorage)(O.localStorage)("theme")(b.value0)();var a={},d;for(d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);d={};for(var e in c.config)c.config.hasOwnProperty(e)&&(d[e]=c.config[e]);d.theme=b.value0;a.config=d;m(a)();return p.unit};throw Error("Failed pattern match at Soundknot.UI line 42, column 1 - line 43, column 1: "+[b.constructor.name]);
})])(t.foldMap(t.foldableArray)(f.markupMonoid)(function(a){return w.option(function(){var b=p["=="](p.eqString)(a)(c.config.theme);if(b)return[f.attr("selected")("")];if(!b)return[];throw Error("Failed pattern match at Soundknot.UI line 42, column 1 - line 43, column 1: "+[b.constructor.name]);}())(f.text(a))})(["retro","snowscape","midnight"]))),b.ui(w.div([w.styleA("width:30px;")])(C.mempty(f.markupMonoid))),function(){var a=F.maxScaleFactor-F.minScaleFactor;return b.ui(N.intRangeInput(c.scaleFactor-
F.minScaleFactor)([f.attr("max")(p.show(p.showInt)(a))])(function(a){if(c.driver instanceof n.Nothing)return p.pure(A.applicativeEff)(p.unit);if(c.driver instanceof n.Just){var b={},d;for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);b.scaleFactor=a+F.minScaleFactor|0;return m(b)}throw Error("Failed pattern match at Soundknot.UI line 42, column 1 - line 43, column 1: "+[c.driver.constructor.name]);})(function(a){return p.pure(A.applicativeEff)(p.unit)}))}(),b.ui(w.div([w.styleA("width:10px;flex-grow:1.0;")])(C.mempty(f.markupMonoid))),
b.ui(I.iconButton("question-sign")(d.showSplash))])),b.withView(w.div([x["classA'"](x.bottomPane)]))(t.mconcat(t.foldableArray)(b.uiMonoid(f.markupMonoid))([b.ui(w.div([x["classA'"](x.leftPane)])(t.mconcat(t.foldableArray)(f.markupMonoid)(S))),M.state(b.uiStrong)(g.lens(Q.runHistorical)(Q.overwrite)(b.uiStrong)(k.appCanvas(a)(c)(m))),b.ui(w.div([x["classA'"](x.projectName)])(f.text(function(){var a=p["=="](p.eqString)(c.projectName)("");if(a)return"(New Project)";if(!a)return c.projectName;throw Error("Failed pattern match at Soundknot.UI line 42, column 1 - line 43, column 1: "+
[a.constructor.name]);}())))]))])),b.ui(w.div([w.classA("radialGrad")])(C.mempty(f.markupMonoid))),M.projectEntries(b.uiStrong)(l.projectsUI(c)(m)),b.ui(w.style([])(f.text(h.css(c.transition)(c.projectListVisible)+E(c.config.theme))))])}}};a.application=function(a){return b["with"](function(b){return function(c){return ca(a)(b)(G.updateApplication(c))}})}})(c["Soundknot.UI"]=c["Soundknot.UI"]||{});(function(a){var d=c["Sound.AudioGraph.Core"],b=c["WebAudio.Core"],e=c["OpticUI.Run"],f=c["Soundknot.WebMidiLink"],
g=c["Data.StrMap"],k=c["Data.Foldable"],l=c.Prelude,h=c["Data.Maybe"],q=c["Data.Array"],r=c["Control.Monad.Eff"],m=c["Control.Monad.Eff.Class"],p=c["Control.Monad.Eff.Console"],v=c["Control.Monad.Aff"],t=c["Soundknot.Types"],n=c["Soundknot.UI"],C=c["Soundknot.Historical"],B=c["Soundknot.Update"],A=c["Browser.WebStorage"],D=c.WebMidi,u=c["Control.Monad.Eff.Exception"],z=function(a){return function(c){return function(d){return function(e){return function(){var f=b.currentTime(a)();return B.updateApplicationByDriver(c)(function(a){return l.pure(r.applicativeEff)(function(){var b=
C.runHistorical(a.project),c={},g;for(g in a)a.hasOwnProperty(g)&&(c[g]=a[g]);c.project=C.overwrite(a.project)(function(){var c={},g;for(g in b)b.hasOwnProperty(g)&&(c[g]=b[g]);c.nodes=l.map(l.functorArray)(function(b){var c={},g;for(g in b)b.hasOwnProperty(g)&&(c[g]=b[g]);c.props=function(){return b.props instanceof t.MidiInputFrame?new t.MidiInputFrame(function(){var a={},c;for(c in b.props.value0)b.props.value0.hasOwnProperty(c)&&(a[c]=b.props.value0[c]);a.message=d;return a}()):b.props instanceof
t.InstrumentFrame?t.InstrumentFrame.create(h.fromMaybe(b.props.value0)(l.bind(h.bindMaybe)(q.index(d)(0))(function(c){return l.bind(h.bindMaybe)(q.index(d)(1))(function(g){return l.bind(h.bindMaybe)(q.index(d)(2))(function(d){var n={node:b.name,connector:b.name+"-input"};return l.bind(h.bindMaybe)(l.pure(h.applicativeMaybe)(C.runHistorical(a.project)))(function(a){var m=q.filter(function(a){return l["=="](t.eq_Port)(a.input)(n)})(a.edges),m=q.concatMap(function(b){return q.filter(function(a){return l["=="](l.eqString)(a.name)(b.output.node)})(a.nodes)})(m),
m=k.foldr(k.foldableArray)(function(a){return function(b){return b||e(a)}})(!1)(m);if(!m)return h.Nothing.value;if(m)return t.processMidiCommand(f)(c)(g)(d)(b.props.value0);throw Error("Failed pattern match at Main line 87, column 1 - line 88, column 1: "+[m.constructor.name]);})})})}))):b.props}();return c})(b.nodes);return c}());return c}())})()}}}}},w=function(a){return function(b){return function(c){return l["void"](r.functorEff)(function(){var d=l[">>="](r.bindEff)(D.inputs(a))(D.maplikeToStrMap)();
c(function(a){var b=l.pure(r.applicativeEff),c={},e;for(e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);c.midiInputs=d;return b(c)})();return g.foldM(r.monadEff)(function(a){return function(a){return function(d){return D.onMidiMessage(function(d){var e=D.midiData(d);return function(){p.log("[midi] "+(a+(": "+l.show(l.showArray(l.showInt))(e))))();return z(b)(c)(e)(function(b){return b.props instanceof t.MidiInputFrame&&l["=="](l.eqString)(b.props.value0.port)(a)?!0:!1})()}})(d)}}})(l.unit)(d)()})}}},F=l["void"](r.functorEff)(function(){var a=
l["<$>"](r.functorEff)(h.fromMaybe("retro"))(A.getItem(A.storageLocalStorage)(A.localStorage)("theme"))(),c=d.getAudioGraphContext(),g=b.getAudioContextSampleRate(c)(),k=e.animate(t.initialState("")(a))(n.application(g))();return e.onLoad(function(){k(function(a){var b=l.pure(r.applicativeEff),c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.driver=new h.Just(k);return b(c)})();v.runAff(p.print(u.showError))(l.pure(r.applicativeEff))(l.bind(v.bindAff)(D.requestMIDIAccess)(function(a){return m.liftEff(v.monadEffAff)(function(){D.onStateChange(function(b){return w(a)(c)(k)})(a)();
return w(a)(c)(k)()})}))();return f.onWebMidiLink(function(a){return function(){p.log("[WebMidiLink] "+l.show(l.showArray(l.showInt))(a))();return z(c)(k)(a)(function(a){return a.props instanceof t.WebMidiLinkFrame?!0:!1})()}})()})()});a.main=F})(c.Main=c.Main||{});c.Main.main()}).call(O,z(1)(M))},function(M,O){M.exports=function(z){z.webpackPolyfill||(z.deprecate=function(){},z.paths=[],z.children=[],z.webpackPolyfill=1);return z}},function(M,O,z){O=z(3);M.exports=O},function(M,O,z){function F(g,
k){var l=k?k.document||c:c,h=k?k.warn:null;g=f(g).a;if(e(g))return g.init();if(b(g))return l.createTextNode(g.text);if(!d(g))return h&&h("Item is not a valid virtual dom node",g),null;l=null===g.namespace?l.createElement(g.tagName):l.createElementNS(g.namespace,g.tagName);a(l,g.properties);for(var h=g.children,q=0;q<h.length;q++){var r=F(h[q],k);r&&l.appendChild(r)}return l}var c=z(4),a=z(6),d=z(9),b=z(11),e=z(12),f=z(13);M.exports=F},function(M,O,z){(function(F){F="undefined"!==typeof F?F:"undefined"!==
typeof window?window:{};var c=z(5);if("undefined"!==typeof document)M.exports=document;else{var a=F["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=F["__GLOBAL_DOCUMENT_CACHE@4"]=c);M.exports=a}}).call(O,function(){return this}())},function(M,O){},function(M,O,z){function F(a,c,f,g){if(g)if(g=g[c],d(g))g.unhook&&g.unhook(a,c,f);else if("attributes"===c)for(var k in g)a.removeAttribute(k);else if("style"===c)for(var l in g)a.style[l]="";else a[c]="string"===typeof g?"":null}function c(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);
if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var a=z(7),d=z(8);M.exports=function(b,e,f){for(var g in e){var k=e[g];if(void 0===k)F(b,g,k,f);else if(d(k))F(b,g,k,f),k.hook&&k.hook(b,g,f?f[g]:void 0);else if(a(k)){var l=b,h=g,q=f?f[h]:void 0;if("attributes"===h)for(h in h=void 0,k)q=k[h],void 0===q?l.removeAttribute(h):l.setAttribute(h,q);else if(q&&a(q)&&c(q)!==c(k))l[h]=k;else{a(l[h])||(l[h]={});var q="style"===h?"":void 0,r=void 0;for(r in k){var m=k[r];l[h][r]=
void 0===m?q:m}}}else b[g]=k}}},function(M,O){M.exports=function(z){return"object"===typeof z&&null!==z}},function(M,O){M.exports=function(z){return z&&("function"===typeof z.hook&&!z.hasOwnProperty("hook")||"function"===typeof z.unhook&&!z.hasOwnProperty("unhook"))}},function(M,O,z){var F=z(10);M.exports=function(c){return c&&"VirtualNode"===c.type&&c.version===F}},function(M,O){M.exports="2"},function(M,O,z){var F=z(10);M.exports=function(c){return c&&"VirtualText"===c.type&&c.version===F}},function(M,
O){M.exports=function(z){return z&&"Widget"===z.type}},function(M,O,z){function F(b,f){var g=b.vnode;g||(g=b.vnode=b.render(f));if(!(c(g)||a(g)||d(g)))throw Error("thunk did not return a valid node");return g}var c=z(9),a=z(11),d=z(12),b=z(14);M.exports=function(a,c){var d=a,k=c;b(c)&&(k=F(c,a));b(a)&&(d=F(a,null));return{a:d,b:k}}},function(M,O){M.exports=function(z){return z&&"Thunk"===z.type}},function(M,O,z){O=z(16);M.exports=O},function(M,O,z){function F(a,b){var d={a:a};c(a,b,d,0);return d}
function c(k,n,p,B){if(k!==n){var A=p[B],D=!1;if(m(k)||m(n))d(k,n,p,B);else if(null==n)r(k)||(b(k,p,B),a(k,p,B),A=p[B]),A=g(A,new l(l.REMOVE,k,n));else if(h(n))if(h(k))if(k.tagName===n.tagName&&k.namespace===n.namespace&&k.key===n.key){var u=v(k.properties,n.properties);u&&(A=g(A,new l(l.PROPS,k,u)));var u=B,z=k.children;n=n.children;var w=f(n),F=w.keys,x=w.free;if(x.length===n.length)n={children:n,moves:null};else{var w=f(z),L=w.keys;if(w.free.length===z.length)n={children:n,moves:null};else{for(var w=
[],G=0,y=x.length,I=0,M=0;M<z.length;M++){var O=z[M];O.key?F.hasOwnProperty(O.key)?(O=F[O.key],w.push(n[O])):(I++,w.push(null)):G<y?(O=x[G++],w.push(n[O])):(I++,w.push(null))}x=G>=x.length?n.length:x[G];for(G=0;G<n.length;G++)y=n[G],y.key?L.hasOwnProperty(y.key)||w.push(y):G>=x&&w.push(y);L=w.slice();x=0;G=[];y=[];for(O=0;O<n.length;){for(var J=n[O],M=L[x];null===M&&L.length;)G.push(e(L,x,null)),M=L[x];M&&M.key===J.key?(x++,O++):J.key?(M&&M.key?F[M.key]!==O+1?(G.push(e(L,x,M.key)),(M=L[x])&&M.key===
J.key?x++:y.push({key:J.key,to:O})):y.push({key:J.key,to:O}):y.push({key:J.key,to:O}),O++):M&&M.key&&G.push(e(L,x,M.key))}for(;x<L.length;)M=L[x],G.push(e(L,x,M&&M.key));n=G.length!==I||y.length?{children:w,moves:{removes:G,inserts:y}}:{children:w,moves:null}}}F=n.children;w=z.length;I=F.length;w=w>I?w:I;for(I=0;I<w;I++)L=z[I],x=F[I],u+=1,L?c(L,x,p,u):x&&(A=g(A,new l(l.INSERT,null,x))),h(L)&&L.count&&(u+=L.count);n.moves&&(A=g(A,new l(l.ORDER,k,n.moves)))}else A=g(A,new l(l.VNODE,k,n)),D=!0;else A=
g(A,new l(l.VNODE,k,n)),D=!0;else q(n)?q(k)?k.text!==n.text&&(A=g(A,new l(l.VTEXT,k,n))):(A=g(A,new l(l.VTEXT,k,n)),D=!0):r(n)&&(r(k)||(D=!0),A=g(A,new l(l.WIDGET,k,n)));A&&(p[B]=A);D&&(b(k,p,B),a(k,p,B))}}function a(b,c,e){if(r(b))"function"===typeof b.destroy&&(c[e]=g(c[e],new l(l.REMOVE,b,null)));else if(h(b)&&(b.hasWidgets||b.hasThunks)){b=b.children;for(var f=b.length,k=0;k<f;k++){var p=b[k];e+=1;a(p,c,e);h(p)&&p.count&&(e+=p.count)}}else m(b)&&d(b,null,c,e)}function d(a,b,c,d){a=p(a,b);a=F(a.a,
a.b);var e;a:{for(e in a)if("a"!==e){e=!0;break a}e=!1}e&&(c[d]=new l(l.THUNK,null,a))}function b(a,c,e){if(h(a)){if(a.hooks){var f=c[e],k=l.PROPS,p=a.hooks,q={},r;for(r in p)q[r]=void 0;c[e]=g(f,new l(k,a,q))}if(a.descendantHooks||a.hasThunks)for(a=a.children,f=a.length,k=0;k<f;k++)p=a[k],e+=1,b(p,c,e),h(p)&&p.count&&(e+=p.count)}else m(a)&&d(a,null,c,e)}function e(a,b,c){a.splice(b,1);return{from:b,key:c}}function f(a){for(var b={},c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.key?b[f.key]=e:c.push(e)}return{keys:b,
free:c}}function g(a,b){return a?(k(a)?a.push(b):a=[a,b],a):b}var k=z(17),l=z(18),h=z(9),q=z(11),r=z(12),m=z(14),p=z(13),v=z(19);M.exports=F},function(M,O){function z(c){return"[object Array]"===F.call(c)}var F=Object.prototype.toString;M.exports=Array.isArray||z},function(M,O,z){function F(c,a,d){this.type=Number(c);this.vNode=a;this.patch=d}O=z(10);F.NONE=0;F.VTEXT=1;F.VNODE=2;F.WIDGET=3;F.PROPS=4;F.ORDER=5;F.INSERT=6;F.REMOVE=7;F.THUNK=8;M.exports=F;F.prototype.version=O;F.prototype.type="VirtualPatch"},
function(M,O,z){function F(b,e){var f,g;for(g in b){g in e||(f=f||{},f[g]=void 0);var k=b[g],l=e[g];if(k!==l)if(a(k)&&a(l))if(c(l)!==c(k))f=f||{},f[g]=l;else if(d(l))f=f||{},f[g]=l;else{if(k=F(k,l))f=f||{},f[g]=k}else f=f||{},f[g]=l}for(var h in e)h in b||(f=f||{},f[h]=e[h]);return f}function c(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var a=z(7),d=z(8);M.exports=F},function(M,O,z){O=z(21);M.exports=
O},function(M,O,z){function F(a,d,e){e=e||{};e.patch=e.patch&&e.patch!==F?e.patch:c;e.render=e.render||b;return e.patch(a,d,e)}function c(b,c,l){var h=[],q;for(q in c)"a"!==q&&h.push(Number(q));if(0===h.length)return b;q=e(b,c.a,h);var r=b.ownerDocument;l.document||r===a||(l.document=r);for(r=0;r<h.length;r++){var m=h[r];var p=q[m],m=c[m],v=l;if(p){var t=void 0;if(d(m))for(var n=0;n<m.length;n++)t=f(m[n],p,v),p===b&&(b=t);else t=f(m,p,v),p===b&&(b=t)}}return b}var a=z(4),d=z(17),b=z(3),e=z(22),f=
z(23);M.exports=F},function(M,O){function z(c,b,e,f,g){f=f||{};if(c){F(e,g,g)&&(f[g]=c);var k=b.children;if(k){c=c.childNodes;for(var l=0;l<b.children.length;l++){g+=1;var h=k[l]||a,q=g+(h.count||0);F(e,g,q)&&z(c[l],h,e,f,g);g=q}}}return f}function F(a,b,c){if(0===a.length)return!1;for(var f=0,g=a.length-1,k,l;f<=g;){k=(g+f)/2>>0;l=a[k];if(f===g)return l>=b&&l<=c;if(l<b)f=k+1;else if(l>c)g=k-1;else return!0}return!1}function c(a,b){return a>b?1:-1}var a={};M.exports=function(a,b,e,f){return e&&0!==
e.length?(e.sort(c),z(a,b,e,f,0)):{}}},function(M,O,z){function F(b,c){"function"===typeof c.destroy&&a(c)&&c.destroy(b)}var c=z(6),a=z(12),d=z(18),b=z(24);M.exports=function(a,f,g){var k=a.vNode,l=a.patch;switch(a.type){case d.REMOVE:return(l=f.parentNode)&&l.removeChild(f),F(f,k),null;case d.INSERT:return l=g.render(l,g),f&&f.appendChild(l),f;case d.VTEXT:return 3===f.nodeType?(f.replaceData(0,f.length,l.text),l=f):(k=f.parentNode,l=g.render(l,g),k&&l!==f&&k.replaceChild(l,f)),l;case d.WIDGET:return l=
(a=b(k,l))?l.update(k,f)||f:g.render(l,g),(g=f.parentNode)&&l!==f&&g.replaceChild(l,f),a||F(f,k),l;case d.VNODE:return k=f.parentNode,l=g.render(l,g),k&&l!==f&&k.replaceChild(l,f),l;case d.ORDER:k=f.childNodes;g={};for(var h,q=0;q<l.removes.length;q++)h=l.removes[q],a=k[h.from],h.key&&(g[h.key]=a),f.removeChild(a);for(var q=k.length,r=0;r<l.inserts.length;r++)h=l.inserts[r],a=g[h.key],f.insertBefore(a,h.to>=q++?null:k[h.to]);return f;case d.PROPS:return c(f,l,k.properties),f;case d.THUNK:return l=
g.patch(f,l,g),f&&l&&f!==l&&f.parentNode&&f.parentNode.replaceChild(l,f),l;default:return f}}},function(M,O,z){var F=z(12);M.exports=function(c,a){return F(c)&&F(a)?"name"in c&&"name"in a?c.id===a.id:c.init===a.init:!1}},function(M,O,z){function F(c){this.text=String(c)}O=z(10);M.exports=F;F.prototype.version=O;F.prototype.type="VirtualText"},function(M,O,z){function F(g,k,l,h,q){this.tagName=g;this.properties=k||e;this.children=l||f;this.key=null!=h?String(h):void 0;this.namespace="string"===typeof q?
q:null;g=l&&l.length||0;h=0;var r=q=!1,m=!1,p,v;for(v in k)if(k.hasOwnProperty(v)){var t=k[v];b(t)&&t.unhook&&(p||(p={}),p[v]=t)}for(k=0;k<g;k++)v=l[k],c(v)?(h+=v.count||0,!q&&v.hasWidgets&&(q=!0),!r&&v.hasThunks&&(r=!0),m||!v.hooks&&!v.descendantHooks||(m=!0)):!q&&a(v)?"function"===typeof v.destroy&&(q=!0):!r&&d(v)&&(r=!0);this.count=g+h;this.hasWidgets=q;this.hasThunks=r;this.hooks=p;this.descendantHooks=m}O=z(10);var c=z(9),a=z(12),d=z(14),b=z(8);M.exports=F;var e={},f=[];F.prototype.version=O;
F.prototype.type="VirtualNode"},function(M,O){function z(F){if(!(this instanceof z))return new z(F);this.value=F}M.exports=z;z.prototype.hook=function(z,c){z[c]!==this.value&&(z[c]=this.value)}}])});
